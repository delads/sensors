!function(_,V,j){var t;t=function(z){"use strict";var t,e,v,R,b,N,O,B,d,k,n,a,p,H,u,i,r,D,W,s,o,l,h,w,c,f,g,m,x,y,M={},S=0;t=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:j,normalRangeMax:j,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:j,chartRangeMax:j,chartRangeMinX:j,chartRangeMaxX:j,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:j,nullColor:j,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:j,chartRangeMin:j,chartRangeClip:!1,colorMap:j,tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:j,thresholdValue:0,chartRangeMax:j,chartRangeMin:j,chartRangeClip:!1,tooltipFormat:new v("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:j,tooltipFormat:new v("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new v('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:j,targetColor:"#4a2",chartRangeMax:j,chartRangeMin:j,tooltipFormat:new v("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},c='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',e=function(t){var e,n;return e=function(){this.init.apply(this,arguments)},1<arguments.length?(t?(e.prototype=z.extend(new t,arguments[arguments.length-1]),e._super=t.prototype):e.prototype=arguments[arguments.length-1],2<arguments.length&&((n=Array.prototype.slice.call(arguments,1,-1)).unshift(e.prototype),z.extend.apply(z,n))):e.prototype=t,e.prototype.cls=e},z.SPFormatClass=v=e({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(t,e){this.format=t,this.fclass=e},render:function(t,r,a){var o,s,l,h,u,c=this,f=t;return this.format.replace(this.fre,function(t,e,n,i){return s=e,l=i,(o=c.precre.exec(s))?(u=o[2],s=o[1]):u=!1,(h=f[s])===j?"":l&&r&&r[l]?r[l].get?r[l].get(h)||h:r[l][h]||h:(d(h)&&(h=a.get("numberFormatter")?a.get("numberFormatter")(h):p(h,u,a.get("numberDigitGroupCount"),a.get("numberDigitGroupSep"),a.get("numberDecimalMark"))),h)})}}),z.spformat=function(t,e){return new v(t,e)},R=function(t,e,n){return t<e?e:n<t?n:t},b=function(t,e){var n;return 2===e?(n=V.floor(t.length/2),t.length%2?t[n]:(t[n-1]+t[n])/2):t.length%2?(n=(t.length*e+e)/4)%1?(t[V.floor(n)]+t[V.floor(n)-1])/2:t[n-1]:(n=(t.length*e+2)/4)%1?(t[V.floor(n)]+t[V.floor(n)-1])/2:t[n-1]},N=function(t){var e;switch(t){case"undefined":t=j;break;case"null":t=null;break;case"true":t=!0;break;case"false":t=!1;break;default:t==(e=parseFloat(t))&&(t=e)}return t},O=function(t){var e,n=[];for(e=t.length;e--;)n[e]=N(t[e]);return n},B=function(t,e){var n,i,r=[];for(n=0,i=t.length;n<i;n++)t[n]!==e&&r.push(t[n]);return r},d=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},p=function(t,e,n,i,r){var a,o;for(t=(!1===e?parseFloat(t).toString():t.toFixed(e)).split(""),(a=(a=z.inArray(".",t))<0?t.length:a)<t.length&&(t[a]=r),o=a-n;0<o;o-=n)t.splice(o,0,i);return t.join("")},k=function(t,e,n){var i;for(i=e.length;i--;)if((!n||null!==e[i])&&e[i]!==t)return!1;return!0},a=function(t){return z.isArray(t)?t:[t]},n=function(t){var e,n;if(_.createStyleSheet)try{return void(_.createStyleSheet().cssText=t)}catch(i){n=!0}(e=_.createElement("style")).type="text/css",_.getElementsByTagName("head")[0].appendChild(e),n?_.styleSheets[_.styleSheets.length-1].cssText=t:e["string"==typeof _.body.style.WebkitAppearance?"innerText":"innerHTML"]=t},z.fn.simpledraw=function(t,e,n,i){var r,a;if(n&&(r=this.data("_jqs_vcanvas")))return r;if(!1===z.fn.sparkline.canvas)return!1;if(z.fn.sparkline.canvas===j){var o=_.createElement("canvas");if(o.getContext&&o.getContext("2d"))z.fn.sparkline.canvas=function(t,e,n,i){return new m(t,e,n,i)};else{if(!_.namespaces||_.namespaces.v)return z.fn.sparkline.canvas=!1;_.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),z.fn.sparkline.canvas=function(t,e,n){return new x(t,e,n)}}}return t===j&&(t=z(this).innerWidth()),e===j&&(e=z(this).innerHeight()),r=z.fn.sparkline.canvas(t,e,this,i),(a=z(this).data("_jqs_mhandler"))&&a.registerCanvas(r),r},z.fn.cleardraw=function(){var t=this.data("_jqs_vcanvas");t&&t.reset()},z.RangeMapClass=H=e({init:function(t){var e,n,i=[];for(e in t)t.hasOwnProperty(e)&&"string"==typeof e&&-1<e.indexOf(":")&&((n=e.split(":"))[0]=0===n[0].length?-Infinity:parseFloat(n[0]),n[1]=0===n[1].length?Infinity:parseFloat(n[1]),n[2]=t[e],i.push(n));this.map=t,this.rangelist=i||!1},get:function(t){var e,n,i,r=this.rangelist;if((i=this.map[t])!==j)return i;if(r)for(e=r.length;e--;)if((n=r[e])[0]<=t&&n[1]>=t)return n[2];return j}}),z.range_map=function(t){return new H(t)},u=e({init:function(t,e){var n=z(t);this.$el=n,this.options=e,this.currentPageX=0,this.currentPageY=0,this.el=t,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!e.get("disableTooltips"),this.highlightEnabled=!e.get("disableHighlight")},registerSparkline:function(t){this.splist.push(t),this.over&&this.updateDisplay()},registerCanvas:function(t){var e=z(t.canvas);this.canvas=t,(this.$canvas=e).mouseenter(z.proxy(this.mouseenter,this)),e.mouseleave(z.proxy(this.mouseleave,this)),e.click(z.proxy(this.mouseclick,this))},reset:function(t){this.splist=[],this.tooltip&&t&&(this.tooltip.remove(),this.tooltip=j)},mouseclick:function(t){var e=z.Event("sparklineClick");e.originalEvent=t,e.sparklines=this.splist,this.$el.trigger(e)},mouseenter:function(t){z(_.body).unbind("mousemove.jqs"),z(_.body).bind("mousemove.jqs",z.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new i(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){z(_.body).unbind("mousemove.jqs");var t,e=this.splist,n=e.length,i=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<n;t++)e[t].clearRegionHighlight()&&(i=!0);i&&this.canvas.render()},mousemove:function(t){this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,this.tooltip&&this.tooltip.updatePosition(t.pageX,t.pageY),this.updateDisplay()},updateDisplay:function(){var t,e,n,i,r=this.splist,a=r.length,o=!1,s=this.$canvas.offset(),l=this.currentPageX-s.left,h=this.currentPageY-s.top;if(this.over){for(e=0;e<a;e++)(n=r[e].setRegionHighlight(this.currentEl,l,h))&&(o=!0);if(o){if((i=z.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(i),this.tooltip){for(t="",e=0;e<a;e++)t+=r[e].getCurrentRegionTooltip();this.tooltip.setContent(t)}this.disableHighlight||this.canvas.render()}null===n&&this.mouseleave()}}}),i=e({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var e,n=t.get("tooltipClassname","jqstooltip"),i=this.sizeStyle;this.container=t.get("tooltipContainer")||_.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),z("#jqssizetip").remove(),z("#jqstooltip").remove(),this.sizetip=z("<div/>",{id:"jqssizetip",style:i,"class":n}),this.tooltip=z("<div/>",{id:"jqstooltip","class":n}).appendTo(this.container),e=this.tooltip.offset(),this.offsetLeft=e.left,this.offsetTop=e.top,this.hidden=!0,z(window).unbind("resize.jqs scroll.jqs"),z(window).bind("resize.jqs scroll.jqs",z.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=z(window).scrollTop(),this.scrollLeft=z(window).scrollLeft(),this.scrollRight=this.scrollLeft+z(window).width(),this.updatePosition()},getSize:function(t){this.sizetip.html(t).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(t){if(!t)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(t),this.tooltip.html(t).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(t,e){if(t===j){if(this.mousex===j)return;t=this.mousex-this.offsetLeft,e=this.mousey-this.offsetTop}else this.mousex=t-=this.offsetLeft,this.mousey=e-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e-=this.height+this.tooltipOffsetY,t+=this.tooltipOffsetX,e<this.scrollTop&&(e=this.scrollTop),t<this.scrollLeft?t=this.scrollLeft:t+this.width>this.scrollRight&&(t=this.scrollRight-this.width),this.tooltip.css({left:t,top:e}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=j,z(window).unbind("resize.jqs scroll.jqs")}}),z(function(){n(c)}),y=[],z.fn.sparkline=function(h,n){return this.each(function(){var t,e,s=new z.fn.sparkline.options(this,n),l=z(this);if(t=function(){var t,e,n,i,r,a,o;"html"===h||h===j?((o=this.getAttribute(s.get("tagValuesAttribute")))!==j&&null!==o||(o=l.html()),t=o.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):t=h,e="auto"===s.get("width")?t.length*s.get("defaultPixelsPerValue"):s.get("width"),"auto"===s.get("height")?s.get("composite")&&z.data(this,"_jqs_vcanvas")||((i=_.createElement("span")).innerHTML="a",l.html(i),n=z(i).innerHeight()||z(i).height(),z(i).remove(),i=null):n=s.get("height"),s.get("disableInteraction")?r=!1:(r=z.data(this,"_jqs_mhandler"))?s.get("composite")||r.reset():(r=new u(this,s),z.data(this,"_jqs_mhandler",r)),!s.get("composite")||z.data(this,"_jqs_vcanvas")?((a=new(z.fn.sparkline[s.get("type")])(this,t,s,e,n)).render(),r&&r.registerSparkline(a)):z.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),z.data(this,"_jqs_errnotify",!0))},z(this).html()&&!s.get("disableHiddenCheck")&&z(this).is(":hidden")||!z(this).parents("body").length){if(!s.get("composite")&&z.data(this,"_jqs_pending"))for(e=y.length;e;e--)y[e-1][0]==this&&y.splice(e-1,1);y.push([this,t]),z.data(this,"_jqs_pending",!0)}else t.call(this)})},z.fn.sparkline.defaults=t(),z.sparkline_display_visible=function(){var t,e,n,i=[];for(e=0,n=y.length;e<n;e++)t=y[e][0],z(t).is(":visible")&&!z(t).parents().is(":hidden")?(y[e][1].call(t),z.data(y[e][0],"_jqs_pending",!1),i.push(e)):z(t).closest("html").length||z.data(t,"_jqs_pending")||(z.data(y[e][0],"_jqs_pending",!1),i.push(e));for(e=i.length;e;e--)y.splice(i[e-1],1)},z.fn.sparkline.options=e({init:function(t,e){var n,i,r,a;this.userOptions=e=e||{},this.tag=t,this.tagValCache={},r=(i=z.fn.sparkline.defaults).common,this.tagOptionsPrefix=e.enableTagOptions&&(e.tagOptionsPrefix||r.tagOptionsPrefix),n=(a=this.getTagSetting("type"))===M?i[e.type||r.type]:i[a],this.mergedOptions=z.extend({},r,n,e)},getTagSetting:function(t){var e,n,i,r,a=this.tagOptionsPrefix;if(!1===a||a===j)return M;if(this.tagValCache.hasOwnProperty(t))e=this.tagValCache.key;else{if((e=this.tag.getAttribute(a+t))===j||null===e)e=M;else if("["===e.substr(0,1))for(n=(e=e.substr(1,e.length-2).split(",")).length;n--;)e[n]=N(e[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===e.substr(0,1))for(i=e.substr(1,e.length-2).split(","),e={},n=i.length;n--;)e[(r=i[n].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=N(r[1].replace(/(^\s*)|(\s*$)/g,""));else e=N(e);this.tagValCache.key=e}return e},get:function(t,e){var n,i=this.getTagSetting(t);return i!==M?i:(n=this.mergedOptions[t])===j?e:n}}),z.fn.sparkline._base=e({disabled:!1,init:function(t,e,n,i,r){this.el=t,this.$el=z(t),this.values=e,this.options=n,this.width=i,this.height=r,this.currentRegion=j},initTarget:function(){var t=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),t))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(){},setRegionHighlight:function(t,e,n){var i,r=this.currentRegion,a=!this.options.get("disableHighlight");return e>this.canvasWidth||n>this.canvasHeight||e<0||n<0?null:r!==(i=this.getRegion(t,e,n))&&(r!==j&&a&&this.removeHighlight(),(this.currentRegion=i)!==j&&a&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return this.currentRegion!==j&&(this.removeHighlight(),this.currentRegion=j,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t,e,n,i,r,a,o,s,l,h,u,c,f,d,p=this.options,g="",m=[];if(this.currentRegion===j)return"";if(t=this.getCurrentRegionFields(),u=p.get("tooltipFormatter"))return u(this,p,t);if(p.get("tooltipChartTitle")&&(g+='<div class="jqs jqstitle">'+p.get("tooltipChartTitle")+"</div>\n"),!(e=this.options.get("tooltipFormat")))return"";if(z.isArray(e)||(e=[e]),z.isArray(t)||(t=[t]),o=this.options.get("tooltipFormatFieldlist"),s=this.options.get("tooltipFormatFieldlistKey"),o&&s){for(l=[],a=t.length;a--;)h=t[a][s],-1!=(d=z.inArray(h,o))&&(l[d]=t[a]);t=l}for(n=e.length,f=t.length,a=0;a<n;a++)for("string"==typeof(c=e[a])&&(c=new v(c)),i=c.fclass||"jqsfield",d=0;d<f;d++)t[d].isNull&&p.get("tooltipSkipNull")||(z.extend(t[d],{prefix:p.get("tooltipPrefix"),suffix:p.get("tooltipSuffix")}),r=c.render(t[d],p.get("tooltipValueLookups"),p),m.push('<div class="'+i+'">'+r+"</div>"));return m.length?g+m.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(t,e){var n,i,r,a,o=e.get("highlightColor"),s=e.get("highlightLighten");if(o)return o;if(s&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(t)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(t))){for(r=[],i=4===t.length?16:1,a=0;a<3;a++)r[a]=R(V.round(parseInt(n[a+1],16)*i*s),0,255);return"rgb("+r.join(",")+")"}return t}}),r={changeHighlight:function(t){var e,n=this.currentRegion,i=this.target,r=this.regionShapes[n];r&&(e=this.renderRegion(n,t),z.isArray(e)||z.isArray(r)?(i.replaceWithShapes(r,e),this.regionShapes[n]=z.map(e,function(t){return t.id})):(i.replaceWithShape(r,e),this.regionShapes[n]=e.id))},render:function(){var t,e,n,i,r=this.values,a=this.target,o=this.regionShapes;if(this.cls._super.render.call(this)){for(n=r.length;n--;)if(t=this.renderRegion(n))if(z.isArray(t)){for(e=[],i=t.length;i--;)t[i].append(),e.push(t[i].id);o[n]=e}else t.append(),o[n]=t.id;else o[n]=null;a.render()}}},z.fn.sparkline.line=D=e(z.fn.sparkline._base,{type:"line",init:function(t,e,n,i,r){D._super.init.call(this,t,e,n,i,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(t,e){var n,i=this.regionMap;for(n=i.length;n--;)if(null!==i[n]&&e>=i[n][0]&&e<=i[n][1])return i[n][2];return j},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:null===this.yvalues[t],x:this.xvalues[t],y:this.yvalues[t],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:t}},renderHighlight:function(){var t,e,n=this.currentRegion,i=this.target,r=this.vertices[n],a=this.options,o=a.get("spotRadius"),s=a.get("highlightSpotColor"),l=a.get("highlightLineColor");r&&(o&&s&&(t=i.drawCircle(r[0],r[1],o,j,s),this.highlightSpotId=t.id,i.insertAfterShape(this.lastShapeId,t)),l&&(e=i.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,l),this.highlightLineId=e.id,i.insertAfterShape(this.lastShapeId,e)))},removeHighlight:function(){var t=this.target;this.highlightSpotId&&(t.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(t.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var t,e,n,i,r,a=this.values,o=a.length,s=this.xvalues,l=this.yvalues,h=this.yminmax;for(t=0;t<o;t++)e=a[t],n="string"==typeof a[t],i="object"==typeof a[t]&&a[t]instanceof Array,r=n&&a[t].split(":"),n&&2===r.length?(s.push(Number(r[0])),l.push(Number(r[1])),h.push(Number(r[1]))):i?(s.push(e[0]),l.push(e[1]),h.push(e[1])):(s.push(t),null===a[t]||"null"===a[t]?l.push(null):(l.push(Number(e)),h.push(Number(e))));this.options.get("xvalues")&&(s=this.options.get("xvalues")),this.maxy=this.maxyorg=V.max.apply(V,h),this.miny=this.minyorg=V.min.apply(V,h),this.maxx=V.max.apply(V,s),this.minx=V.min.apply(V,s),this.xvalues=s,this.yvalues=l,this.yminmax=h},processRangeOptions:function(){var t=this.options,e=t.get("normalRangeMin"),n=t.get("normalRangeMax");e!==j&&(e<this.miny&&(this.miny=e),n>this.maxy&&(this.maxy=n)),t.get("chartRangeMin")!==j&&(t.get("chartRangeClip")||t.get("chartRangeMin")<this.miny)&&(this.miny=t.get("chartRangeMin")),t.get("chartRangeMax")!==j&&(t.get("chartRangeClip")||t.get("chartRangeMax")>this.maxy)&&(this.maxy=t.get("chartRangeMax")),t.get("chartRangeMinX")!==j&&(t.get("chartRangeClipX")||t.get("chartRangeMinX")<this.minx)&&(this.minx=t.get("chartRangeMinX")),t.get("chartRangeMaxX")!==j&&(t.get("chartRangeClipX")||t.get("chartRangeMaxX")>this.maxx)&&(this.maxx=t.get("chartRangeMaxX"))},drawNormalRange:function(t,e,n,i,r){var a=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),s=e+V.round(n-n*((o-this.miny)/r)),l=V.round(n*(o-a)/r);this.target.drawRect(t,s,i,l,j,this.options.get("normalRangeColor")).append()},render:function(){var t,e,n,i,r,a,o,s,l,h,u,c,f,d,p,g,m,v,x,y,b,w,k,M,S=this.options,_=this.target,C=this.canvasWidth,A=this.canvasHeight,T=this.vertices,I=S.get("spotRadius"),P=this.regionMap;if(D._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),w=this.xvalues,k=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(i=r=0,t=this.maxx-this.minx==0?1:this.maxx-this.minx,e=this.maxy-this.miny==0?1:this.maxy-this.miny,n=this.yvalues.length-1,I&&(C<4*I||A<4*I)&&(I=0),I&&(((y=S.get("highlightSpotColor")&&!S.get("disableInteraction"))||S.get("minSpotColor")||S.get("spotColor")&&k[n]===this.miny)&&(A-=V.ceil(I)),(y||S.get("maxSpotColor")||S.get("spotColor")&&k[n]===this.maxy)&&(A-=V.ceil(I),i+=V.ceil(I)),(y||(S.get("minSpotColor")||S.get("maxSpotColor"))&&(k[0]===this.miny||k[0]===this.maxy))&&(r+=V.ceil(I),C-=V.ceil(I)),(y||S.get("spotColor")||S.get("minSpotColor")||S.get("maxSpotColor")&&(k[n]===this.miny||k[n]===this.maxy))&&(C-=V.ceil(I))),A--,S.get("normalRangeMin")===j||S.get("drawNormalOnTop")||this.drawNormalRange(r,i,A,C,e),s=[o=[]],f=d=null,p=k.length,M=0;M<p;M++)l=w[M],u=w[M+1],h=k[M],d=(c=r+V.round((l-this.minx)*(C/t)))+((M<p-1?r+V.round((u-this.minx)*(C/t)):C)-c)/2,P[M]=[f||0,d,M],f=d,null===h?M&&(null!==k[M-1]&&(o=[],s.push(o)),T.push(null)):(h<this.miny&&(h=this.miny),h>this.maxy&&(h=this.maxy),o.length||o.push([c,i+A]),a=[c,i+V.round(A-A*((h-this.miny)/e))],o.push(a),T.push(a));for(g=[],m=[],v=s.length,M=0;M<v;M++)(o=s[M]).length&&(S.get("fillColor")&&(o.push([o[o.length-1][0],i+A]),m.push(o.slice(0)),o.pop()),2<o.length&&(o[0]=[o[0][0],o[1][1]]),g.push(o));for(v=m.length,M=0;M<v;M++)_.drawShape(m[M],S.get("fillColor"),S.get("fillColor")).append();for(S.get("normalRangeMin")!==j&&S.get("drawNormalOnTop")&&this.drawNormalRange(r,i,A,C,e),v=g.length,M=0;M<v;M++)_.drawShape(g[M],S.get("lineColor"),j,S.get("lineWidth")).append();if(I&&S.get("valueSpots"))for((x=S.get("valueSpots")).get===j&&(x=new H(x)),M=0;M<p;M++)(b=x.get(k[M]))&&_.drawCircle(r+V.round((w[M]-this.minx)*(C/t)),i+V.round(A-A*((k[M]-this.miny)/e)),I,j,b).append();I&&S.get("spotColor")&&null!==k[n]&&_.drawCircle(r+V.round((w[w.length-1]-this.minx)*(C/t)),i+V.round(A-A*((k[n]-this.miny)/e)),I,j,S.get("spotColor")).append(),this.maxy!==this.minyorg&&(I&&S.get("minSpotColor")&&(l=w[z.inArray(this.minyorg,k)],_.drawCircle(r+V.round((l-this.minx)*(C/t)),i+V.round(A-A*((this.minyorg-this.miny)/e)),I,j,S.get("minSpotColor")).append()),I&&S.get("maxSpotColor")&&(l=w[z.inArray(this.maxyorg,k)],_.drawCircle(r+V.round((l-this.minx)*(C/t)),i+V.round(A-A*((this.maxyorg-this.miny)/e)),I,j,S.get("maxSpotColor")).append())),this.lastShapeId=_.getLastShapeId(),this.canvasTop=i,_.render()}}}),z.fn.sparkline.bar=W=e(z.fn.sparkline._base,r,{type:"bar",init:function(t,e,n,i,r){var a,o,s,l,h,u,c,f,d,p,g,m,v,x,y,b,w,k,M,S,_,C=parseInt(n.get("barWidth"),10),A=parseInt(n.get("barSpacing"),10),T=n.get("chartRangeMin"),I=n.get("chartRangeMax"),P=n.get("chartRangeClip"),D=Infinity,E=-Infinity;for(W._super.init.call(this,t,e,n,i,r),u=0,c=e.length;u<c;u++)((a="string"==typeof(S=e[u])&&-1<S.indexOf(":"))||z.isArray(S))&&(y=!0,a&&(S=e[u]=O(S.split(":"))),S=B(S,null),(o=V.min.apply(V,S))<D&&(D=o),E<(s=V.max.apply(V,S))&&(E=s));this.stacked=y,this.regionShapes={},this.barWidth=C,this.barSpacing=A,this.totalBarWidth=C+A,this.width=i=e.length*C+(e.length-1)*A,this.initTarget(),P&&(v=T===j?-Infinity:T,x=I===j?Infinity:I),h=[],l=y?[]:h;var F=[],L=[];for(u=0,c=e.length;u<c;u++)if(y)for(b=e[u],e[u]=M=[],F[u]=0,l[u]=L[u]=0,w=0,k=b.length;w<k;w++)null!==(S=M[w]=P?R(b[w],v,x):b[w])&&(0<S&&(F[u]+=S),D<0&&0<E?S<0?L[u]+=V.abs(S):l[u]+=S:l[u]+=V.abs(S-(S<0?E:D)),h.push(S));else S=P?R(e[u],v,x):e[u],null!==(S=e[u]=N(S))&&h.push(S);this.max=m=V.max.apply(V,h),this.min=g=V.min.apply(V,h),this.stackMax=E=y?V.max.apply(V,F):m,this.stackMin=D=y?V.min.apply(V,h):g,n.get("chartRangeMin")!==j&&(n.get("chartRangeClip")||n.get("chartRangeMin")<g)&&(g=n.get("chartRangeMin")),n.get("chartRangeMax")!==j&&(n.get("chartRangeClip")||n.get("chartRangeMax")>m)&&(m=n.get("chartRangeMax")),this.zeroAxis=d=n.get("zeroAxis",!0),p=g<=0&&0<=m&&d?0:0==d?g:0<g?g:m,this.xaxisOffset=p,f=y?V.max.apply(V,l)+V.max.apply(V,L):m-g,this.canvasHeightEf=d&&g<0?this.canvasHeight-2:this.canvasHeight-1,g<p?(_=((y&&0<=m?E:m)-p)/f*this.canvasHeight)!==V.ceil(_)&&(this.canvasHeightEf-=2,_=V.ceil(_)):_=this.canvasHeight,this.yoffset=_,z.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===j&&(this.colorMapByValue=new H(this.colorMapByValue))),this.range=f},getRegion:function(t,e){var n=V.floor(e/this.totalBarWidth);return n<0||n>=this.values.length?j:n},getCurrentRegionFields:function(){var t,e,n=this.currentRegion,i=a(this.values[n]),r=[];for(e=i.length;e--;)t=i[e],r.push({isNull:null===t,value:t,color:this.calcColor(e,t,n),offset:n});return r},calcColor:function(t,e,n){var i,r,a=this.colorMapByIndex,o=this.colorMapByValue,s=this.options;return i=this.stacked?s.get("stackedBarColor"):e<0?s.get("negBarColor"):s.get("barColor"),0===e&&s.get("zeroColor")!==j&&(i=s.get("zeroColor")),o&&(r=o.get(e))?i=r:a&&a.length>n&&(i=a[n]),z.isArray(i)?i[t%i.length]:i},renderRegion:function(t,e){var n,i,r,a,o,s,l,h,u,c,f=this.values[t],d=this.options,p=this.xaxisOffset,g=[],m=this.range,v=this.stacked,x=this.target,y=t*this.totalBarWidth,b=this.canvasHeightEf,w=this.yoffset;if(l=(f=z.isArray(f)?f:[f]).length,h=f[0],a=k(null,f),c=k(p,f,!0),a)return d.get("nullColor")?(r=e?d.get("nullColor"):this.calcHighlightColor(d.get("nullColor"),d),n=0<w?w-1:w,x.drawRect(y,n,this.barWidth-1,0,r,r)):j;for(o=w,s=0;s<l;s++){if(h=f[s],v&&h===p){if(!c||u)continue;u=!0}i=0<m?V.floor(b*(V.abs(h-p)/m))+1:1,h<p||h===p&&0===w?(n=o,o+=i):(n=w-i,w-=i),r=this.calcColor(s,h,t),e&&(r=this.calcHighlightColor(r,d)),g.push(x.drawRect(y,n,this.barWidth-1,i-1,r,r))}return 1===g.length?g[0]:g}}),z.fn.sparkline.tristate=s=e(z.fn.sparkline._base,r,{type:"tristate",init:function(t,e,n,i,r){var a=parseInt(n.get("barWidth"),10),o=parseInt(n.get("barSpacing"),10);s._super.init.call(this,t,e,n,i,r),this.regionShapes={},this.barWidth=a,this.barSpacing=o,this.totalBarWidth=a+o,this.values=z.map(e,Number),this.width=i=e.length*a+(e.length-1)*o,z.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===j&&(this.colorMapByValue=new H(this.colorMapByValue))),this.initTarget()},getRegion:function(t,e){return V.floor(e/this.totalBarWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===j,value:this.values[t],color:this.calcColor(this.values[t],t),offset:t}},calcColor:function(t,e){var n,i=this.values,r=this.options,a=this.colorMapByIndex,o=this.colorMapByValue;return o&&(n=o.get(t))?n:a&&a.length>e?a[e]:i[e]<0?r.get("negBarColor"):0<i[e]?r.get("posBarColor"):r.get("zeroBarColor")},renderRegion:function(t,e){var n,i,r,a,o,s,l=this.values,h=this.options,u=this.target;if(n=u.pixelHeight,r=V.round(n/2),a=t*this.totalBarWidth,l[t]<0?i=(o=r)-1:0<l[t]?(o=0,i=r-1):(o=r-1,i=2),null!==(s=this.calcColor(l[t],t)))return e&&(s=this.calcHighlightColor(s,h)),u.drawRect(a,o,this.barWidth-1,i-1,s,s)}}),z.fn.sparkline.discrete=o=e(z.fn.sparkline._base,r,{type:"discrete",init:function(t,e,n,i,r){o._super.init.call(this,t,e,n,i,r),this.regionShapes={},this.values=e=z.map(e,Number),this.min=V.min.apply(V,e),this.max=V.max.apply(V,e),this.range=this.max-this.min,this.width=i="auto"===n.get("width")?2*e.length:this.width,this.interval=V.floor(i/e.length),this.itemWidth=i/e.length,n.get("chartRangeMin")!==j&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.min)&&(this.min=n.get("chartRangeMin")),n.get("chartRangeMax")!==j&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.max)&&(this.max=n.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===n.get("lineHeight")?V.round(.3*this.canvasHeight):n.get("lineHeight"))},getRegion:function(t,e){return V.floor(e/this.itemWidth)},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===j,value:this.values[t],offset:t}},renderRegion:function(t,e){var n,i,r,a,o=this.values,s=this.options,l=this.min,h=this.max,u=this.range,c=this.interval,f=this.target,d=this.canvasHeight,p=this.lineHeight,g=d-p;return i=R(o[t],l,h),a=t*c,n=V.round(g-g*((i-l)/u)),r=s.get("thresholdColor")&&i<s.get("thresholdValue")?s.get("thresholdColor"):s.get("lineColor"),e&&(r=this.calcHighlightColor(r,s)),f.drawLine(a,n,a,n+p,r)}}),z.fn.sparkline.bullet=l=e(z.fn.sparkline._base,{type:"bullet",init:function(t,e,n,i,r){var a,o,s;l._super.init.call(this,t,e,n,i,r),this.values=e=O(e),(s=e.slice())[0]=null===s[0]?s[2]:s[0],s[1]=null===e[1]?s[2]:s[1],a=V.min.apply(V,e),o=V.max.apply(V,e),a=n.get("base")===j?a<0?a:0:n.get("base"),this.min=a,this.max=o,this.range=o-a,this.shapes={},this.valueShapes={},this.regiondata={},this.width=i="auto"===n.get("width")?"4.0em":i,this.target=this.$el.simpledraw(i,r,n.get("composite")),e.length||(this.disabled=!0),this.initTarget()},getRegion:function(t,e,n){var i=this.target.getShapeAt(t,e,n);return i!==j&&this.shapes[i]!==j?this.shapes[i]:j},getCurrentRegionFields:function(){var t=this.currentRegion;return{fieldkey:t.substr(0,1),value:this.values[t.substr(1)],region:t}},changeHighlight:function(t){var e,n=this.currentRegion,i=this.valueShapes[n];switch(delete this.shapes[i],n.substr(0,1)){case"r":e=this.renderRange(n.substr(1),t);break;case"p":e=this.renderPerformance(t);break;case"t":e=this.renderTarget(t)}this.valueShapes[n]=e.id,this.shapes[e.id]=n,this.target.replaceWithShape(i,e)},renderRange:function(t,e){var n=this.values[t],i=V.round(this.canvasWidth*((n-this.min)/this.range)),r=this.options.get("rangeColors")[t-2];return e&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,i-1,this.canvasHeight-1,r,r)},renderPerformance:function(t){var e=this.values[1],n=V.round(this.canvasWidth*((e-this.min)/this.range)),i=this.options.get("performanceColor");return t&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,V.round(.3*this.canvasHeight),n-1,V.round(.4*this.canvasHeight)-1,i,i)},renderTarget:function(t){var e=this.values[0],n=V.round(this.canvasWidth*((e-this.min)/this.range)-this.options.get("targetWidth")/2),i=V.round(.1*this.canvasHeight),r=this.canvasHeight-2*i,a=this.options.get("targetColor");return t&&(a=this.calcHighlightColor(a,this.options)),this.target.drawRect(n,i,this.options.get("targetWidth")-1,r-1,a,a)},render:function(){var t,e,n=this.values.length,i=this.target;if(l._super.render.call(this)){for(t=2;t<n;t++)e=this.renderRange(t).append(),this.shapes[e.id]="r"+t,this.valueShapes["r"+t]=e.id;null!==this.values[1]&&(e=this.renderPerformance().append(),this.shapes[e.id]="p1",this.valueShapes.p1=e.id),null!==this.values[0]&&(e=this.renderTarget().append(),this.shapes[e.id]="t0",this.valueShapes.t0=e.id),i.render()}}}),z.fn.sparkline.pie=h=e(z.fn.sparkline._base,{type:"pie",init:function(t,e,n,i,r){var a,o=0;if(h._super.init.call(this,t,e,n,i,r),this.shapes={},this.valueShapes={},this.values=e=z.map(e,Number),"auto"===n.get("width")&&(this.width=this.height),0<e.length)for(a=e.length;a--;)o+=e[a];this.total=o,this.initTarget(),this.radius=V.floor(V.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(t,e,n){var i=this.target.getShapeAt(t,e,n);return i!==j&&this.shapes[i]!==j?this.shapes[i]:j},getCurrentRegionFields:function(){var t=this.currentRegion;return{isNull:this.values[t]===j,value:this.values[t],percent:this.values[t]/this.total*100,color:this.options.get("sliceColors")[t%this.options.get("sliceColors").length],offset:t}},changeHighlight:function(t){var e=this.currentRegion,n=this.renderSlice(e,t),i=this.valueShapes[e];delete this.shapes[i],this.target.replaceWithShape(i,n),this.valueShapes[e]=n.id,this.shapes[n.id]=e},renderSlice:function(t,e){var n,i,r,a,o,s=this.target,l=this.options,h=this.radius,u=l.get("borderWidth"),c=l.get("offset"),f=2*V.PI,d=this.values,p=this.total,g=c?2*V.PI*(c/360):0;for(a=d.length,r=0;r<a;r++){if(i=n=g,0<p&&(i=g+f*(d[r]/p)),t===r)return o=l.get("sliceColors")[r%l.get("sliceColors").length],e&&(o=this.calcHighlightColor(o,l)),s.drawPieSlice(h,h,h-u,n,i,j,o);g=i}},render:function(){var t,e,n=this.target,i=this.values,r=this.options,a=this.radius,o=r.get("borderWidth"),s=r.get("donutWidth");if(h._super.render.call(this)){for(o&&n.drawCircle(a,a,V.floor(a-o/2),r.get("borderColor"),j,o).append(),e=i.length;e--;)i[e]&&(t=this.renderSlice(e).append(),this.valueShapes[e]=t.id,this.shapes[t.id]=e);s&&n.drawCircle(a,a,a-s,r.get("donutColor"),r.get("donutColor"),0).append(),n.render()}}}),z.fn.sparkline.box=w=e(z.fn.sparkline._base,{type:"box",init:function(t,e,n,i,r){w._super.init.call(this,t,e,n,i,r),this.values=z.map(e,Number),this.width="auto"===n.get("width")?"4.0em":i,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var t=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==j&&t.push({field:"lo",value:this.loutlier}),this.routlier!==j&&t.push({field:"ro",value:this.routlier}),this.lwhisker!==j&&t.push({field:"lw",value:this.lwhisker}),this.rwhisker!==j&&t.push({
field:"rw",value:this.rwhisker}),t},render:function(){var t,e,n,i,r,a,o,s,l,h,u,c=this.target,f=this.values,d=f.length,p=this.options,g=this.canvasWidth,m=this.canvasHeight,v=p.get("chartRangeMin")===j?V.min.apply(V,f):p.get("chartRangeMin"),x=p.get("chartRangeMax")===j?V.max.apply(V,f):p.get("chartRangeMax"),y=0;if(w._super.render.call(this)){if(p.get("raw"))p.get("showOutliers")&&5<f.length?(e=f[0],t=f[1],i=f[2],r=f[3],a=f[4],o=f[5],s=f[6]):(t=f[0],i=f[1],r=f[2],a=f[3],o=f[4]);else if(f.sort(function(t,e){return t-e}),i=b(f,1),r=b(f,2),n=(a=b(f,3))-i,p.get("showOutliers")){for(t=o=j,l=0;l<d;l++)t===j&&f[l]>i-n*p.get("outlierIQR")&&(t=f[l]),f[l]<a+n*p.get("outlierIQR")&&(o=f[l]);e=f[0],s=f[d-1]}else t=f[0],o=f[d-1];this.quartiles=[i,r,a],this.lwhisker=t,this.rwhisker=o,this.loutlier=e,this.routlier=s,u=g/(x-v+1),p.get("showOutliers")&&(y=V.ceil(p.get("spotRadius")),u=(g-=2*V.ceil(p.get("spotRadius")))/(x-v+1),e<t&&c.drawCircle((e-v)*u+y,m/2,p.get("spotRadius"),p.get("outlierLineColor"),p.get("outlierFillColor")).append(),o<s&&c.drawCircle((s-v)*u+y,m/2,p.get("spotRadius"),p.get("outlierLineColor"),p.get("outlierFillColor")).append()),c.drawRect(V.round((i-v)*u+y),V.round(.1*m),V.round((a-i)*u),V.round(.8*m),p.get("boxLineColor"),p.get("boxFillColor")).append(),c.drawLine(V.round((t-v)*u+y),V.round(m/2),V.round((i-v)*u+y),V.round(m/2),p.get("lineColor")).append(),c.drawLine(V.round((t-v)*u+y),V.round(m/4),V.round((t-v)*u+y),V.round(m-m/4),p.get("whiskerColor")).append(),c.drawLine(V.round((o-v)*u+y),V.round(m/2),V.round((a-v)*u+y),V.round(m/2),p.get("lineColor")).append(),c.drawLine(V.round((o-v)*u+y),V.round(m/4),V.round((o-v)*u+y),V.round(m-m/4),p.get("whiskerColor")).append(),c.drawLine(V.round((r-v)*u+y),V.round(.1*m),V.round((r-v)*u+y),V.round(.9*m),p.get("medianColor")).append(),p.get("target")&&(h=V.ceil(p.get("spotRadius")),c.drawLine(V.round((p.get("target")-v)*u+y),V.round(m/2-h),V.round((p.get("target")-v)*u+y),V.round(m/2+h),p.get("targetColor")).append(),c.drawLine(V.round((p.get("target")-v)*u+y-h),V.round(m/2),V.round((p.get("target")-v)*u+y+h),V.round(m/2),p.get("targetColor")).append()),c.render()}}}),f=e({init:function(t,e,n,i){this.target=t,this.id=e,this.type=n,this.args=i},append:function(){return this.target.appendShape(this),this}}),g=e({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,e,n){t&&(this.width=t,this.height=e,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),z.data(n,"_jqs_vcanvas",this))},drawLine:function(t,e,n,i,r,a){return this.drawShape([[t,e],[n,i]],r,a)},drawShape:function(t,e,n,i){return this._genShape("Shape",[t,e,n,i])},drawCircle:function(t,e,n,i,r,a){return this._genShape("Circle",[t,e,n,i,r,a])},drawPieSlice:function(t,e,n,i,r,a,o){return this._genShape("PieSlice",[t,e,n,i,r,a,o])},drawRect:function(t,e,n,i,r,a){return this._genShape("Rect",[t,e,n,i,r,a])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,e){z(e).html(t)},_calculatePixelDims:function(t,e,n){var i;i=this._pxregex.exec(e),this.pixelHeight=i?i[1]:z(n).height(),i=this._pxregex.exec(t),this.pixelWidth=i?i[1]:z(n).width()},_genShape:function(t,e){var n=S++;return e.unshift(n),new f(this,n,t,e)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),m=e(g,{init:function(t,e,n,i){m._super.init.call(this,t,e,n),this.canvas=_.createElement("canvas"),n[0]&&(n=n[0]),z.data(n,"_jqs_vcanvas",this),z(this.canvas).css({display:"inline-block",width:t,height:e,verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=i,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=j,z(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(t,e,n){var i=this.canvas.getContext("2d");return t!==j&&(i.strokeStyle=t),i.lineWidth=n===j?1:n,e!==j&&(i.fillStyle=e),i},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=j},_drawShape:function(t,e,n,i,r){var a,o,s=this._getContext(n,i,r);for(s.beginPath(),s.moveTo(e[0][0]+.5,e[0][1]+.5),a=1,o=e.length;a<o;a++)s.lineTo(e[a][0]+.5,e[a][1]+.5);n!==j&&s.stroke(),i!==j&&s.fill(),this.targetX!==j&&this.targetY!==j&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawCircle:function(t,e,n,i,r,a,o){var s=this._getContext(r,a,o);s.beginPath(),s.arc(e,n,i,0,2*V.PI,!1),this.targetX!==j&&this.targetY!==j&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t),r!==j&&s.stroke(),a!==j&&s.fill()},_drawPieSlice:function(t,e,n,i,r,a,o,s){var l=this._getContext(o,s);l.beginPath(),l.moveTo(e,n),l.arc(e,n,i,r,a,!1),l.lineTo(e,n),l.closePath(),o!==j&&l.stroke(),s&&l.fill(),this.targetX!==j&&this.targetY!==j&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=t)},_drawRect:function(t,e,n,i,r,a,o){return this._drawShape(t,[[e,n],[e+i,n],[e+i,n+r],[e,n+r],[e,n]],a,o)},appendShape:function(t){return this.shapes[t.id]=t,this.shapeseq.push(t.id),this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n,i=this.shapeseq;for(this.shapes[e.id]=e,n=i.length;n--;)i[n]==t&&(i[n]=e.id);delete this.shapes[t]},replaceWithShapes:function(t,e){var n,i,r,a=this.shapeseq,o={};for(i=t.length;i--;)o[t[i]]=!0;for(i=a.length;i--;)o[n=a[i]]&&(a.splice(i,1),delete this.shapes[n],r=i);for(i=e.length;i--;)a.splice(r,0,e[i].id),this.shapes[e[i].id]=e[i]},insertAfterShape:function(t,e){var n,i=this.shapeseq;for(n=i.length;n--;)if(i[n]===t)return i.splice(n+1,0,e.id),void(this.shapes[e.id]=e)},removeShapeId:function(t){var e,n=this.shapeseq;for(e=n.length;e--;)if(n[e]===t){n.splice(e,1);break}delete this.shapes[t]},getShapeAt:function(t,e,n){return this.targetX=e,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var t,e,n=this.shapeseq,i=this.shapes,r=n.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),e=0;e<r;e++)this["_draw"+(t=i[n[e]]).type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}}),x=e(g,{init:function(t,e,n){var i;x._super.init.call(this,t,e,n),n[0]&&(n=n[0]),z.data(n,"_jqs_vcanvas",this),this.canvas=_.createElement("span"),z(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:e,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(t,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,i='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",i),this.group=z(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(t,e,n,i,r){var a,o,s,l,h,u,c=[];for(u=0,h=e.length;u<h;u++)c[u]=e[u][0]+","+e[u][1];return a=c.splice(0,1),r=r===j?1:r,o=n===j?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+n+'" ',s=i===j?' filled="false"':' fillColor="'+i+'" filled="true" ',l=c[0]===c[c.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+o+s+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+a+" l "+c.join(", ")+" "+l+'e"> </v:shape>'},_drawCircle:function(t,e,n,i,r,a,o){return'<v:oval  id="jqsshape'+t+'" '+(r===j?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+r+'" ')+(a===j?' filled="false"':' fillColor="'+a+'" filled="true" ')+' style="position:absolute;top:'+(n-=i)+"px; left:"+(e-=i)+"px; width:"+2*i+"px; height:"+2*i+'px"></v:oval>'},_drawPieSlice:function(t,e,n,i,r,a,o,s){var l,h,u,c,f,d,p;if(r===a)return"";if(a-r==2*V.PI&&(r=0,a=2*V.PI),h=e+V.round(V.cos(r)*i),u=n+V.round(V.sin(r)*i),c=e+V.round(V.cos(a)*i),f=n+V.round(V.sin(a)*i),h===c&&u===f){if(a-r<V.PI)return"";h=c=e+i,u=f=n}return h===c&&u===f&&a-r<V.PI?"":(l=[e-i,n-i,e+i,n+i,h,u,c,f],d=o===j?' stroked="false" ':' strokeWeight="1px" strokeColor="'+o+'" ',p=s===j?' filled="false"':' fillColor="'+s+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+t+'" '+d+p+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+e+","+n+" wa "+l.join(", ")+' x e"> </v:shape>')},_drawRect:function(t,e,n,i,r,a,o){return this._drawShape(t,[[e,n],[e,n+r],[e+i,n+r],[e+i,n],[e,n]],a,o)},reset:function(){this.group.innerHTML=""},appendShape:function(t){var e=this["_draw"+t.type].apply(this,t.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",e):this.prerender+=e,this.lastShapeId=t.id,t.id},replaceWithShape:function(t,e){var n=z("#jqsshape"+t),i=this["_draw"+e.type].apply(this,e.args);n[0].outerHTML=i},replaceWithShapes:function(t,e){var n,i=z("#jqsshape"+t[0]),r="",a=e.length;for(n=0;n<a;n++)r+=this["_draw"+e[n].type].apply(this,e[n].args);for(i[0].outerHTML=r,n=1;n<t.length;n++)z("#jqsshape"+t[n]).remove()},insertAfterShape:function(t,e){var n=z("#jqsshape"+t),i=this["_draw"+e.type].apply(this,e.args);n[0].insertAdjacentHTML("afterEnd",i)},removeShapeId:function(t){var e=z("#jqsshape"+t);this.group.removeChild(e[0])},getShapeAt:function(t){return t.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.sparkline&&t(jQuery)}(document,Math),function(a){a.color={},a.color.make=function(t,e,n,i){var r={};return r.r=t||0,r.g=e||0,r.b=n||0,r.a=null!=i?i:1,r.add=function(t,e){for(var n=0;n<t.length;++n)r[t.charAt(n)]+=e;return r.normalize()},r.scale=function(t,e){for(var n=0;n<t.length;++n)r[t.charAt(n)]*=e;return r.normalize()},r.toString=function(){return 1<=r.a?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"},r.normalize=function(){function t(t,e,n){return e<t?t:n<e?n:e}return r.r=t(0,parseInt(r.r),255),r.g=t(0,parseInt(r.g),255),r.b=t(0,parseInt(r.b),255),r.a=t(0,r.a,1),r},r.clone=function(){return a.color.make(r.r,r.b,r.g,r.a)},r.normalize()},a.color.extract=function(t,e){var n;do{if(""!=(n=t.css(e).toLowerCase())&&"transparent"!=n)break;t=t.parent()}while(t.length&&!a.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==n&&(n="transparent"),a.color.parse(n)},a.color.parse=function(t){var e,n=a.color.make;if(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return n(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return n(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4]));if(e=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return n(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]));if(e=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return n(2.55*parseFloat(e[1]),2.55*parseFloat(e[2]),2.55*parseFloat(e[3]),parseFloat(e[4]));if(e=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return n(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16));if(e=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return n(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16));var i=a.trim(t).toLowerCase();return"transparent"==i?n(255,255,255,0):n((e=r[i]||[0,0,0])[0],e[1],e[2])};var r={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(mt){function vt(t,e){var n=e.children("."+t)[0];if(null==n&&((n=document.createElement("canvas")).className=t,mt(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(e),!n.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");n=window.G_vmlCanvasManager.initElement(n)}this.element=n;var i=this.context=n.getContext("2d"),r=window.devicePixelRatio||1,a=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;this.pixelRatio=r/a,this.resize(e.width(),e.height()),this.textContainer=null,this.text={},this._textCache={}}function i(m,t,e,i){function S(t,e){e=[dt].concat(e);for(var n=0;n<t.length;++n)t[n].apply(this,e)}function n(){for(var t={Canvas:vt},e=0;e<i.length;++e){var n=i[e];n.init(dt,t),n.options&&mt.extend(!0,et,n.options)}}function r(t){mt.extend(!0,et,t),t&&t.colors&&(et.colors=t.colors),null==et.xaxis.color&&(et.xaxis.color=mt.color.parse(et.grid.color).scale("a",.22).toString()),null==et.yaxis.color&&(et.yaxis.color=mt.color.parse(et.grid.color).scale("a",.22).toString()),null==et.xaxis.tickColor&&(et.xaxis.tickColor=et.grid.tickColor||et.xaxis.color),null==et.yaxis.tickColor&&(et.yaxis.tickColor=et.grid.tickColor||et.yaxis.color),null==et.grid.borderColor&&(et.grid.borderColor=et.grid.color),null==et.grid.tickColor&&(et.grid.tickColor=mt.color.parse(et.grid.color).scale("a",.22).toString());var e,n,i,r=m.css("font-size"),a=r?+r.replace("px",""):13,o={style:m.css("font-style"),size:Math.round(.8*a),variant:m.css("font-variant"),weight:m.css("font-weight"),family:m.css("font-family")};for(i=et.xaxes.length||1,e=0;e<i;++e)(n=et.xaxes[e])&&!n.tickColor&&(n.tickColor=n.color),n=mt.extend(!0,{},et.xaxis,n),(et.xaxes[e]=n).font&&(n.font=mt.extend({},o,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(i=et.yaxes.length||1,e=0;e<i;++e)(n=et.yaxes[e])&&!n.tickColor&&(n.tickColor=n.color),n=mt.extend(!0,{},et.yaxis,n),(et.yaxes[e]=n).font&&(n.font=mt.extend({},o,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)));for(et.xaxis.noTicks&&null==et.xaxis.ticks&&(et.xaxis.ticks=et.xaxis.noTicks),et.yaxis.noTicks&&null==et.yaxis.ticks&&(et.yaxis.ticks=et.yaxis.noTicks),et.x2axis&&(et.xaxes[1]=mt.extend(!0,{},et.xaxis,et.x2axis),et.xaxes[1].position="top",null==et.x2axis.min&&(et.xaxes[1].min=null),null==et.x2axis.max&&(et.xaxes[1].max=null)),et.y2axis&&(et.yaxes[1]=mt.extend(!0,{},et.yaxis,et.y2axis),et.yaxes[1].position="right",null==et.y2axis.min&&(et.yaxes[1].min=null),null==et.y2axis.max&&(et.yaxes[1].max=null)),et.grid.coloredAreas&&(et.grid.markings=et.grid.coloredAreas),et.grid.coloredAreasColor&&(et.grid.markingsColor=et.grid.coloredAreasColor),et.lines&&mt.extend(!0,et.series.lines,et.lines),et.points&&mt.extend(!0,et.series.points,et.points),et.bars&&mt.extend(!0,et.series.bars,et.bars),null!=et.shadowSize&&(et.series.shadowSize=et.shadowSize),null!=et.highlightColor&&(et.series.highlightColor=et.highlightColor),e=0;e<et.xaxes.length;++e)p(st,e+1).options=et.xaxes[e];for(e=0;e<et.yaxes.length;++e)p(lt,e+1).options=et.yaxes[e];for(var s in ft)et.hooks[s]&&et.hooks[s].length&&(ft[s]=ft[s].concat(et.hooks[s]));S(ft.processOptions,[et])}function a(t){tt=o(t),l(),h()}function o(t){for(var e=[],n=0;n<t.length;++n){var i=mt.extend(!0,{},et.series);null!=t[n].data?(i.data=t[n].data,delete t[n].data,mt.extend(!0,i,t[n]),t[n].data=i.data):i.data=t[n],e.push(i)}return e}function d(t,e){var n=t[e+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function _(){return mt.grep(st.concat(lt),function(t){return t})}function u(t){var e,n,i={};for(e=0;e<st.length;++e)(n=st[e])&&n.used&&(i["x"+n.n]=n.c2p(t.left));for(e=0;e<lt.length;++e)(n=lt[e])&&n.used&&(i["y"+n.n]=n.c2p(t.top));return i.x1!==undefined&&(i.x=i.x1),i.y1!==undefined&&(i.y=i.y1),i}function s(t){var e,n,i,r={};for(e=0;e<st.length;++e)if((n=st[e])&&n.used&&(null==t[i="x"+n.n]&&1==n.n&&(i="x"),null!=t[i])){r.left=n.p2c(t[i]);break}for(e=0;e<lt.length;++e)if((n=lt[e])&&n.used&&(null==t[i="y"+n.n]&&1==n.n&&(i="y"),null!=t[i])){r.top=n.p2c(t[i]);break}return r}function p(t,e){return t[e-1]||(t[e-1]={n:e,direction:t==st?"x":"y",options:mt.extend(!0,{},t==st?et.xaxis:et.yaxis)}),t[e-1]}function l(){var t,e=tt.length,n=-1;for(t=0;t<tt.length;++t){var i=tt[t].color;null!=i&&(e--,"number"==typeof i&&n<i&&(n=i))}e<=n&&(e=n+1);var r,a=[],o=et.colors,s=o.length,l=0;for(t=0;t<e;t++)r=mt.color.parse(o[t%s]||"#666"),t%s==0&&t&&(l=0<=l?l<.5?-l-.2:0:-l),a[t]=r.scale("rgb",1+l);var h,u=0;for(t=0;t<tt.length;++t){if(null==(h=tt[t]).color?(h.color=a[u].toString(),++u):"number"==typeof h.color&&(h.color=a[h.color].toString()),null==h.lines.show){var c,f=!0;for(c in h)if(h[c]&&h[c].show){f=!1;break}f&&(h.lines.show=!0)}null==h.lines.zero&&(h.lines.zero=!!h.lines.fill),h.xaxis=p(st,d(h,"x")),h.yaxis=p(lt,d(h,"y"))}}function h(){function t(t,e,n){e<t.datamin&&e!=-g&&(t.datamin=e),n>t.datamax&&n!=g&&(t.datamax=n)}var e,n,i,r,a,o,s,l,h,u,c,f,d=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,g=Number.MAX_VALUE;for(mt.each(_(),function(t,e){e.datamin=d,e.datamax=p,e.used=!1}),e=0;e<tt.length;++e)(a=tt[e]).datapoints={points:[]},S(ft.processRawData,[a,a.data,a.datapoints]);for(e=0;e<tt.length;++e){if(c=(a=tt[e]).data,!(f=a.datapoints.format)){if((f=[]).push({x:!0,number:!0,required:!0}),f.push({y:!0,number:!0,required:!0}),a.bars.show||a.lines.show&&a.lines.fill){var m=!!(a.bars.show&&a.bars.zero||a.lines.show&&a.lines.zero);f.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:m}),a.bars.horizontal&&(delete f[f.length-1].y,f[f.length-1].x=!0)}a.datapoints.format=f}if(null==a.datapoints.pointsize){a.datapoints.pointsize=f.length,s=a.datapoints.pointsize,o=a.datapoints.points;var v=a.lines.show&&a.lines.steps;for(a.xaxis.used=a.yaxis.used=!0,n=i=0;n<c.length;++n,i+=s){var x=null==(u=c[n]);if(!x)for(r=0;r<s;++r)l=u[r],(h=f[r])&&(h.number&&null!=l&&(l=+l,isNaN(l)?l=null:l==Infinity?l=g:l==-Infinity&&(l=-g)),null==l&&(h.required&&(x=!0),null!=h.defaultValue&&(l=h.defaultValue))),o[i+r]=l;if(x)for(r=0;r<s;++r)null!=(l=o[i+r])&&!1!==(h=f[r]).autoscale&&(h.x&&t(a.xaxis,l,l),h.y&&t(a.yaxis,l,l)),o[i+r]=null;else if(v&&0<i&&null!=o[i-s]&&o[i-s]!=o[i]&&o[i-s+1]!=o[i+1]){for(r=0;r<s;++r)o[i+s+r]=o[i+r];o[i+1]=o[i-s+1],i+=s}}}}for(e=0;e<tt.length;++e)a=tt[e],S(ft.processDatapoints,[a,a.datapoints]);for(e=0;e<tt.length;++e){o=(a=tt[e]).datapoints.points,s=a.datapoints.pointsize,f=a.datapoints.format;var y=d,b=d,w=p,k=p;for(n=0;n<o.length;n+=s)if(null!=o[n])for(r=0;r<s;++r)l=o[n+r],(h=f[r])&&!1!==h.autoscale&&l!=g&&l!=-g&&(h.x&&(l<y&&(y=l),w<l&&(w=l)),h.y&&(l<b&&(b=l),k<l&&(k=l)));if(a.bars.show){var M;switch(a.bars.align){case"left":M=0;break;case"right":M=-a.bars.barWidth;break;default:M=-a.bars.barWidth/2}a.bars.horizontal?(b+=M,k+=M+a.bars.barWidth):(y+=M,w+=M+a.bars.barWidth)}t(a.xaxis,y,w),t(a.yaxis,b,k)}mt.each(_(),function(t,e){e.datamin==d&&(e.datamin=null),e.datamax==p&&(e.datamax=null)})}function c(){m.css("padding",0).children().filter(function(){return!mt(this).hasClass("flot-overlay")&&!mt(this).hasClass("flot-base")}).remove(),"static"==m.css("position")&&m.css("position","relative"),nt=new vt("flot-base",m),it=new vt("flot-overlay",m),at=nt.context,ot=it.context,rt=mt(it.element).unbind();var t=m.data("plot");t&&(t.shutdown(),it.clear()),m.data("plot",dt)}function f(){et.grid.hoverable&&(rt.mousemove(V),rt.bind("mouseleave",j)),et.grid.clickable&&rt.click(q),S(ft.bindEvents,[rt])}function g(){gt&&clearTimeout(gt),rt.unbind("mousemove",V),rt.unbind("mouseleave",j),rt.unbind("click",q),S(ft.shutdown,[rt])}function v(t){function e(t){return t}var n,i,r=t.options.transform||e,a=t.options.inverseTransform;"x"==t.direction?(n=t.scale=ut/Math.abs(r(t.max)-r(t.min)),i=Math.min(r(t.max),r(t.min))):(n=-(n=t.scale=ct/Math.abs(r(t.max)-r(t.min))),i=Math.max(r(t.max),r(t.min))),t.p2c=r==e?function(t){return(t-i)*n}:function(t){return(r(t)-i)*n},t.c2p=a?function(t){return a(i+t/n)}:function(t){return i+t/n}}function x(t){for(var e=t.options,n=t.ticks||[],i=e.labelWidth||0,r=e.labelHeight||0,a=i||("x"==t.direction?Math.floor(nt.width/(n.length||1)):null),o=t.direction+"Axis "+t.direction+t.n+"Axis",s="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+o,l=e.font||"flot-tick-label tickLabel",h=0;h<n.length;++h){var u=n[h];if(u.label){var c=nt.getTextInfo(s,u.label,l,null,a);i=Math.max(i,c.width),r=Math.max(r,c.height)}}t.labelWidth=e.labelWidth||i,t.labelHeight=e.labelHeight||r}function y(n){var t=n.labelWidth,e=n.labelHeight,i=n.options.position,r="x"===n.direction,a=n.options.tickLength,o=et.grid.axisMargin,s=et.grid.labelMargin,l=!0,h=!0,u=!0,c=!1;mt.each(r?st:lt,function(t,e){e&&(e.show||e.reserveSpace)&&(e===n?c=!0:e.options.position===i&&(c?h=!1:l=!1),c||(u=!1))}),h&&(o=0),null==a&&(a=u?"full":5),isNaN(+a)||(s+=+a),r?(e+=s,"bottom"==i?(ht.bottom+=e+o,n.box={top:nt.height-ht.bottom,height:e}):(n.box={top:ht.top+o,height:e},ht.top+=e+o)):(t+=s,"left"==i?(n.box={left:ht.left+o,width:t},ht.left+=t+o):(ht.right+=t+o,n.box={left:nt.width-ht.right,width:t})),n.position=i,n.tickLength=a,n.box.padding=s,n.innermost=l}function b(t){"x"==t.direction?(t.box.left=ht.left-t.labelWidth/2,t.box.width=nt.width-ht.left-ht.right+t.labelWidth):(t.box.top=ht.top-t.labelHeight/2,t.box.height=nt.height-ht.bottom-ht.top+t.labelHeight)}function w(){var t,e=et.grid.minBorderMargin;if(null==e)for(t=e=0;t<tt.length;++t)e=Math.max(e,2*(tt[t].points.radius+tt[t].points.lineWidth/2));var n={left:e,right:e,top:e,bottom:e};mt.each(_(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(n.left=Math.max(n.left,e.labelWidth/2),n.right=Math.max(n.right,e.labelWidth/2)):(n.bottom=Math.max(n.bottom,e.labelHeight/2),n.top=Math.max(n.top,e.labelHeight/2)))}),ht.left=Math.ceil(Math.max(n.left,ht.left)),ht.right=Math.ceil(Math.max(n.right,ht.right)),ht.top=Math.ceil(Math.max(n.top,ht.top)),ht.bottom=Math.ceil(Math.max(n.bottom,ht.bottom))}function k(){var t,e=_(),n=et.grid.show;for(var i in ht){var r=et.grid.margin||0;ht[i]="number"==typeof r?r:r[i]||0}for(var i in S(ft.processOffset,[ht]),ht)"object"==typeof et.grid.borderWidth?ht[i]+=n?et.grid.borderWidth[i]:0:ht[i]+=n?et.grid.borderWidth:0;if(mt.each(e,function(t,e){var n=e.options;e.show=null==n.show?e.used:n.show,e.reserveSpace=null==n.reserveSpace?e.show:n.reserveSpace,M(e)}),n){var a=mt.grep(e,function(t){return t.show||t.reserveSpace});for(mt.each(a,function(t,e){C(e),A(e),T(e,e.ticks),x(e)}),t=a.length-1;0<=t;--t)y(a[t]);w(),mt.each(a,function(t,e){b(e)})}ut=nt.width-ht.left-ht.right,ct=nt.height-ht.bottom-ht.top,mt.each(e,function(t,e){v(e)}),n&&F(),H()}function M(t){var e=t.options,n=+(null!=e.min?e.min:t.datamin),i=+(null!=e.max?e.max:t.datamax),r=i-n;if(0==r){var a=0==i?1:.01;null==e.min&&(n-=a),null!=e.max&&null==e.min||(i+=a)}else{var o=e.autoscaleMargin;null!=o&&(null==e.min&&(n-=r*o)<0&&null!=t.datamin&&0<=t.datamin&&(n=0),null==e.max&&0<(i+=r*o)&&null!=t.datamax&&t.datamax<=0&&(i=0))}t.min=n,t.max=i}function C(t){var e,n=t.options;e="number"==typeof n.ticks&&0<n.ticks?n.ticks:.3*Math.sqrt("x"==t.direction?nt.width:nt.height);var i=(t.max-t.min)/e,r=-Math.floor(Math.log(i)/Math.LN10),a=n.tickDecimals;null!=a&&a<r&&(r=a);var o,s=Math.pow(10,-r),l=i/s;if(l<1.5?o=1:l<3?(o=2,2.25<l&&(null==a||r+1<=a)&&(o=2.5,++r)):o=l<7.5?5:10,o*=s,null!=n.minTickSize&&o<n.minTickSize&&(o=n.minTickSize),t.delta=i,t.tickDecimals=Math.max(0,null!=a?a:r),t.tickSize=n.tickSize||o,"time"==n.mode&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(t.tickGenerator||(t.tickGenerator=function(t){for(var e,n=[],i=xt(t.min,t.tickSize),r=0,a=Number.NaN;e=a,a=i+r*t.tickSize,n.push(a),++r,a<t.max&&a!=e;);return n},t.tickFormatter=function(t,e){var n=e.tickDecimals?Math.pow(10,e.tickDecimals):1,i=""+Math.round(t*n)/n;if(null!=e.tickDecimals){var r=i.indexOf("."),a=-1==r?0:i.length-r-1;if(a<e.tickDecimals)return(a?i:i+".")+(""+n).substr(1,e.tickDecimals-a)}return i}),mt.isFunction(n.tickFormatter)&&(t.tickFormatter=function(t,e){return""+n.tickFormatter(t,e)}),null!=n.alignTicksWithAxis){var h=("x"==t.direction?st:lt)[n.alignTicksWithAxis-1];if(h&&h.used&&h!=t){var u=t.tickGenerator(t);if(0<u.length&&(null==n.min&&(t.min=Math.min(t.min,u[0])),null==n.max&&1<u.length&&(t.max=Math.max(t.max,u[u.length-1]))),t.tickGenerator=function(t){var e,n,i=[];for(n=0;n<h.ticks.length;++n)e=(h.ticks[n].v-h.min)/(h.max-h.min),e=t.min+e*(t.max-t.min),i.push(e);return i},!t.mode&&null==n.tickDecimals){var c=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),f=t.tickGenerator(t);1<f.length&&/\..*0$/.test((f[1]-f[0]).toFixed(c))||(t.tickDecimals=c)}}}}function A(t){var e,n,i=t.options.ticks,r=[];for(null==i||"number"==typeof i&&0<i?r=t.tickGenerator(t):i&&(r=mt.isFunction(i)?i(t):i),t.ticks=[],e=0;e<r.length;++e){var a=null,o=r[e];"object"==typeof o?(n=+o[0],1<o.length&&(a=o[1])):n=+o,null==a&&(a=t.tickFormatter(n,t)),isNaN(n)||t.ticks.push({v:n,label:a})}}function T(t,e){t.options.autoscaleMargin&&0<e.length&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&1<e.length&&(t.max=Math.max(t.max,e[e.length-1].v)))}function I(){nt.clear(),S(ft.drawBackground,[at]);var t=et.grid;t.show&&t.backgroundColor&&D(),t.show&&!t.aboveData&&E();for(var e=0;e<tt.length;++e)S(ft.drawSeries,[at,tt[e]]),L(tt[e]);S(ft.draw,[at]),t.show&&t.aboveData&&E(),nt.render(),U()}function P(t,e){for(var n,i,r,a,o=_(),s=0;s<o.length;++s)if((n=o[s]).direction==e&&(t[a=e+n.n+"axis"]||1!=n.n||(a=e+"axis"),t[a])){i=t[a].from,r=t[a].to;break}if(t[a]||(n="x"==e?st[0]:lt[0],i=t[e+"1"],r=t[e+"2"]),null!=i&&null!=r&&r<i){var l=i;i=r,r=l}return{from:i,to:r,axis:n}}function D(){at.save(),at.translate(ht.left,ht.top),at.fillStyle=K(et.grid.backgroundColor,ct,0,"rgba(255, 255, 255, 0)"),at.fillRect(0,0,ut,ct),at.restore()}function E(){var t,e,n,i;at.save(),at.translate(ht.left,ht.top);var r=et.grid.markings;if(r)for(mt.isFunction(r)&&((e=dt.getAxes()).xmin=e.xaxis.min,e.xmax=e.xaxis.max,e.ymin=e.yaxis.min,e.ymax=e.yaxis.max,r=r(e)),t=0;t<r.length;++t){var a=r[t],o=P(a,"x"),s=P(a,"y");if(null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),!(o.to<o.axis.min||o.from>o.axis.max||s.to<s.axis.min||s.from>s.axis.max)){o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max);var l=o.from===o.to,h=s.from===s.to;if(!l||!h)if(o.from=Math.floor(o.axis.p2c(o.from)),o.to=Math.floor(o.axis.p2c(o.to)),s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l||h){var u=a.lineWidth||et.grid.markingsLineWidth,c=u%2?.5:0;at.beginPath(),at.strokeStyle=a.color||et.grid.markingsColor,at.lineWidth=u,l?(at.moveTo(o.to+c,s.from),at.lineTo(o.to+c,s.to)):(at.moveTo(o.from,s.to+c),at.lineTo(o.to,s.to+c)),at.stroke()}else at.fillStyle=a.color||et.grid.markingsColor,at.fillRect(o.from,s.to,o.to-o.from,s.from-s.to)}}e=_(),n=et.grid.borderWidth;for(var f=0;f<e.length;++f){var d,p,g,m,v=e[f],x=v.box,y=v.tickLength;if(v.show&&0!=v.ticks.length){for(at.lineWidth=1,"x"==v.direction?(d=0,p="full"==y?"top"==v.position?0:ct:x.top-ht.top+("top"==v.position?x.height:0)):(p=0,d="full"==y?"left"==v.position?0:ut:x.left-ht.left+("left"==v.position?x.width:0)),v.innermost||(at.strokeStyle=v.options.color,at.beginPath(),g=m=0,"x"==v.direction?g=ut+1:m=ct+1,1==at.lineWidth&&("x"==v.direction?p=Math.floor(p)+.5:d=Math.floor(d)+.5),at.moveTo(d,p),at.lineTo(d+g,p+m),at.stroke()),at.strokeStyle=v.options.tickColor,at.beginPath(),t=0;t<v.ticks.length;++t){var b=v.ticks[t].v;g=m=0,isNaN(b)||b<v.min||b>v.max||"full"==y&&("object"==typeof n&&0<n[v.position]||0<n)&&(b==v.min||b==v.max)||("x"==v.direction?(d=v.p2c(b),m="full"==y?-ct:y,"top"==v.position&&(m=-m)):(p=v.p2c(b),g="full"==y?-ut:y,"left"==v.position&&(g=-g)),1==at.lineWidth&&("x"==v.direction?d=Math.floor(d)+.5:p=Math.floor(p)+.5),at.moveTo(d,p),at.lineTo(d+g,p+m))}at.stroke()}}n&&(i=et.grid.borderColor,"object"==typeof n||"object"==typeof i?("object"!=typeof n&&(n={top:n,right:n,bottom:n,left:n}),"object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),0<n.top&&(at.strokeStyle=i.top,at.lineWidth=n.top,at.beginPath(),at.moveTo(0-n.left,0-n.top/2),at.lineTo(ut,0-n.top/2),at.stroke()),0<n.right&&(at.strokeStyle=i.right,at.lineWidth=n.right,at.beginPath(),at.moveTo(ut+n.right/2,0-n.top),at.lineTo(ut+n.right/2,ct),at.stroke()),0<n.bottom&&(at.strokeStyle=i.bottom,at.lineWidth=n.bottom,at.beginPath(),at.moveTo(ut+n.right,ct+n.bottom/2),at.lineTo(0,ct+n.bottom/2),at.stroke()),0<n.left&&(at.strokeStyle=i.left,at.lineWidth=n.left,at.beginPath(),at.moveTo(0-n.left/2,ct+n.bottom),at.lineTo(0-n.left/2,0),at.stroke())):(at.lineWidth=n,at.strokeStyle=et.grid.borderColor,at.strokeRect(-n/2,-n/2,ut+n,ct+n))),at.restore()}function F(){mt.each(_(),function(t,e){var n,i,r,a,o,s=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",h="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,u=e.options.font||"flot-tick-label tickLabel";if(nt.removeText(h),e.show&&0!=e.ticks.length)for(var c=0;c<e.ticks.length;++c)!(n=e.ticks[c]).label||n.v<e.min||n.v>e.max||("x"==e.direction?(a="center",i=ht.left+e.p2c(n.v),"bottom"==e.position?r=s.top+s.padding:(r=s.top+s.height-s.padding,o="bottom")):(o="middle",r=ht.top+e.p2c(n.v),"left"==e.position?(i=s.left+s.width-s.padding,a="right"):i=s.left+s.padding),nt.addText(h,i,r,n.label,u,null,null,a,o))})}function L(t){t.lines.show&&z(t),t.bars.show&&O(t),t.points.show&&R(t)}function z(t){function e(t,e,n,i,r){var a=t.points,o=t.pointsize,s=null,l=null;at.beginPath();for(var h=o;h<a.length;h+=o){var u=a[h-o],c=a[h-o+1],f=a[h],d=a[h+1];if(null!=u&&null!=f){if(c<=d&&c<r.min){if(d<r.min)continue;u=(r.min-c)/(d-c)*(f-u)+u,c=r.min}else if(d<=c&&d<r.min){if(c<r.min)continue;f=(r.min-c)/(d-c)*(f-u)+u,d=r.min}if(d<=c&&c>r.max){if(d>r.max)continue;u=(r.max-c)/(d-c)*(f-u)+u,c=r.max}else if(c<=d&&d>r.max){if(c>r.max)continue;f=(r.max-c)/(d-c)*(f-u)+u,d=r.max}if(u<=f&&u<i.min){if(f<i.min)continue;c=(i.min-u)/(f-u)*(d-c)+c,u=i.min}else if(f<=u&&f<i.min){if(u<i.min)continue;d=(i.min-u)/(f-u)*(d-c)+c,f=i.min}if(f<=u&&u>i.max){if(f>i.max)continue;c=(i.max-u)/(f-u)*(d-c)+c,u=i.max}else if(u<=f&&f>i.max){if(u>i.max)continue;d=(i.max-u)/(f-u)*(d-c)+c,f=i.max}u==s&&c==l||at.moveTo(i.p2c(u)+e,r.p2c(c)+n),s=f,l=d,at.lineTo(i.p2c(f)+e,r.p2c(d)+n)}}at.stroke()}function n(t,e,n){for(var i=t.points,r=t.pointsize,a=Math.min(Math.max(0,n.min),n.max),o=0,s=!1,l=1,h=0,u=0;!(0<r&&o>i.length+r);){var c=i[(o+=r)-r],f=i[o-r+l],d=i[o],p=i[o+l];if(s){if(0<r&&null!=c&&null==d){u=o,r=-r,l=2;continue}if(r<0&&o==h+r){at.fill(),s=!1,l=1,o=h=u+(r=-r);continue}}if(null!=c&&null!=d){if(c<=d&&c<e.min){if(d<e.min)continue;f=(e.min-c)/(d-c)*(p-f)+f,c=e.min}else if(d<=c&&d<e.min){if(c<e.min)continue;p=(e.min-c)/(d-c)*(p-f)+f,d=e.min}if(d<=c&&c>e.max){if(d>e.max)continue;f=(e.max-c)/(d-c)*(p-f)+f,c=e.max}else if(c<=d&&d>e.max){if(c>e.max)continue;p=(e.max-c)/(d-c)*(p-f)+f,d=e.max}if(s||(at.beginPath(),at.moveTo(e.p2c(c),n.p2c(a)),s=!0),f>=n.max&&p>=n.max)at.lineTo(e.p2c(c),n.p2c(n.max)),at.lineTo(e.p2c(d),n.p2c(n.max));else if(f<=n.min&&p<=n.min)at.lineTo(e.p2c(c),n.p2c(n.min)),at.lineTo(e.p2c(d),n.p2c(n.min));else{var g=c,m=d;f<=p&&f<n.min&&p>=n.min?(c=(n.min-f)/(p-f)*(d-c)+c,f=n.min):p<=f&&p<n.min&&f>=n.min&&(d=(n.min-f)/(p-f)*(d-c)+c,p=n.min),p<=f&&f>n.max&&p<=n.max?(c=(n.max-f)/(p-f)*(d-c)+c,
f=n.max):f<=p&&p>n.max&&f<=n.max&&(d=(n.max-f)/(p-f)*(d-c)+c,p=n.max),c!=g&&at.lineTo(e.p2c(g),n.p2c(f)),at.lineTo(e.p2c(c),n.p2c(f)),at.lineTo(e.p2c(d),n.p2c(p)),d!=m&&(at.lineTo(e.p2c(d),n.p2c(p)),at.lineTo(e.p2c(m),n.p2c(p)))}}}}at.save(),at.translate(ht.left,ht.top),at.lineJoin="round";var i=t.lines.lineWidth,r=t.shadowSize;if(0<i&&0<r){at.lineWidth=r,at.strokeStyle="rgba(0,0,0,0.1)";var a=Math.PI/18;e(t.datapoints,Math.sin(a)*(i/2+r/2),Math.cos(a)*(i/2+r/2),t.xaxis,t.yaxis),at.lineWidth=r/2,e(t.datapoints,Math.sin(a)*(i/2+r/4),Math.cos(a)*(i/2+r/4),t.xaxis,t.yaxis)}at.lineWidth=i,at.strokeStyle=t.color;var o=B(t.lines,t.color,0,ct);o&&(at.fillStyle=o,n(t.datapoints,t.xaxis,t.yaxis)),0<i&&e(t.datapoints,0,0,t.xaxis,t.yaxis),at.restore()}function R(t){function e(t,e,n,i,r,a,o,s){for(var l=t.points,h=t.pointsize,u=0;u<l.length;u+=h){var c=l[u],f=l[u+1];null==c||c<a.min||c>a.max||f<o.min||f>o.max||(at.beginPath(),c=a.p2c(c),f=o.p2c(f)+i,"circle"==s?at.arc(c,f,e,0,r?Math.PI:2*Math.PI,!1):s(at,c,f,e,r),at.closePath(),n&&(at.fillStyle=n,at.fill()),at.stroke())}}at.save(),at.translate(ht.left,ht.top);var n=t.points.lineWidth,i=t.shadowSize,r=t.points.radius,a=t.points.symbol;if(0==n&&(n=1e-4),0<n&&0<i){var o=i/2;at.lineWidth=o,at.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,r,null,o+o/2,!0,t.xaxis,t.yaxis,a),at.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,r,null,o/2,!0,t.xaxis,t.yaxis,a)}at.lineWidth=n,at.strokeStyle=t.color,e(t.datapoints,r,B(t.points,t.color),0,!1,t.xaxis,t.yaxis,a),at.restore()}function N(t,e,n,i,r,a,o,s,l,h,u){var c,f,d,p,g,m,v,x,y;h?(x=m=v=!0,g=!1,p=e+i,d=e+r,(f=t)<(c=n)&&(y=f,f=c,c=y,g=!0,m=!1)):(g=m=v=!0,x=!1,c=t+i,f=t+r,(p=e)<(d=n)&&(y=p,p=d,d=y,x=!0,v=!1)),f<o.min||c>o.max||p<s.min||d>s.max||(c<o.min&&(c=o.min,g=!1),f>o.max&&(f=o.max,m=!1),d<s.min&&(d=s.min,x=!1),p>s.max&&(p=s.max,v=!1),c=o.p2c(c),d=s.p2c(d),f=o.p2c(f),p=s.p2c(p),a&&(l.fillStyle=a(d,p),l.fillRect(c,p,f-c,d-p)),0<u&&(g||m||v||x)&&(l.beginPath(),l.moveTo(c,d),g?l.lineTo(c,p):l.moveTo(c,p),v?l.lineTo(f,p):l.moveTo(f,p),m?l.lineTo(f,d):l.moveTo(f,d),x?l.lineTo(c,d):l.moveTo(c,d),l.stroke()))}function O(h){function t(t,e,n,i,r,a){for(var o=t.points,s=t.pointsize,l=0;l<o.length;l+=s)null!=o[l]&&N(o[l],o[l+1],o[l+2],e,n,i,r,a,at,h.bars.horizontal,h.bars.lineWidth)}var e;switch(at.save(),at.translate(ht.left,ht.top),at.lineWidth=h.bars.lineWidth,at.strokeStyle=h.color,h.bars.align){case"left":e=0;break;case"right":e=-h.bars.barWidth;break;default:e=-h.bars.barWidth/2}var n=h.bars.fill?function(t,e){return B(h.bars,h.color,t,e)}:null;t(h.datapoints,e,e+h.bars.barWidth,n,h.xaxis,h.yaxis),at.restore()}function B(t,e,n,i){var r=t.fill;if(!r)return null;if(t.fillColor)return K(t.fillColor,n,i,e);var a=mt.color.parse(e);return a.a="number"==typeof r?r:.4,a.normalize(),a.toString()}function H(){if(null!=et.legend.container?mt(et.legend.container).html(""):m.find(".legend").remove(),et.legend.show){for(var t,e,n=[],i=[],r=!1,a=et.legend.labelFormatter,o=0;o<tt.length;++o)(t=tt[o]).label&&(e=a?a(t.label,t):t.label)&&i.push({label:e,color:t.color});if(et.legend.sorted)if(mt.isFunction(et.legend.sorted))i.sort(et.legend.sorted);else if("reverse"==et.legend.sorted)i.reverse();else{var s="descending"!=et.legend.sorted;i.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=s?1:-1})}for(o=0;o<i.length;++o){var l=i[o];o%et.legend.noColumns==0&&(r&&n.push("</tr>"),n.push("<tr>"),r=!0),n.push('<td class="legendColorBox"><div style="border:1px solid '+et.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+l.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+l.label+"</td>")}if(r&&n.push("</tr>"),0!=n.length){var h='<table style="font-size:smaller;color:'+et.grid.color+'">'+n.join("")+"</table>";if(null!=et.legend.container)mt(et.legend.container).html(h);else{var u="",c=et.legend.position,f=et.legend.margin;null==f[0]&&(f=[f,f]),"n"==c.charAt(0)?u+="top:"+(f[1]+ht.top)+"px;":"s"==c.charAt(0)&&(u+="bottom:"+(f[1]+ht.bottom)+"px;"),"e"==c.charAt(1)?u+="right:"+(f[0]+ht.right)+"px;":"w"==c.charAt(1)&&(u+="left:"+(f[0]+ht.left)+"px;");var d=mt('<div class="legend">'+h.replace('style="','style="position:absolute;'+u+";")+"</div>").appendTo(m);if(0!=et.legend.backgroundOpacity){var p=et.legend.backgroundColor;null==p&&((p=(p=et.grid.backgroundColor)&&"string"==typeof p?mt.color.parse(p):mt.color.extract(d,"background-color")).a=1,p=p.toString());var g=d.children();mt('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+u+"background-color:"+p+';"> </div>').prependTo(d).css("opacity",et.legend.backgroundOpacity)}}}}}function W(t,e,n){var i,r,a,o=et.grid.mouseActiveRadius,s=o*o+1,l=null;for(i=tt.length-1;0<=i;--i)if(n(tt[i])){var h=tt[i],u=h.xaxis,c=h.yaxis,f=h.datapoints.points,d=u.c2p(t),p=c.c2p(e),g=o/u.scale,m=o/c.scale;if(a=h.datapoints.pointsize,u.options.inverseTransform&&(g=Number.MAX_VALUE),c.options.inverseTransform&&(m=Number.MAX_VALUE),h.lines.show||h.points.show)for(r=0;r<f.length;r+=a){var v=f[r],x=f[r+1];if(null!=v&&!(g<v-d||v-d<-g||m<x-p||x-p<-m)){var y=Math.abs(u.p2c(v)-t),b=Math.abs(c.p2c(x)-e),w=y*y+b*b;w<s&&(s=w,l=[i,r/a])}}if(h.bars.show&&!l){var k,M;switch(h.bars.align){case"left":k=0;break;case"right":k=-h.bars.barWidth;break;default:k=-h.bars.barWidth/2}for(M=k+h.bars.barWidth,r=0;r<f.length;r+=a){v=f[r],x=f[r+1];var S=f[r+2];null!=v&&((tt[i].bars.horizontal?d<=Math.max(S,v)&&d>=Math.min(S,v)&&x+k<=p&&p<=x+M:v+k<=d&&d<=v+M&&p>=Math.min(S,x)&&p<=Math.max(S,x))&&(l=[i,r/a]))}}}return l?(i=l[0],r=l[1],a=tt[i].datapoints.pointsize,{datapoint:tt[i].datapoints.points.slice(r*a,(r+1)*a),dataIndex:r,series:tt[i],seriesIndex:i}):null}function V(t){et.grid.hoverable&&Y("plothover",t,function(t){return 0!=t.hoverable})}function j(t){et.grid.hoverable&&Y("plothover",t,function(){return!1})}function q(t){Y("plotclick",t,function(t){return 0!=t.clickable})}function Y(t,e,n){var i=rt.offset(),r=e.pageX-i.left-ht.left,a=e.pageY-i.top-ht.top,o=u({left:r,top:a});o.pageX=e.pageX,o.pageY=e.pageY;var s=W(r,a,n);if(s&&(s.pageX=parseInt(s.series.xaxis.p2c(s.datapoint[0])+i.left+ht.left,10),s.pageY=parseInt(s.series.yaxis.p2c(s.datapoint[1])+i.top+ht.top,10)),et.grid.autoHighlight){for(var l=0;l<pt.length;++l){var h=pt[l];h.auto!=t||s&&h.series==s.series&&h.point[0]==s.datapoint[0]&&h.point[1]==s.datapoint[1]||$(h.series,h.point)}s&&X(s.series,s.datapoint,t)}m.trigger(t,[o,s])}function U(){var t=et.interaction.redrawOverlayInterval;-1!=t?gt||(gt=setTimeout(G,t)):G()}function G(){var t,e;for(gt=null,ot.save(),it.clear(),ot.translate(ht.left,ht.top),t=0;t<pt.length;++t)(e=pt[t]).series.bars.show?J(e.series,e.point):Z(e.series,e.point);ot.restore(),S(ft.drawOverlay,[ot])}function X(t,e,n){if("number"==typeof t&&(t=tt[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var r=Q(t,e);-1==r?(pt.push({series:t,point:e,auto:n}),U()):n||(pt[r].auto=!1)}function $(t,e){if(null==t&&null==e)return pt=[],void U();if("number"==typeof t&&(t=tt[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var i=Q(t,e);-1!=i&&(pt.splice(i,1),U())}function Q(t,e){for(var n=0;n<pt.length;++n){var i=pt[n];if(i.series==t&&i.point[0]==e[0]&&i.point[1]==e[1])return n}return-1}function Z(t,e){var n=e[0],i=e[1],r=t.xaxis,a=t.yaxis,o="string"==typeof t.highlightColor?t.highlightColor:mt.color.parse(t.color).scale("a",.5).toString();if(!(n<r.min||n>r.max||i<a.min||i>a.max)){var s=t.points.radius+t.points.lineWidth/2;ot.lineWidth=s,ot.strokeStyle=o;var l=1.5*s;n=r.p2c(n),i=a.p2c(i),ot.beginPath(),"circle"==t.points.symbol?ot.arc(n,i,l,0,2*Math.PI,!1):t.points.symbol(ot,n,i,l,!1),ot.closePath(),ot.stroke()}}function J(t,e){var n,i="string"==typeof t.highlightColor?t.highlightColor:mt.color.parse(t.color).scale("a",.5).toString(),r=i;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}ot.lineWidth=t.bars.lineWidth,ot.strokeStyle=i,N(e[0],e[1],e[2]||0,n,n+t.bars.barWidth,function(){return r},t.xaxis,t.yaxis,ot,t.bars.horizontal,t.bars.lineWidth)}function K(t,e,n,i){if("string"==typeof t)return t;for(var r=at.createLinearGradient(0,n,0,e),a=0,o=t.colors.length;a<o;++a){var s=t.colors[a];if("string"!=typeof s){var l=mt.color.parse(i);null!=s.brightness&&(l=l.scale("rgb",s.brightness)),null!=s.opacity&&(l.a*=s.opacity),s=l.toString()}r.addColorStop(a/(o-1),s)}return r}var tt=[],et={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},nt=null,it=null,rt=null,at=null,ot=null,st=[],lt=[],ht={left:0,right:0,top:0,bottom:0},ut=0,ct=0,ft={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},dt=this;dt.setData=a,dt.setupGrid=k,dt.draw=I,dt.getPlaceholder=function(){return m},dt.getCanvas=function(){return nt.element},dt.getPlotOffset=function(){return ht},dt.width=function(){return ut},dt.height=function(){return ct},dt.offset=function(){var t=rt.offset();return t.left+=ht.left,t.top+=ht.top,t},dt.getData=function(){return tt},dt.getAxes=function(){var n={};return mt.each(st.concat(lt),function(t,e){e&&(n[e.direction+(1!=e.n?e.n:"")+"axis"]=e)}),n},dt.getXAxes=function(){return st},dt.getYAxes=function(){return lt},dt.c2p=u,dt.p2c=s,dt.getOptions=function(){return et},dt.highlight=X,dt.unhighlight=$,dt.triggerRedrawOverlay=U,dt.pointOffset=function(t){return{left:parseInt(st[d(t,"x")-1].p2c(+t.x)+ht.left,10),top:parseInt(lt[d(t,"y")-1].p2c(+t.y)+ht.top,10)}},dt.shutdown=g,dt.destroy=function(){g(),m.removeData("plot").empty(),tt=[],st=[],lt=[],pt=[],dt=ft=ot=at=rt=it=nt=et=null},dt.resize=function(){var t=m.width(),e=m.height();nt.resize(t,e),it.resize(t,e)},dt.hooks=ft,n(dt),r(e),c(),a(t),k(),I(),f();var pt=[],gt=null}function xt(t,e){return e*Math.floor(t/e)}var d=Object.prototype.hasOwnProperty;mt.fn.detach||(mt.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),vt.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var n=this.element,i=this.context,r=this.pixelRatio;this.width!=t&&(n.width=t*r,n.style.width=t+"px",this.width=t),this.height!=e&&(n.height=e*r,n.style.height=e+"px",this.height=e),i.restore(),i.save(),i.scale(r,r)},vt.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},vt.prototype.render=function(){var t=this._textCache;for(var e in t)if(d.call(t,e)){var n=this.getTextLayer(e),i=t[e];for(var r in n.hide(),i)if(d.call(i,r)){var a=i[r];for(var o in a)if(d.call(a,o)){for(var s,l=a[o].positions,h=0;s=l[h];h++)s.active?s.rendered||(n.append(s.element),s.rendered=!0):(l.splice(h--,1),s.rendered&&s.element.detach());0==l.length&&delete a[o]}}n.show()}},vt.prototype.getTextLayer=function(t){var e=this.text[t];return null==e&&(null==this.textContainer&&(this.textContainer=mt("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),e=this.text[t]=mt("<div></div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),e},vt.prototype.getTextInfo=function(t,e,n,i,r){var a,o,s,l;if(e=""+e,a="object"==typeof n?n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:n,null==(o=this._textCache[t])&&(o=this._textCache[t]={}),null==(s=o[a])&&(s=o[a]={}),null==(l=s[e])){var h=mt("<div></div>").html(e).css({position:"absolute","max-width":r,top:-9999}).appendTo(this.getTextLayer(t));"object"==typeof n?h.css({font:a,color:n.color}):"string"==typeof n&&h.addClass(n),l=s[e]={width:h.outerWidth(!0),height:h.outerHeight(!0),element:h,positions:[]},h.detach()}return l},vt.prototype.addText=function(t,e,n,i,r,a,o,s,l){var h=this.getTextInfo(t,i,r,a,o),u=h.positions;"center"==s?e-=h.width/2:"right"==s&&(e-=h.width),"middle"==l?n-=h.height/2:"bottom"==l&&(n-=h.height);for(var c,f=0;c=u[f];f++)if(c.x==e&&c.y==n)return void(c.active=!0);c={active:!0,rendered:!1,element:u.length?h.element.clone():h.element,x:e,y:n},u.push(c),c.element.css({top:Math.round(n),left:Math.round(e),"text-align":s})},vt.prototype.removeText=function(t,e,n,i,r,a){if(null==i){var o=this._textCache[t];if(null!=o)for(var s in o)if(d.call(o,s)){var l=o[s];for(var h in l)if(d.call(l,h))for(var u=l[h].positions,c=0;f=u[c];c++)f.active=!1}}else{var f;for(u=this.getTextInfo(t,i,r,a).positions,c=0;f=u[c];c++)f.x==e&&f.y==n&&(f.active=!1)}},mt.plot=function(t,e,n){return new i(mt(t),e,n,mt.plot.plugins)},mt.plot.version="0.8.3",mt.plot.plugins=[],mt.fn.plot=function(t,e){return this.each(function(){mt.plot(this,t,e)})}}(jQuery),function(s){function e(t,e,n,i){var r="categories"==e.xaxis.options.mode,a="categories"==e.yaxis.options.mode;if(r||a){var o=i.format;if(!o){var s=e;if((o=[]).push({x:!0,number:!0,required:!0}),o.push({y:!0,number:!0,required:!0}),s.bars.show||s.lines.show&&s.lines.fill){var l=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);o.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:l}),s.bars.horizontal&&(delete o[o.length-1].y,o[o.length-1].x=!0)}i.format=o}for(var h=0;h<o.length;++h)o[h].x&&r&&(o[h].number=!1),o[h].y&&a&&(o[h].number=!1)}}function c(t){var e=-1;for(var n in t)t[n]>e&&(e=t[n]);return e+1}function l(t){var e=[];for(var n in t.categories){var i=t.categories[n];i>=t.min&&i<=t.max&&e.push([i,n])}return e.sort(function(t,e){return t[0]-e[0]}),e}function i(t,e,n){if("categories"==t[e].options.mode){if(!t[e].categories){var i={},r=t[e].options.categories||{};if(s.isArray(r))for(var a=0;a<r.length;++a)i[r[a]]=a;else for(var o in r)i[o]=r[o];t[e].categories=i}t[e].options.ticks||(t[e].options.ticks=l),h(n,e,t[e].categories)}}function h(t,e,n){for(var i=t.points,r=t.pointsize,a=t.format,o=e.charAt(0),s=c(n),l=0;l<i.length;l+=r)if(null!=i[l])for(var h=0;h<r;++h){var u=i[l+h];null!=u&&a[h][o]&&(u in n||(n[u]=s,++s),i[l+h]=n[u])}}function n(t,e,n){i(e,"xaxis",n),i(e,"yaxis",n)}function t(t){t.hooks.processRawData.push(e),t.hooks.processDatapoints.push(n)}var r={xaxis:{categories:null},yaxis:{categories:null}};s.plot.plugins.push({init:t,options:r,name:"categories",version:"1.0"})}(jQuery),function(_){function t(h){function r(t){M||(M=!0,g=t.getCanvas(),x=_(g).parent(),y=t.getOptions(),t.setData(e(t.getData())))}function e(t){for(var e=0,n=0,i=0,r=y.series.pie.combine.color,a=[],o=0;o<t.length;++o){var s=t[o].data;_.isArray(s)&&1==s.length&&(s=s[0]),_.isArray(s)?!isNaN(parseFloat(s[1]))&&isFinite(s[1])?s[1]=+s[1]:s[1]=0:s=!isNaN(parseFloat(s))&&isFinite(s)?[1,+s]:[1,0],t[o].data=[s]}for(o=0;o<t.length;++o)e+=t[o].data[0][1];for(o=0;o<t.length;++o){(s=t[o].data[0][1])/e<=y.series.pie.combine.threshold&&(n+=s,i++,r||(r=t[o].color))}for(o=0;o<t.length;++o){s=t[o].data[0][1];(i<2||s/e>y.series.pie.combine.threshold)&&a.push(_.extend(t[o],{data:[[1,s]],color:t[o].color,label:t[o].label,angle:s*Math.PI*2/e,percent:s/(e/100)}))}return 1<i&&a.push({data:[[1,n]],color:r,label:y.series.pie.combine.label,angle:n*Math.PI*2/e,percent:n/(e/100)}),a}function n(t,e){function n(){S.clearRect(0,0,m,v),x.children().filter(".pieLabel, .pieLabelBackground").remove()}function i(){var t=y.series.pie.shadow.left,e=y.series.pie.shadow.top,n=10,i=y.series.pie.shadow.alpha,r=1<y.series.pie.radius?y.series.pie.radius:b*y.series.pie.radius;if(!(m/2-t<=r||r*y.series.pie.tilt>=v/2-e||r<=n)){S.save(),S.translate(t,e),S.globalAlpha=i,S.fillStyle="#000",S.translate(w,k),S.scale(1,y.series.pie.tilt);for(var a=1;a<=n;a++)S.beginPath(),S.arc(0,0,r,0,2*Math.PI,!1),S.fill(),r-=a;S.restore()}}function r(){function t(t,e,n){t<=0||isNaN(t)||(n?S.fillStyle=e:(S.strokeStyle=e,S.lineJoin="round"),S.beginPath(),1e-9<Math.abs(t-2*Math.PI)&&S.moveTo(0,0),S.arc(0,0,r,a,a+t/2,!1),S.arc(0,0,r,a+t/2,a+t,!1),S.closePath(),a+=t,n?S.fill():S.stroke())}function e(){function t(t,e,n){if(0==t.data[0][1])return!0;var i,r=y.legend.labelFormatter,a=y.series.pie.label.formatter;i=r?r(t.label,t):t.label,a&&(i=a(i,t));var o=(e+t.angle+e)/2,s=w+Math.round(Math.cos(o)*g),l=k+Math.round(Math.sin(o)*g)*y.series.pie.tilt,h="<span class='pieLabel' id='pieLabel"+n+"' style='position:absolute;top:"+l+"px;left:"+s+"px;'>"+i+"</span>";x.append(h);var u=x.children("#pieLabel"+n),c=l-u.height()/2,f=s-u.width()/2;if(u.css("top",c),u.css("left",f),0<0-c||0<0-f||v-(c+u.height())<0||m-(f+u.width())<0)return!1;if(0!=y.series.pie.label.background.opacity){var d=y.series.pie.label.background.color;null==d&&(d=t.color);var p="top:"+c+"px;left:"+f+"px;";_("<div class='pieLabelBackground' style='position:absolute;width:"+u.width()+"px;height:"+u.height()+"px;"+p+"background-color:"+d+";'></div>").css("opacity",y.series.pie.label.background.opacity).insertBefore(u)}return!0}for(var e=i,g=1<y.series.pie.label.radius?y.series.pie.label.radius:b*y.series.pie.label.radius,n=0;n<o.length;++n){if(o[n].percent>=100*y.series.pie.label.threshold&&!t(o[n],e,n))return!1;e+=o[n].angle}return!0}var i=Math.PI*y.series.pie.startAngle,r=1<y.series.pie.radius?y.series.pie.radius:b*y.series.pie.radius;S.save(),S.translate(w,k),S.scale(1,y.series.pie.tilt),S.save();for(var a=i,n=0;n<o.length;++n)o[n].startAngle=a,t(o[n].angle,o[n].color,!0);if(S.restore(),0<y.series.pie.stroke.width){S.save(),S.lineWidth=y.series.pie.stroke.width,a=i;for(n=0;n<o.length;++n)t(o[n].angle,y.series.pie.stroke.color,!1);S.restore()}return l(S),S.restore(),!y.series.pie.label.show||e()}if(x){var m=t.getPlaceholder().width(),v=t.getPlaceholder().height(),a=x.children().filter(".legend").children().width()||0;S=e,M=!1,b=Math.min(m,v/y.series.pie.tilt)/2,k=v/2+y.series.pie.offset.top,w=m/2,"auto"==y.series.pie.offset.left?(y.legend.position.match("w")?w+=a/2:w-=a/2,w<b?w=b:m-b<w&&(w=m-b)):w+=y.series.pie.offset.left;for(var o=t.getData(),s=0;0<s&&(b*=A),s+=1,n(),y.series.pie.tilt<=.8&&i(),!r()&&s<C;);C<=s&&(n(),x.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),t.setSeries&&t.insertLegend&&(t.setSeries(o),t.insertLegend())}}function l(t){if(0<y.series.pie.innerRadius){t.save();var e=1<y.series.pie.innerRadius?y.series.pie.innerRadius:b*y.series.pie.innerRadius;t.globalCompositeOperation="destination-out",t.beginPath(),t.fillStyle=y.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.fill(),t.closePath(),t.restore(),t.save(),t.beginPath(),t.strokeStyle=y.series.pie.stroke.color,t.arc(0,0,e,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore()}}function u(t,e){for(var n=!1,i=-1,r=t.length,a=r-1;++i<r;a=i)(t[i][1]<=e[1]&&e[1]<t[a][1]||t[a][1]<=e[1]&&e[1]<t[i][1])&&e[0]<(t[a][0]-t[i][0])*(e[1]-t[i][1])/(t[a][1]-t[i][1])+t[i][0]&&(n=!n);return n}function s(t,e){for(var n,i,r=h.getData(),a=h.getOptions(),o=1<a.series.pie.radius?a.series.pie.radius:b*a.series.pie.radius,s=0;s<r.length;++s){var l=r[s];if(l.pie.show){if(S.save(),S.beginPath(),S.moveTo(0,0),S.arc(0,0,o,l.startAngle,l.startAngle+l.angle/2,!1),S.arc(0,0,o,l.startAngle+l.angle/2,l.startAngle+l.angle,!1),S.closePath(),n=t-w,i=e-k,S.isPointInPath){if(S.isPointInPath(t-w,e-k))return S.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:s}}else if(u([[0,0],[o*Math.cos(l.startAngle),o*Math.sin(l.startAngle)],[o*Math.cos(l.startAngle+l.angle/4),o*Math.sin(l.startAngle+l.angle/4)],[o*Math.cos(l.startAngle+l.angle/2),o*Math.sin(l.startAngle+l.angle/2)],[o*Math.cos(l.startAngle+l.angle/1.5),o*Math.sin(l.startAngle+l.angle/1.5)],[o*Math.cos(l.startAngle+l.angle),o*Math.sin(l.startAngle+l.angle)]],[n,i]))return S.restore(),{datapoint:[l.percent,l.data],dataIndex:0,series:l,seriesIndex:s};S.restore()}}return null}function i(t){o("plothover",t)}function a(t){o("plotclick",t)}function o(t,e){var n=h.offset(),i=s(parseInt(e.pageX-n.left),parseInt(e.pageY-n.top));if(y.grid.autoHighlight)for(var r=0;r<m.length;++r){var a=m[r];a.auto!=t||i&&a.series==i.series||f(a.series)}i&&c(i.series,t);var o={pageX:e.pageX,pageY:e.pageY};x.trigger(t,[o,i])}function c(t,e){var n=d(t);-1==n?(m.push({series:t,auto:e}),h.triggerRedrawOverlay()):e||(m[n].auto=!1)}function f(t){null==t&&(m=[],h.triggerRedrawOverlay());var e=d(t);-1!=e&&(m.splice(e,1),h.triggerRedrawOverlay())}function d(t){for(var e=0;e<m.length;++e){if(m[e].series==t)return e}return-1}function p(t,e){function n(t){t.angle<=0||isNaN(t.angle)||(e.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",e.beginPath(),1e-9<Math.abs(t.angle-2*Math.PI)&&e.moveTo(0,0),e.arc(0,0,r,t.startAngle,t.startAngle+t.angle/2,!1),e.arc(0,0,r,t.startAngle+t.angle/2,t.startAngle+t.angle,!1),e.closePath(),e.fill())}var i=t.getOptions(),r=1<i.series.pie.radius?i.series.pie.radius:b*i.series.pie.radius;e.save(),e.translate(w,k),e.scale(1,i.series.pie.tilt);for(var a=0;a<m.length;++a)n(m[a].series);l(e),e.restore()}var g=null,x=null,y=null,b=null,w=null,k=null,M=!1,S=null,m=[];h.hooks.processOptions.push(function(t,e){e.series.pie.show&&(e.grid.show=!1,"auto"==e.series.pie.label.show&&(e.legend.show?e.series.pie.label.show=!1:e.series.pie.label.show=!0),"auto"==e.series.pie.radius&&(e.series.pie.label.show?e.series.pie.radius=.75:e.series.pie.radius=1),1<e.series.pie.tilt?e.series.pie.tilt=1:e.series.pie.tilt<0&&(e.series.pie.tilt=0))}),h.hooks.bindEvents.push(function(t,e){var n=t.getOptions();n.series.pie.show&&(n.grid.hoverable&&e.unbind("mousemove").mousemove(i),n.grid.clickable&&e.unbind("click").click(a))}),h.hooks.processDatapoints.push(function(t,e,n,i){t.getOptions().series.pie.show&&r(t,e,n,i)}),h.hooks.drawOverlay.push(function(t,e){t.getOptions().series.pie.show&&p(t,e)}),h.hooks.draw.push(function(t,e){t.getOptions().series.pie.show&&n(t,e)})}var C=10,A=.95,e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(t,e){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+e.color+";'>"+t+"<br/>"+Math.round(e.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};_.plot.plugins.push({init:t,options:e,name:"pie",version:"1.1"})}(jQuery),function(o,s,l){"$:nomunge";function h(t){!0===d&&(d=t||1);for(var e=c.length-1;0<=e;e--){var n=o(c[e]);if(n[0]==s||n.is(":visible")){var i=n.width(),r=n.height(),a=n.data(g);!a||i===a.w&&r===a.h||(n.trigger(p,[a.w=i,a.h=r]),d=t||!0)}else(a=n.data(g)).w=0,a.h=0}null!==u&&(d&&(null==t||t-d<1e3)?u=s.requestAnimationFrame(h):(u=setTimeout(h,f[m]),d=!1))}var u,c=[],f=o.resize=o.extend(o.resize,{}),d=!1,n="setTimeout",p="resize",g=p+"-special-event",m="pendingDelay",e="activeDelay",i="throttleWindow";f[m]=200,f[e]=20,f[i]=!0,o.event.special[p]={setup:function(){if(!f[i]&&this[n])return!1;var t=o(this);c.push(this),t.data(g,{w:t.width(),h:t.height()}),1===c.length&&(u=l,h())},teardown:function(){if(!f[i]&&this[n])return!1;for(var t=o(this),e=c.length-1;0<=e;e--)if(c[e]==this){c.splice(e,1);break}t.removeData(g),c.length||(d?cancelAnimationFrame(u):clearTimeout(u),u=null)},add:function(t){function e(t,e,n){var i=o(this),r=i.data(g)||{};r.w=e!==l?e:i.width(),r.h=n!==l?n:i.height(),a.apply(this,arguments)}return!(!f[i]&&this[n])&&(o.isFunction(t)?(a=t,e):(a=t.handler,void(t.handler=e)));var a}},s.requestAnimationFrame||(s.requestAnimationFrame=s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||s.oRequestAnimationFrame||s.msRequestAnimationFrame||function(t){return s.setTimeout(function(){t((new Date).getTime())},f[e])}),s.cancelAnimationFrame||(s.cancelAnimationFrame=s.webkitCancelRequestAnimationFrame||s.mozCancelRequestAnimationFrame||s.oCancelRequestAnimationFrame||s.msCancelRequestAnimationFrame||clearTimeout)}(jQuery,this),function(){function t(e){function n(){var t=e.getPlaceholder();0!=t.width()&&0!=t.height()&&(e.resize(),e.setupGrid(),e.draw())}function t(t){t.getPlaceholder().resize(n)}function i(t){t.getPlaceholder().unbind("resize",n)}e.hooks.bindEvents.push(t),e.hooks.shutdown.push(i)}var e={};jQuery.plot.plugins.push({init:t,options:e,name:"resize",version:"1.0"})}(),function(e){function x(t,e){return e*Math.floor(t/e)}function l(t,e,n,i){if("function"==typeof t.strftime)return t.strftime(e);var r,a=function(t,e){return e=""+(null==e?"0":e),1==(t=""+t).length?e+t:t},o=[],s=!1,l=t.getHours(),h=l<12;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==i&&(i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),r=12<l?l-12:0==l?12:l;for(var u=0;u<e.length;++u){var c=e.charAt(u);if(s){switch(c){case"a":c=""+i[t.getDay()];break;case"b":c=""+n[t.getMonth()];break;case"d":c=a(t.getDate());break;case"e":c=a(t.getDate()," ");break;case"h":case"H":c=a(l);break;case"I":c=a(r);break;case"l":c=a(r," ");break;case"m":c=a(t.getMonth()+1);break;case"M":c=a(t.getMinutes());break;case"q":c=""+(Math.floor(t.getMonth()/3)+1);break;case"S":c=a(t.getSeconds());break;case"y":c=a(t.getFullYear()%100);break;case"Y":c=""+t.getFullYear();break;case"p":c=h?"am":"pm";break;case"P":c=h?"AM":"PM";break;case"w":c=""+t.getDay()}o.push(c),s=!1}else"%"==c?s=!0:o.push(c)}return o.join("")}function i(t){function e(t,e,n,i){t[e]=function(){return n[i].apply(n,arguments)}}var n={date:t};t.strftime!=undefined&&e(n,"strftime",t,"strftime"),e(n,"getTime",t,"getTime"),e(n,"setTime",t,"setTime");for(var i=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<i.length;r++)e(n,"get"+i[r],t,"getUTC"+i[r]),e(n,"set"+i[r],t,"setUTC"+i[r]);return n}function y(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var n=new timezoneJS.Date;return n.setTimezone(e.timezone),n.setTime(t),n}return i(new Date(t))}return i(new Date(t))}function t(t){t.hooks.processOptions.push(function(t){e.each(t.getAxes(),function(t,e){var v=e.options;"time"==v.mode&&(e.tickGenerator=function(t){var e=[],n=y(t.min,v),i=0,r=v.tickSize&&"quarter"===v.tickSize[1]||v.minTickSize&&"quarter"===v.minTickSize[1]?k:w;null!=v.minTickSize&&(i="number"==typeof v.tickSize?v.tickSize:v.minTickSize[0]*b[v.minTickSize[1]]);for(var a=0;a<r.length-1&&!(t.delta<(r[a][0]*b[r[a][1]]+r[a+1][0]*b[r[a+1][1]])/2&&r[a][0]*b[r[a][1]]>=i);++a);var o=r[a][0],s=r[a][1];if("year"==s){if(null!=v.minTickSize&&"year"==v.minTickSize[1])o=Math.floor(v.minTickSize[0]);else{var l=Math.pow(10,Math.floor(Math.log(t.delta/b.year)/Math.LN10)),h=t.delta/b.year/l;o=h<1.5?1:h<3?2:h<7.5?5:10,o*=l}o<1&&(o=1)}t.tickSize=v.tickSize||[o,s];var u=t.tickSize[0];s=t.tickSize[1];var c=u*b[s];"second"==s?n.setSeconds(x(n.getSeconds(),u)):"minute"==s?n.setMinutes(x(n.getMinutes(),u)):"hour"==s?n.setHours(x(n.getHours(),u)):"month"==s?n.setMonth(x(n.getMonth(),u)):"quarter"==s?n.setMonth(3*x(n.getMonth()/3,u)):"year"==s&&n.setFullYear(x(n.getFullYear(),u)),n.setMilliseconds(0),c>=b.minute&&n.setSeconds(0),c>=b.hour&&n.setMinutes(0),c>=b.day&&n.setHours(0),c>=4*b.day&&n.setDate(1),c>=2*b.month&&n.setMonth(x(n.getMonth(),3)),c>=2*b.quarter&&n.setMonth(x(n.getMonth(),6)),c>=b.year&&n.setMonth(0);var f,d=0,p=Number.NaN;do{if(f=p,p=n.getTime(),e.push(p),"month"==s||"quarter"==s)if(u<1){n.setDate(1);var g=n.getTime();n.setMonth(n.getMonth()+("quarter"==s?3:1));var m=n.getTime();n.setTime(p+d*b.hour+(m-g)*u),d=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+u*("quarter"==s?3:1));else"year"==s?n.setFullYear(n.getFullYear()+u):n.setTime(p+c)}while(p<t.max&&p!=f);return e},e.tickFormatter=function(t,e){var n=y(t,e.options);if(null!=v.timeformat)return l(n,v.timeformat,v.monthNames,v.dayNames);var i=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],r=e.tickSize[0]*b[e.tickSize[1]],a=e.max-e.min,o=v.twelveHourClock?" %p":"",s=v.twelveHourClock?"%I":"%H";return l(n,r<b.minute?s+":%M:%S"+o:r<b.day?a<2*b.day?s+":%M"+o:"%b %d "+s+":%M"+o:r<b.month?"%b %d":i&&r<b.quarter||!i&&r<b.year?a<b.year?"%b":"%b %Y":i&&r<b.year?a<b.year?"Q%q":"Q%q %Y":"%Y",v.monthNames,v.dayNames)})})})}var n={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},b={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},r=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],w=r.concat([[3,"month"],[6,"month"],[1,"year"]]),k=r.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:t,options:n,name:"time",version:"1.0"}),e.plot.formatDate=l,e.plot.dateGenerator=y}(jQuery),function(d){"use strict";function p(t,e,n,i,r,a,o){var s,l,h,u=Math.pow,c=Math.sqrt;return[n+(l=o*(s=c(u(n-t,2)+u(i-e,2)))/(s+c(u(r-n,2)+u(a-i,2))))*(t-r),i+l*(e-a),n-(h=o-l)*(t-r),i-h*(e-a)]}function g(t,e,n,i,r){var a=d.color.parse(r);a.a="number"==typeof i?i:.3,a.normalize(),a=a.toString(),e.beginPath(),e.moveTo(t[0][0],t[0][1]);for(var o=t.length,s=0;s<o;s++)e[t[s][3]].apply(e,t[s][2]);e.stroke(),e.lineWidth=0,e.lineTo(t[o-1][0],n),e.lineTo(t[0][0],n),e.closePath(),!1!==i&&(e.fillStyle=a,e.fill())}function m(t,e,n,i){(void 0===e||"bezier"!==e&&"quadratic"!==e)&&(e="quadratic"),e+="CurveTo",0==v.length?v.push([n[0],n[1],i.concat(n.slice(2)),e]):"quadraticCurveTo"==e&&2==n.length?(i=i.slice(0,2).concat(n),v.push([n[0],n[1],i,e])):v.push([n[2],n[3],i.concat(n.slice(2)),e])}function e(t,e,n){if(!0===n.splines.show){var i,r,a,o=[],s=n.splines.tension||.5,l=n.datapoints.points,h=n.datapoints.pointsize,u=t.getPlotOffset(),c=l.length,f=[];if(v=[],c/h<4)d.extend(n.lines,n.splines);else{for(i=0;i<c;i+=h)r=l[i],a=l[i+1],null==r||r<n.xaxis.min||r>n.xaxis.max||a<n.yaxis.min||a>n.yaxis.max||f.push(n.xaxis.p2c(r)+u.left,n.yaxis.p2c(a)+u.top);for(c=f.length,i=0;i<c-2;i+=2)o=o.concat(p.apply(this,f.slice(i,i+6).concat([s])));for(e.save(),e.strokeStyle=n.color,e.lineWidth=n.splines.lineWidth,m(e,"quadratic",f.slice(0,4),o.slice(0,2)),i=2;i<c-3;i+=2)m(e,"bezier",f.slice(i,i+4),o.slice(2*i-2,2*i+2));m(e,"quadratic",f.slice(c-2,c),[o[2*c-10],o[2*c-9],f[c-4],f[c-3]]),g(v,e,t.height()+10,n.splines.fill,n.color),e.restore()}}}var v=[];d.plot.plugins.push({init:function(t){t.hooks.drawSeries.push(e)},options:{series:{splines:{show:!1,lineWidth:2,tension:.5,fill:!1}}},name:"spline",version:"0.8.2"})}(jQuery),function(a){var t={tooltip:{show:!1,cssClass:"flotTip",content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,snap:!0,lines:!1,clickTips:!1,onHover:function(){},$compat:!1}};t.tooltipOpts=t.tooltip;var e=function(t){this.tipPosition={x:0,y:0},this.init(t)};e.prototype.init=function(g){function n(t){var e={};e.x=t.pageX,e.y=t.pageY,g.setTooltipPosition(e)}function i(t,e,n){m.clickmode?(a(g.getPlaceholder()).bind("plothover",r),g.hideTooltip(),m.clickmode=!1):(r(t,e,n),m.getDomElement().is(":visible")&&(a(g.getPlaceholder()).unbind("plothover",r),m.clickmode=!0))}function r(t,u,e){var f=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},c=function(n,i,r,a,o,s,t){if(!t||(t=function(){if(void 0!==r)return{x:r,y:i};if(void 0!==a)return{x:n,y:a};var t,e=-1/((s-a)/(o-r));return{x:t=(o*(n*e-i+a)+r*(n*-e+i-s))/(e*(o-r)+a-s),y:e*t-e*n+i}}()).x>=Math.min(r,o)&&t.x<=Math.max(r,o)&&t.y>=Math.min(a,s)&&t.y<=Math.max(a,s)){var e=a-s,l=o-r,h=r*s-a*o
;return Math.abs(e*n+l*i+h)/Math.sqrt(e*e+l*l)}var u=f(n,i,r,a),c=f(n,i,o,s);return c<u?c:u};if(e)g.showTooltip(e,m.tooltipOptions.snap?e:u);else if(m.plotOptions.series.lines.show&&!0===m.tooltipOptions.lines){var n=m.plotOptions.grid.mouseActiveRadius,d={distance:n+1},p=u;a.each(g.getData(),function(t,e){for(var n=0,i=-1,r=1;r<e.data.length;r++)e.data[r-1][0]<=u.x&&e.data[r][0]>=u.x&&(n=r-1,i=r);if(-1!==i){var a={x:e.data[n][0],y:e.data[n][1]},o={x:e.data[i][0],y:e.data[i][1]},s=c(e.xaxis.p2c(u.x),e.yaxis.p2c(u.y),e.xaxis.p2c(a.x),e.yaxis.p2c(a.y),e.xaxis.p2c(o.x),e.yaxis.p2c(o.y),!1);if(s<d.distance){var l=f(a.x,a.y,u.x,u.y)<f(u.x,u.y,o.x,o.y)?n:i,h=(e.datapoints.pointsize,[u.x,a.y+(o.y-a.y)*((u.x-a.x)/(o.x-a.x))]);d={distance:s,item:{datapoint:h,dataIndex:l,series:e,seriesIndex:t}},m.tooltipOptions.snap&&(p={pageX:e.xaxis.p2c(h[0]),pageY:e.yaxis.p2c(h[1])})}}else g.hideTooltip()}),d.distance<n+1?g.showTooltip(d.item,p):g.hideTooltip()}else g.hideTooltip()}var m=this,t=a.plot.plugins.length;if(this.plotPlugins=[],t)for(var e=0;e<t;e++)this.plotPlugins.push(a.plot.plugins[e].name);g.hooks.bindEvents.push(function(t,e){m.plotOptions=t.getOptions(),"boolean"==typeof m.plotOptions.tooltip&&(m.plotOptions.tooltipOpts.show=m.plotOptions.tooltip,m.plotOptions.tooltip=m.plotOptions.tooltipOpts,delete m.plotOptions.tooltipOpts),!1!==m.plotOptions.tooltip.show&&"undefined"!=typeof m.plotOptions.tooltip.show&&(m.tooltipOptions=m.plotOptions.tooltip,m.tooltipOptions.$compat?(m.wfunc="width",m.hfunc="height"):(m.wfunc="innerWidth",m.hfunc="innerHeight"),m.getDomElement(),a(t.getPlaceholder()).bind("plothover",r),m.tooltipOptions.clickTips&&a(t.getPlaceholder()).bind("plotclick",i),m.clickmode=!1,a(e).bind("mousemove",n))}),g.hooks.shutdown.push(function(t,e){a(t.getPlaceholder()).unbind("plothover",r),a(t.getPlaceholder()).unbind("plotclick",i),t.removeTooltip(),a(e).unbind("mousemove",n)}),g.setTooltipPosition=function(t){var e=m.getDomElement(),n=e.outerWidth()+m.tooltipOptions.shifts.x,i=e.outerHeight()+m.tooltipOptions.shifts.y;t.x-a(window).scrollLeft()>a(window)[m.wfunc]()-n&&(t.x-=n,t.x=Math.max(t.x,0)),t.y-a(window).scrollTop()>a(window)[m.hfunc]()-i&&(t.y-=i),isNaN(t.x)?m.tipPosition.x=m.tipPosition.xPrev:(m.tipPosition.x=t.x,m.tipPosition.xPrev=t.x),isNaN(t.y)?m.tipPosition.y=m.tipPosition.yPrev:(m.tipPosition.y=t.y,m.tipPosition.yPrev=t.y)},g.showTooltip=function(t){var e=m.getDomElement(),n=m.stringFormat(m.tooltipOptions.content,t);""!==n&&(e.html(n),g.setTooltipPosition({x:m.tipPosition.x,y:m.tipPosition.y}),e.css({left:m.tipPosition.x+m.tooltipOptions.shifts.x,top:m.tipPosition.y+m.tooltipOptions.shifts.y}).show(),"function"==typeof m.tooltipOptions.onHover&&m.tooltipOptions.onHover(t,e))},g.hideTooltip=function(){m.getDomElement().hide().html("")},g.removeTooltip=function(){m.getDomElement().remove()}},e.prototype.getDomElement=function(){var t=a("<div>");return this.tooltipOptions&&this.tooltipOptions.cssClass&&(0===(t=a("."+this.tooltipOptions.cssClass)).length&&((t=a("<div />").addClass(this.tooltipOptions.cssClass)).appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&t.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"}))),t},e.prototype.stringFormat=function(t,e){var n,i,r,a,o,s=/%p\.{0,1}(\d{0,})/,l=/%s/,h=/%c/,u=/%lx/,c=/%ly/,f=/%x\.{0,1}(\d{0,})/,d=/%y\.{0,1}(\d{0,})/,p="%x",g="%y",m="%ct",v="%n";if("undefined"!=typeof e.series.threshold?(n=e.datapoint[0],i=e.datapoint[1],r=e.datapoint[2]):"undefined"!=typeof e.series.curvedLines?(n=e.datapoint[0],i=e.datapoint[1]):"undefined"!=typeof e.series.lines&&e.series.lines.steps?(n=e.series.datapoints.points[2*e.dataIndex],i=e.series.datapoints.points[2*e.dataIndex+1],r=""):(n=e.series.data[e.dataIndex][0],i=e.series.data[e.dataIndex][1],r=e.series.data[e.dataIndex][2]),null===e.series.label&&e.series.originSeries&&(e.series.label=e.series.originSeries.label),"function"==typeof t&&(t=t(e.series.label,n,i,e)),"boolean"==typeof t&&!t)return"";if(r&&(t=t.replace(m,r)),"undefined"!=typeof e.series.percent?a=e.series.percent:"undefined"!=typeof e.series.percents&&(a=e.series.percents[e.dataIndex]),"number"==typeof a&&(t=this.adjustValPrecision(s,t,a)),e.series.hasOwnProperty("pie")&&"undefined"!=typeof e.series.data[0][1]&&(o=e.series.data[0][1]),"number"==typeof o&&(t=t.replace(v,o)),t="undefined"!=typeof e.series.label?t.replace(l,e.series.label):t.replace(l,""),t="undefined"!=typeof e.series.color?t.replace(h,e.series.color):t.replace(h,""),t=this.hasAxisLabel("xaxis",e)?t.replace(u,e.series.xaxis.options.axisLabel):t.replace(u,""),t=this.hasAxisLabel("yaxis",e)?t.replace(c,e.series.yaxis.options.axisLabel):t.replace(c,""),this.isTimeMode("xaxis",e)&&this.isXDateFormat(e)&&(t=t.replace(f,this.timestampToDate(n,this.tooltipOptions.xDateFormat,e.series.xaxis.options))),this.isTimeMode("yaxis",e)&&this.isYDateFormat(e)&&(t=t.replace(d,this.timestampToDate(i,this.tooltipOptions.yDateFormat,e.series.yaxis.options))),"number"==typeof n&&(t=this.adjustValPrecision(f,t,n)),"number"==typeof i&&(t=this.adjustValPrecision(d,t,i)),"undefined"!=typeof e.series.xaxis.ticks){var x;x=this.hasRotatedXAxisTicks(e)?"rotatedTicks":"ticks";var y=e.dataIndex+e.seriesIndex;for(var b in e.series.xaxis[x])if(e.series.xaxis[x].hasOwnProperty(y)&&!this.isTimeMode("xaxis",e)){(this.isCategoriesMode("xaxis",e)?e.series.xaxis[x][y].label:e.series.xaxis[x][y].v)===n&&(t=t.replace(f,e.series.xaxis[x][y].label.replace(/\$/g,"$$$$")))}}if("undefined"!=typeof e.series.yaxis.ticks)for(var w in e.series.yaxis.ticks)if(e.series.yaxis.ticks.hasOwnProperty(w)){(this.isCategoriesMode("yaxis",e)?e.series.yaxis.ticks[w].label:e.series.yaxis.ticks[w].v)===i&&(t=t.replace(d,e.series.yaxis.ticks[w].label.replace(/\$/g,"$$$$")))}return"undefined"!=typeof e.series.xaxis.tickFormatter&&(t=t.replace(p,e.series.xaxis.tickFormatter(n,e.series.xaxis).replace(/\$/g,"$$"))),"undefined"!=typeof e.series.yaxis.tickFormatter&&(t=t.replace(g,e.series.yaxis.tickFormatter(i,e.series.yaxis).replace(/\$/g,"$$"))),t},e.prototype.isTimeMode=function(t,e){return"undefined"!=typeof e.series[t].options.mode&&"time"===e.series[t].options.mode},e.prototype.isXDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},e.prototype.isYDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},e.prototype.isCategoriesMode=function(t,e){return"undefined"!=typeof e.series[t].options.mode&&"categories"===e.series[t].options.mode},e.prototype.timestampToDate=function(t,e,n){var i=a.plot.dateGenerator(t,n);return a.plot.formatDate(i,e,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},e.prototype.adjustValPrecision=function(t,e,n){var i;return null!==e.match(t)&&""!==RegExp.$1&&(i=RegExp.$1,n=n.toFixed(i),e=e.replace(t,n)),e},e.prototype.hasAxisLabel=function(t,e){return-1!==a.inArray("axisLabels",this.plotPlugins)&&"undefined"!=typeof e.series[t].options.axisLabel&&0<e.series[t].options.axisLabel.length},e.prototype.hasRotatedXAxisTicks=function(t){return-1!==a.inArray("tickRotor",this.plotPlugins)&&"undefined"!=typeof t.series.xaxis.rotatedTicks};var n=function(t){new e(t)};a.plot.plugins.push({init:n,options:t,name:"tooltip",version:"0.8.5"})}(jQuery),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=t()}}(function(){return function a(o,s,l){function h(n,t){if(!s[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[n]={exports:{}};o[n][0].call(r.exports,function(t){var e=o[n][1][t];return h(e||t)},r,r.exports,a,o,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(){},{}],2:[function(t,e){function n(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/(\w+)/,o=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(var h=0;h<o.length;h++)o[h]=parseInt(l[h]+l[h],16)}else if(l=t.match(n)){l=l[1];for(h=0;h<o.length;h++)o[h]=parseInt(l.slice(2*h,2*h+2),16)}else if(l=t.match(i)){for(h=0;h<o.length;h++)o[h]=parseInt(l[h+1]);s=parseFloat(l[4])}else if(l=t.match(r)){for(h=0;h<o.length;h++)o[h]=Math.round(2.55*parseFloat(l[h+1]));s=parseFloat(l[4])}else if(l=t.match(a)){if("transparent"==l[1])return[0,0,0,0];if(!(o=y[l[1]]))return}for(h=0;h<o.length;h++)o[h]=v(o[h],0,255);return s=s||0==s?v(s,0,1):1,o[3]=s,o}}function i(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]);return[v(parseInt(n[1]),0,360),v(parseFloat(n[2]),0,100),v(parseFloat(n[3]),0,100),v(isNaN(i)?1:i,0,1)]}}}function r(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]);return[v(parseInt(n[1]),0,360),v(parseFloat(n[2]),0,100),v(parseFloat(n[3]),0,100),v(isNaN(i)?1:i,0,1)]}}}function a(t){var e=n(t);return e&&e.slice(0,3)}function o(t){var e=i(t);return e&&e.slice(0,3)}function s(t){var e=n(t);return e?e[3]:(e=i(t))?e[3]:(e=r(t))?e[3]:void 0}function l(t){return"#"+x(t[0])+x(t[1])+x(t[2])}function h(t,e){return e<1||t[3]&&t[3]<1?u(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function u(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function c(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"}function f(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function d(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function p(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function g(t,e){return e===undefined&&(e=t[3]!==undefined?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(e!==undefined&&1!==e?", "+e:"")+")"}function m(t){return b[t.slice(0,3)]}function v(t,e,n){return Math.min(Math.max(e,t),n)}function x(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var y=t(6);e.exports={getRgba:n,getHsla:i,getRgb:a,getHsl:o,getHwb:r,getAlpha:s,hexString:l,rgbString:h,rgbaString:u,percentString:c,percentaString:f,hslString:d,hslaString:p,hwbString:g,keyword:m};var b={};for(var w in y)b[y[w]]=w},{6:6}],3:[function(t,e){var u=t(5),n=t(2),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);var e;if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof t)if(e=n.getRgba(t))this.setValues("rgb",e);else if(e=n.getHsla(t))this.setValues("hsl",e);else{if(!(e=n.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if((e=t).r!==undefined||e.red!==undefined)this.setValues("rgb",e);else if(e.l!==undefined||e.lightness!==undefined)this.setValues("hsl",e);else if(e.v!==undefined||e.value!==undefined)this.setValues("hsv",e);else if(e.w!==undefined||e.whiteness!==undefined)this.setValues("hwb",e);else{if(e.c===undefined&&e.cyan===undefined)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return t===undefined?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return n<e?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,r=e===undefined?.5:e,a=2*r-1,o=n.alpha()-i.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new o,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],"[object Array]"===(e={}.toString.call(t))?r[a]=t.slice(0):"[object Number]"===e?r[a]=t:console.error("unexpected color value:",t));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},o.prototype.setValues=function(t,e){var n,i,r=this.values,a=this.spaces,o=this.maxes,s=1;if("alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(e[t.charAt(0)]!==undefined){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(e[a[t][0]]!==undefined){var l=a[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,s===undefined?r.alpha:s)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(o[t][n],r[t][n])),r[t][n]=Math.round(i);for(var h in a)h!==t&&(r[h]=u[t][h](r[t]));return!0},o.prototype.setSpace=function(t,e){var n=e[0];return n===undefined?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},o.prototype.setChannel=function(t,e,n){var i=this.values[t];return n===undefined?i[e]:(n===i[e]||(i[e]=n,this.setValues(t,i)),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{2:2,5:5}],4:[function(t,e){function a(t){var e,n,i=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return s==o?e=0:i==s?e=(r-a)/l:r==s?e=2+(a-i)/l:a==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+s)/2,[e,100*(s==o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]}function n(t){var e,n,i=t[0],r=t[1],a=t[2],o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return n=0==s?0:l/s*1e3/10,s==o?e=0:i==s?e=(r-a)/l:r==s?e=2+(a-i)/l:a==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function i(t){var e=t[0],n=t[1],i=t[2];return[a(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]}function o(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]}function s(t){return Q[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function h(t){var e=l(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]}function u(t){return N(h(t))}function c(t){var e,n,i,r,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[a=255*l,a,a];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var h=0;h<3;h++)(i=o+1/3*-(h-1))<0&&i++,1<i&&i--,a=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[h]=255*a;return r}function f(t){var e=t[0],n=t[1]/100,i=t[2]/100;return 0===i?[0,0,0]:[e,100*(2*(n*=(i*=2)<=1?i:2-i)/(i+n)),100*((i+n)/2)]}function d(t){return i(c(t))}function p(t){return o(c(t))}function m(t){return s(c(t))}function v(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,a=e-Math.floor(e),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));i*=255;switch(r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}}function x(t){var e,n,i=t[0],r=t[1]/100,a=t[2]/100;return e=r*a,[i,100*(e=(e/=(n=(2-r)*a)<=1?n:2-n)||0),100*(n/=2)]}function y(t){return i(v(t))}function w(t){return o(v(t))}function k(t){return s(v(t))}function M(t){var e,n,i,a,o=t[0]/360,s=t[1]/100,l=t[2]/100,h=s+l;switch(1<h&&(s/=h,l/=h),i=6*o-(e=Math.floor(6*o)),0!=(1&e)&&(i=1-i),a=s+i*((n=1-l)-s),e){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function S(t){return a(M(t))}function _(t){return n(M(t))}function C(t){return o(M(t))}function A(t){return s(M(t))}function T(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function I(t){return a(T(t))}function P(t){return n(T(t))}function D(t){return i(T(t))}function E(t){return s(T(t))}function F(t){var e,n,i,r=t[0]/100,a=t[1]/100,o=t[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,e=.0031308<(e=3.2406*r+-1.5372*a+-.4986*o)?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function L(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]}function z(t){return N(L(t))}function R(t){var e,n,i,r,a=t[0],o=t[1],s=t[2];return a<=8?r=(n=100*a/903.3)/100*7.787+16/116:(n=100*Math.pow((a+16)/116,3),r=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(o/500+r-16/116)/7.787:95.047*Math.pow(o/500+r,3),n,i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function N(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]}function O(t){return F(R(t))}function B(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]}function H(t){return R(B(t))}function W(t){return O(B(t))}function V(t){return $[t]}function j(t){return a(V(t))}function q(t){return n(V(t))}function Y(t){return i(V(t))}function U(t){return o(V(t))}function G(t){return h(V(t))}function X(t){return l(V(t))}e.exports={rgb2hsl:a,rgb2hsv:n,rgb2hwb:i,rgb2cmyk:o,rgb2keyword:s,rgb2xyz:l,rgb2lab:h,rgb2lch:u,hsl2rgb:c,hsl2hsv:f,hsl2hwb:d,hsl2cmyk:p,hsl2keyword:m,hsv2rgb:v,hsv2hsl:x,hsv2hwb:y,hsv2cmyk:w,hsv2keyword:k,hwb2rgb:M,hwb2hsl:S,hwb2hsv:_,hwb2cmyk:C,hwb2keyword:A,cmyk2rgb:T,cmyk2hsl:I,cmyk2hsv:P,cmyk2hwb:D,cmyk2keyword:E,keyword2rgb:V,keyword2hsl:j,keyword2hsv:q,keyword2hwb:Y,keyword2cmyk:U,keyword2lab:G,keyword2xyz:X,xyz2rgb:F,xyz2lab:L,xyz2lch:z,lab2xyz:R,lab2rgb:O,lab2lch:N,lch2lab:B,lch2xyz:H,lch2rgb:W};var $={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q={};for(var Z in $)Q[JSON.stringify($[Z])]=Z},{}],5:[function(t,e){var r=t(4),a=function(){return new l};for(var n in r){a[n+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(n);var i=/(\w+)2(\w+)/.exec(n),o=i[1],s=i[2];a[o]=a[o]||{},a[o][s]=a[n]=function(i){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var e=r[i](t);if("string"==typeof e||e===undefined)return e;for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]);return e}}(n)}var l=function(){this.convs={}};l.prototype.routeSpace=function(t,e){var n=e[0];return n===undefined?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},l.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},l.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=a[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){l.prototype[t]=function(){return this.routeSpace(t,arguments)}}),e.exports=a},{4:4}],6:[function(t,e){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e){var n=t(28)();t(26)(n),t(42)(n),t(22)(n),t(31)(n),t(25)(n),t(21)(n),t(23)(n),t(24)(n),t(29)(n),t(33)(n),t(34)(n),t(32)(n),t(35)(n),t(30)(n),t(27)(n),t(36)(n),t(37)(n),t(38)(n),t(39)(n),t(40)(n),t(45)(n),t(43)(n),t(44)(n),t(46)(n),t(47)(n),t(48)(n),t(15)(n),t(16)(n),t(17)(n),t(18)(n),t(19)(n),t(20)(n),t(8)(n),t(9)(n),t(10)(n),t(11)(n),t(12)(n),t(13)(n),t(14)(n),window.Chart=e.exports=n},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,42:42,43:43,44:44,45:45,46:46,47:47,48:48,8:8,9:9}],8:[function(t,e){"use strict";e.exports=function(n){n.Bar=function(t,e){return e.type="bar",new n(t,e)}}},{}],9:[function(t,e){"use strict";e.exports=function(n){n.Bubble=function(t,e){return e.type="bubble",new n(t,e)}}},{}],10:[function(t,e){"use strict";e.exports=function(n){n.Doughnut=function(t,e){return e.type="doughnut",new n(t,e)}}},{}],11:[function(t,e){"use strict";e.exports=function(n){n.Line=function(t,e){return e.type="line",new n(t,e)}}},{}],12:[function(t,e){"use strict";e.exports=function(n){n.PolarArea=function(t,e){return e.type="polarArea",new n(t,e)}}},{}],13:[function(t,e){"use strict";e.exports=function(n){n.Radar=function(t,e){return e.type="radar",new n(t,e)}}},{}],14:[function(t,e){"use strict";e.exports=function(n){var t={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}};n.defaults.scatter=t,n.controllers.scatter=n.controllers.line,n.Scatter=function(t,e){return e.type="scatter",new n(t,e)}}},{}],15:[function(t,e){"use strict";e.exports=function(l){var f=l.helpers;l.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},l.controllers.bar=l.DatasetController.extend({dataElementType:l.elements.Rectangle,initialize:function(t,e){
l.DatasetController.prototype.initialize.call(this,t,e);var n=this,i=n.getMeta(),r=n.getDataset();i.stack=r.stack,i.bar=!0},getStackCount:function(){var i=this,t=i.getMeta(),r=i.getScaleForId(t.yAxisID),a=[];return f.each(i.chart.data.datasets,function(t,e){var n=i.chart.getDatasetMeta(e);n.bar&&i.chart.isDatasetVisible(e)&&(!1===r.options.stacked||!0===r.options.stacked&&-1===a.indexOf(n.stack)||r.options.stacked===undefined&&(n.stack===undefined||-1===a.indexOf(n.stack)))&&a.push(n.stack)},i),a.length},update:function(n){var i=this;f.each(i.getMeta().data,function(t,e){i.updateElement(t,e,n)},i)},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=i.getScaleForId(r.xAxisID),o=i.getScaleForId(r.yAxisID),s=o.getBasePixel(),l=i.chart.options.elements.rectangle,h=t.custom||{},u=i.getDataset();t._xScale=a,t._yScale=o,t._datasetIndex=i.index,t._index=e;var c=i.getRuler(e);t._model={x:i.calculateBarX(e,i.index,c),y:n?s:i.calculateBarY(e,i.index),label:i.chart.data.labels[e],datasetLabel:u.label,horizontal:!1,base:n?s:i.calculateBarBase(i.index,e),width:i.calculateBarWidth(c),backgroundColor:h.backgroundColor?h.backgroundColor:f.getValueAtIndexOrDefault(u.backgroundColor,e,l.backgroundColor),borderSkipped:h.borderSkipped?h.borderSkipped:l.borderSkipped,borderColor:h.borderColor?h.borderColor:f.getValueAtIndexOrDefault(u.borderColor,e,l.borderColor),borderWidth:h.borderWidth?h.borderWidth:f.getValueAtIndexOrDefault(u.borderWidth,e,l.borderWidth)},t.pivot()},calculateBarBase:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),a=r.getBaseValue(),o=a;if(!0===r.options.stacked||r.options.stacked===undefined&&i.stack!==undefined){for(var s=n.chart,l=s.data.datasets,h=Number(l[t].data[e]),u=0;u<t;u++){var c=l[u],f=s.getDatasetMeta(u);if(f.bar&&f.yAxisID===r.id&&s.isDatasetVisible(u)&&i.stack===f.stack){var d=Number(c.data[e]);a+=h<0?Math.min(d,o):Math.max(d,o)}}return r.getPixelForValue(a)}return r.getBasePixel()},getRuler:function(){var t=this,e=t.getMeta(),n=t.getScaleForId(e.xAxisID),i=t.getStackCount(),r=n.width/n.ticks.length,a=r*n.options.categoryPercentage,o=a/i;return{stackCount:i,tickWidth:r,categoryWidth:a,categorySpacing:(r-r*n.options.categoryPercentage)/2,fullBarWidth:o,barWidth:o*n.options.barPercentage,barSpacing:o-o*n.options.barPercentage}},calculateBarWidth:function(t){var e=this,n=e.getMeta(),i=e.getScaleForId(n.xAxisID);return i.options.barThickness?i.options.barThickness:t.barWidth},getStackIndex:function(t){var e,n,i=this,r=i.chart.getDatasetMeta(t),a=i.getScaleForId(r.yAxisID),o=[r.stack];for(n=0;n<t;++n)(e=this.chart.getDatasetMeta(n)).bar&&this.chart.isDatasetVisible(n)&&(!1===a.options.stacked||!0===a.options.stacked&&-1===o.indexOf(e.stack)||a.options.stacked===undefined&&(e.stack===undefined||-1===o.indexOf(e.stack)))&&o.push(e.stack);return o.length-1},calculateBarX:function(t,e,n){var i=this,r=i.getMeta(),a=i.getScaleForId(r.xAxisID),o=i.getStackIndex(e),s=a.getPixelForValue(null,t,e,i.chart.isCombo);return(s-=i.chart.isCombo?n.tickWidth/2:0)+n.barWidth/2+n.categorySpacing+n.barWidth*o+n.barSpacing/2+n.barSpacing*o},calculateBarY:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),a=Number(n.getDataset().data[t]);if(r.options.stacked||r.options.stacked===undefined&&i.stack!==undefined){for(var o=r.getBaseValue(),s=o,l=o,h=0;h<e;h++){var u=n.chart.data.datasets[h],c=n.chart.getDatasetMeta(h);if(c.bar&&c.yAxisID===r.id&&n.chart.isDatasetVisible(h)&&i.stack===c.stack){var f=Number(u.data[t]);f<0?l+=f||0:s+=f||0}}return a<0?r.getPixelForValue(l+a):r.getPixelForValue(s+a)}return r.getPixelForValue(a)},draw:function(t){var e,n,i=this,r=t||1,a=i.getMeta().data,o=i.getDataset();for(l.canvasHelpers.clipArea(i.chart.chart.ctx,i.chart.chartArea),e=0,n=a.length;e<n;++e){var s=o.data[e];null===s||s===undefined||isNaN(s)||a[e].transition(r).draw()}l.canvasHelpers.unclipArea(i.chart.chart.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model;r.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:f.getValueAtIndexOrDefault(e.hoverBackgroundColor,n,f.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor?i.hoverBorderColor:f.getValueAtIndexOrDefault(e.hoverBorderColor,n,f.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:f.getValueAtIndexOrDefault(e.hoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model,a=this.chart.options.elements.rectangle;r.backgroundColor=i.backgroundColor?i.backgroundColor:f.getValueAtIndexOrDefault(e.backgroundColor,n,a.backgroundColor),r.borderColor=i.borderColor?i.borderColor:f.getValueAtIndexOrDefault(e.borderColor,n,a.borderColor),r.borderWidth=i.borderWidth?i.borderWidth:f.getValueAtIndexOrDefault(e.borderWidth,n,a.borderWidth)}}),l.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return 0<t.length&&(t[0].yLabel?n=t[0].yLabel:0<e.labels.length&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}}}},l.controllers.horizontalBar=l.controllers.bar.extend({getStackCount:function(){var i=this,t=i.getMeta(),r=i.getScaleForId(t.xAxisID),a=[];return f.each(i.chart.data.datasets,function(t,e){var n=i.chart.getDatasetMeta(e);n.bar&&i.chart.isDatasetVisible(e)&&(!1===r.options.stacked||!0===r.options.stacked&&-1===a.indexOf(n.stack)||r.options.stacked===undefined&&(n.stack===undefined||-1===a.indexOf(n.stack)))&&a.push(n.stack)},i),a.length},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=i.getScaleForId(r.xAxisID),o=i.getScaleForId(r.yAxisID),s=a.getBasePixel(),l=t.custom||{},h=i.getDataset(),u=i.chart.options.elements.rectangle;t._xScale=a,t._yScale=o,t._datasetIndex=i.index,t._index=e;var c=i.getRuler(e);t._model={x:n?s:i.calculateBarX(e,i.index),y:i.calculateBarY(e,i.index,c),label:i.chart.data.labels[e],datasetLabel:h.label,horizontal:!0,base:n?s:i.calculateBarBase(i.index,e),height:i.calculateBarHeight(c),backgroundColor:l.backgroundColor?l.backgroundColor:f.getValueAtIndexOrDefault(h.backgroundColor,e,u.backgroundColor),borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,borderColor:l.borderColor?l.borderColor:f.getValueAtIndexOrDefault(h.borderColor,e,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:f.getValueAtIndexOrDefault(h.borderWidth,e,u.borderWidth)},t.pivot()},calculateBarBase:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),a=r.getBaseValue(),o=a;if(r.options.stacked||r.options.stacked===undefined&&i.stack!==undefined){for(var s=n.chart,l=s.data.datasets,h=Number(l[t].data[e]),u=0;u<t;u++){var c=l[u],f=s.getDatasetMeta(u);if(f.bar&&f.xAxisID===r.id&&s.isDatasetVisible(u)&&i.stack===f.stack){var d=Number(c.data[e]);a+=h<0?Math.min(d,o):Math.max(d,o)}}return r.getPixelForValue(a)}return r.getBasePixel()},getRuler:function(){var t=this,e=t.getMeta(),n=t.getScaleForId(e.yAxisID),i=t.getStackCount(),r=n.height/n.ticks.length,a=r*n.options.categoryPercentage,o=a/i;return{stackCount:i,tickHeight:r,categoryHeight:a,categorySpacing:(r-r*n.options.categoryPercentage)/2,fullBarHeight:o,barHeight:o*n.options.barPercentage,barSpacing:o-o*n.options.barPercentage}},calculateBarHeight:function(t){var e=this,n=e.getMeta(),i=e.getScaleForId(n.yAxisID);return i.options.barThickness?i.options.barThickness:t.barHeight},getStackIndex:function(t){var e,n,i=this,r=i.chart.getDatasetMeta(t),a=i.getScaleForId(r.xAxisID),o=[r.stack];for(n=0;n<t;++n)(e=this.chart.getDatasetMeta(n)).bar&&this.chart.isDatasetVisible(n)&&(!1===a.options.stacked||!0===a.options.stacked&&-1===o.indexOf(e.stack)||a.options.stacked===undefined&&(e.stack===undefined||-1===o.indexOf(e.stack)))&&o.push(e.stack);return o.length-1},calculateBarX:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),a=Number(n.getDataset().data[t]);if(r.options.stacked||r.options.stacked===undefined&&i.stack!==undefined){for(var o=r.getBaseValue(),s=o,l=o,h=0;h<e;h++){var u=n.chart.data.datasets[h],c=n.chart.getDatasetMeta(h);if(c.bar&&c.xAxisID===r.id&&n.chart.isDatasetVisible(h)&&i.stack===c.stack){var f=Number(u.data[t]);f<0?l+=f||0:s+=f||0}}return a<0?r.getPixelForValue(l+a):r.getPixelForValue(s+a)}return r.getPixelForValue(a)},calculateBarY:function(t,e,n){var i=this,r=i.getMeta(),a=i.getScaleForId(r.yAxisID),o=i.getStackIndex(e),s=a.getPixelForValue(null,t,e,i.chart.isCombo);return(s-=i.chart.isCombo?n.tickHeight/2:0)+n.barHeight/2+n.categorySpacing+n.barHeight*o+n.barSpacing/2+n.barSpacing*o}})}},{}],16:[function(t,e){"use strict";e.exports=function(d){var p=d.helpers;d.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}},d.controllers.bubble=d.DatasetController.extend({dataElementType:d.elements.Point,update:function(n){var i=this,t=i.getMeta().data;p.each(t,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=i.getScaleForId(r.xAxisID),o=i.getScaleForId(r.yAxisID),s=t.custom||{},l=i.getDataset(),h=l.data[e],u=i.chart.options.elements.point,c=i.index;p.extend(t,{_xScale:a,_yScale:o,_datasetIndex:c,_index:e,_model:{x:n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof h?h:NaN,e,c,i.chart.isCombo),y:n?o.getBasePixel():o.getPixelForValue(h,e,c),radius:n?0:s.radius?s.radius:i.getRadius(h),hitRadius:s.hitRadius?s.hitRadius:p.getValueAtIndexOrDefault(l.hitRadius,e,u.hitRadius)}}),d.DatasetController.prototype.removeHoverStyle.call(i,t,u);var f=t._model;f.skip=s.skip?s.skip:isNaN(f.x)||isNaN(f.y),t.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(t){var e=this;d.DatasetController.prototype.setHoverStyle.call(e,t);var n=e.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{};t._model.radius=r.hoverRadius?r.hoverRadius:p.getValueAtIndexOrDefault(n.hoverRadius,i,e.chart.options.elements.point.hoverRadius)+e.getRadius(n.data[i])},removeHoverStyle:function(t){var e=this;d.DatasetController.prototype.removeHoverStyle.call(e,t,e.chart.options.elements.point);var n=e.chart.data.datasets[t._datasetIndex].data[t._index],i=t.custom||{};t._model.radius=i.radius?i.radius:e.getRadius(n)}})}},{}],17:[function(t,e){"use strict";e.exports=function(e){var _=e.helpers,t=e.defaults;t.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)e.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&e.push(r[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(l){var h=l.data;return h.labels.length&&h.datasets.length?h.labels.map(function(t,e){var n=l.getDatasetMeta(0),i=h.datasets[0],r=n.data[e],a=r&&r.custom||{},o=_.getValueAtIndexOrDefault,s=l.options.elements.arc;return{text:t,fillStyle:a.backgroundColor?a.backgroundColor:o(i.backgroundColor,e,s.backgroundColor),strokeStyle:a.borderColor?a.borderColor:o(i.borderColor,e,s.borderColor),lineWidth:a.borderWidth?a.borderWidth:o(i.borderWidth,e,s.borderWidth),hidden:isNaN(i.data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return _.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}},t.pie=_.clone(t.doughnut),_.extend(t.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:_.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(n){var i=this,t=i.chart,e=t.chartArea,r=t.options,a=r.elements.arc,o=e.right-e.left-a.borderWidth,s=e.bottom-e.top-a.borderWidth,l=Math.min(o,s),h={x:0,y:0},u=i.getMeta(),c=r.cutoutPercentage,f=r.circumference;if(f<2*Math.PI){var d=r.rotation%(2*Math.PI),p=(d+=2*Math.PI*(d>=Math.PI?-1:d<-Math.PI?1:0))+f,g={x:Math.cos(d),y:Math.sin(d)},m={x:Math.cos(p),y:Math.sin(p)},v=d<=0&&0<=p||d<=2*Math.PI&&2*Math.PI<=p,x=d<=.5*Math.PI&&.5*Math.PI<=p||d<=2.5*Math.PI&&2.5*Math.PI<=p,y=d<=-Math.PI&&-Math.PI<=p||d<=Math.PI&&Math.PI<=p,b=d<=.5*-Math.PI&&.5*-Math.PI<=p||d<=1.5*Math.PI&&1.5*Math.PI<=p,w=c/100,k={x:y?-1:Math.min(g.x*(g.x<0?1:w),m.x*(m.x<0?1:w)),y:b?-1:Math.min(g.y*(g.y<0?1:w),m.y*(m.y<0?1:w))},M={x:v?1:Math.max(g.x*(0<g.x?1:w),m.x*(0<m.x?1:w)),y:x?1:Math.max(g.y*(0<g.y?1:w),m.y*(0<m.y?1:w))},S={width:.5*(M.x-k.x),height:.5*(M.y-k.y)};l=Math.min(o/S.width,s/S.height),h={x:-.5*(M.x+k.x),y:-.5*(M.y+k.y)}}t.borderWidth=i.getMaxBorderWidth(u.data),t.outerRadius=Math.max((l-t.borderWidth)/2,0),t.innerRadius=Math.max(c?t.outerRadius/100*c:0,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),t.offsetX=h.x*t.outerRadius,t.offsetY=h.y*t.outerRadius,u.total=i.calculateTotal(),i.outerRadius=t.outerRadius-t.radiusLength*i.getRingIndex(i.index),i.innerRadius=Math.max(i.outerRadius-t.radiusLength,0),_.each(u.data,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){var i=this,r=i.chart,a=r.chartArea,o=r.options,s=o.animation,l=(a.left+a.right)/2,h=(a.top+a.bottom)/2,u=o.rotation,c=o.rotation,f=i.getDataset(),d=n&&s.animateRotate?0:t.hidden?0:i.calculateCircumference(f.data[e])*(o.circumference/(2*Math.PI)),p=n&&s.animateScale?0:i.innerRadius,g=n&&s.animateScale?0:i.outerRadius,m=_.getValueAtIndexOrDefault;_.extend(t,{_datasetIndex:i.index,_index:e,_model:{x:l+r.offsetX,y:h+r.offsetY,startAngle:u,endAngle:c,circumference:d,outerRadius:g,innerRadius:p,label:m(f.label,e,r.data.labels[e])}});var v=t._model;this.removeHoverStyle(t),n&&s.animateRotate||(v.startAngle=0===e?o.rotation:i.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var n,i=this.getDataset(),t=this.getMeta(),r=0;return _.each(t.data,function(t,e){n=i.data[e],isNaN(n)||t.hidden||(r+=Math.abs(n))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return 0<e&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,n,i=0,r=this.index,a=t.length,o=0;o<a;o++)i=(i=i<(e=t[o]._model?t[o]._model.borderWidth:0)?e:i)<(n=t[o]._chart?t[o]._chart.config.data.datasets[r].hoverBorderWidth:0)?n:i;return i}})}},{}],18:[function(t,e){"use strict";e.exports=function(s){function d(t,e){return g.getValueOrDefault(t.showLine,e.showLines)}var g=s.helpers;s.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},s.controllers.line=s.DatasetController.extend({datasetElementType:s.elements.Line,dataElementType:s.elements.Point,update:function(t){var e,n,i,r=this,a=r.getMeta(),o=a.dataset,s=a.data||[],l=r.chart.options,h=l.elements.line,u=r.getScaleForId(a.yAxisID),c=r.getDataset(),f=d(c,l);for(f&&(i=o.custom||{},c.tension!==undefined&&c.lineTension===undefined&&(c.lineTension=c.tension),o._scale=u,o._datasetIndex=r.index,o._children=s,o._model={spanGaps:c.spanGaps?c.spanGaps:l.spanGaps,tension:i.tension?i.tension:g.getValueOrDefault(c.lineTension,h.tension),backgroundColor:i.backgroundColor?i.backgroundColor:c.backgroundColor||h.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:c.borderWidth||h.borderWidth,borderColor:i.borderColor?i.borderColor:c.borderColor||h.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:c.borderCapStyle||h.borderCapStyle,borderDash:i.borderDash?i.borderDash:c.borderDash||h.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:c.borderDashOffset||h.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:c.borderJoinStyle||h.borderJoinStyle,fill:i.fill?i.fill:c.fill!==undefined?c.fill:h.fill,steppedLine:i.steppedLine?i.steppedLine:g.getValueOrDefault(c.steppedLine,h.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:g.getValueOrDefault(c.cubicInterpolationMode,h.cubicInterpolationMode),scaleTop:u.top,scaleBottom:u.bottom,scaleZero:u.getBasePixel()},o.pivot()),e=0,n=s.length;e<n;++e)r.updateElement(s[e],e,t);for(f&&0!==o._model.tension&&r.updateBezierControlPoints(),e=0,n=s.length;e<n;++e)s[e].pivot()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),r=t.custom||{};return r.backgroundColor?n=r.backgroundColor:i.pointBackgroundColor?n=g.getValueAtIndexOrDefault(i.pointBackgroundColor,e,n):i.backgroundColor&&(n=i.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,i=this.getDataset(),r=t.custom||{};return r.borderColor?n=r.borderColor:i.pointBorderColor?n=g.getValueAtIndexOrDefault(i.pointBorderColor,e,n):i.borderColor&&(n=i.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,i=this.getDataset(),r=t.custom||{};return isNaN(r.borderWidth)?isNaN(i.pointBorderWidth)?isNaN(i.borderWidth)||(n=i.borderWidth):n=g.getValueAtIndexOrDefault(i.pointBorderWidth,e,n):n=r.borderWidth,n},updateElement:function(t,e,n){var i,r,a=this,o=a.getMeta(),s=t.custom||{},l=a.getDataset(),h=a.index,u=l.data[e],c=a.getScaleForId(o.yAxisID),f=a.getScaleForId(o.xAxisID),d=a.chart.options.elements.point,p=1===(a.chart.data.labels||[]).length||1===l.data.length||a.chart.isCombo;l.radius!==undefined&&l.pointRadius===undefined&&(l.pointRadius=l.radius),l.hitRadius!==undefined&&l.pointHitRadius===undefined&&(l.pointHitRadius=l.hitRadius),i=f.getPixelForValue("object"==typeof u?u:NaN,e,h,p),r=n?c.getBasePixel():a.calculatePointY(u,e,h),t._xScale=f,t._yScale=c,t._datasetIndex=h,t._index=e,t._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:s.radius||g.getValueAtIndexOrDefault(l.pointRadius,e,d.radius),pointStyle:s.pointStyle||g.getValueAtIndexOrDefault(l.pointStyle,e,d.pointStyle),backgroundColor:a.getPointBackgroundColor(t,e),borderColor:a.getPointBorderColor(t,e),borderWidth:a.getPointBorderWidth(t,e),tension:o.dataset._model?o.dataset._model.tension:0,steppedLine:!!o.dataset._model&&o.dataset._model.steppedLine,hitRadius:s.hitRadius||g.getValueAtIndexOrDefault(l.pointHitRadius,e,d.hitRadius)}},calculatePointY:function(t,e,n){var i,r,a,o=this,s=o.chart,l=o.getMeta(),h=o.getScaleForId(l.yAxisID),u=0,c=0;if(h.options.stacked){for(i=0;i<n;i++)if(r=s.data.datasets[i],"line"===(a=s.getDatasetMeta(i)).type&&a.yAxisID===h.id&&s.isDatasetVisible(i)){var f=Number(h.getRightValue(r.data[e]));f<0?c+=f||0:u+=f||0}var d=Number(h.getRightValue(t));return d<0?h.getPixelForValue(c+d):h.getPixelForValue(u+d)}return h.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,r,a=this,o=a.getMeta(),s=a.chart.chartArea,l=o.data||[];if(o.dataset._model.spanGaps&&(l=l.filter(function(t){return!t._model.skip})),"monotone"===o.dataset._model.cubicInterpolationMode)g.splineCurveMonotone(l);else for(e=0,n=l.length;e<n;++e)i=l[e]._model,r=g.splineCurve(g.previousItem(l,e)._model,i,g.nextItem(l,e)._model,o.dataset._model.tension),i.controlPointPreviousX=r.previous.x,i.controlPointPreviousY=r.previous.y,i.controlPointNextX=r.next.x,i.controlPointNextY=r.next.y;if(a.chart.options.elements.line.capBezierPoints)for(e=0,n=l.length;e<n;++e)(i=l[e]._model).controlPointPreviousX=t(i.controlPointPreviousX,s.left,s.right),i.controlPointPreviousY=t(i.controlPointPreviousY,s.top,s.bottom),i.controlPointNextX=t(i.controlPointNextX,s.left,s.right),i.controlPointNextY=t(i.controlPointNextY,s.top,s.bottom)},draw:function(t){var e,n,i=this,r=i.getMeta(),a=r.data||[],o=t||1;for(e=0,n=a.length;e<n;++e)a[e].transition(o);for(s.canvasHelpers.clipArea(i.chart.chart.ctx,i.chart.chartArea),d(i.getDataset(),i.chart.options)&&r.dataset.transition(o).draw(),s.canvasHelpers.unclipArea(i.chart.chart.ctx),e=0,n=a.length;e<n;++e)a[e].draw(i.chart.chartArea)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model;r.radius=i.hoverRadius||g.getValueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),r.backgroundColor=i.hoverBackgroundColor||g.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,n,g.getHoverColor(r.backgroundColor)),r.borderColor=i.hoverBorderColor||g.getValueAtIndexOrDefault(e.pointHoverBorderColor,n,g.getHoverColor(r.borderColor)),r.borderWidth=i.hoverBorderWidth||g.getValueAtIndexOrDefault(e.pointHoverBorderWidth,n,r.borderWidth)},removeHoverStyle:function(t){var e=this,n=e.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},a=t._model;n.radius!==undefined&&n.pointRadius===undefined&&(n.pointRadius=n.radius),a.radius=r.radius||g.getValueAtIndexOrDefault(n.pointRadius,i,e.chart.options.elements.point.radius),a.backgroundColor=e.getPointBackgroundColor(t,i),a.borderColor=e.getPointBorderColor(t,i),a.borderWidth=e.getPointBorderWidth(t,i)}})}},{}],19:[function(t,e){"use strict";e.exports=function(e){var k=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)e.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&e.push(r[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(s){var l=s.data;return l.labels.length&&l.datasets.length?l.labels.map(function(t,e){var n=s.getDatasetMeta(0),i=l.datasets[0],r=n.data[e].custom||{},a=k.getValueAtIndexOrDefault,o=s.options.elements.arc;return{text:t,fillStyle:r.backgroundColor?r.backgroundColor:a(i.backgroundColor,e,o.backgroundColor),strokeStyle:r.borderColor?r.borderColor:a(i.borderColor,e,o.borderColor),lineWidth:r.borderWidth?r.borderWidth:a(i.borderWidth,e,o.borderWidth),hidden:isNaN(i.data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:k.noop,update:function(n){var i=this,t=i.chart,e=t.chartArea,r=i.getMeta(),a=t.options,o=a.elements.arc,s=Math.min(e.right-e.left,e.bottom-e.top);t.outerRadius=Math.max((s-o.borderWidth/2)/2,0),t.innerRadius=Math.max(a.cutoutPercentage?t.outerRadius/100*a.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),i.outerRadius=t.outerRadius-t.radiusLength*i.index,i.innerRadius=i.outerRadius-t.radiusLength,r.count=i.countVisibleElements(),k.each(r.data,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){for(var i=this,r=i.chart,a=i.getDataset(),o=r.options,s=o.animation,l=r.scale,h=k.getValueAtIndexOrDefault,u=r.data.labels,c=i.calculateCircumference(a.data[e]),f=l.xCenter,d=l.yCenter,p=0,g=i.getMeta(),m=0;m<e;++m)isNaN(a.data[m])||g.data[m].hidden||++p;var v=o.startAngle,x=t.hidden?0:l.getDistanceFromCenterForValue(a.data[e]),y=v+c*p,b=y+(t.hidden?0:c),w=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[e]);k.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{x:f,y:d,innerRadius:0,outerRadius:n?w:x,startAngle:n&&s.animateRotate?v:y,endAngle:n&&s.animateRotate?v:b,label:h(u,e,u[e])}}),i.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var n=this.getDataset(),t=this.getMeta(),i=0;return k.each(t.data,function(t,e){isNaN(n.data[e])||t.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return 0<e&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e){"use strict";e.exports=function(t){var h=t.helpers;t.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:h.noop,update:function(n){var i=this,t=i.getMeta(),e=t.dataset,r=t.data,a=e.custom||{},o=i.getDataset(),s=i.chart.options.elements.line,l=i.chart.scale;o.tension!==undefined&&o.lineTension===undefined&&(o.lineTension=o.tension),h.extend(t.dataset,{_datasetIndex:i.index,_children:r,_loop:!0,_model:{tension:a.tension?a.tension:h.getValueOrDefault(o.lineTension,s.tension),backgroundColor:a.backgroundColor?a.backgroundColor:o.backgroundColor||s.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:o.borderWidth||s.borderWidth,borderColor:a.borderColor?a.borderColor:o.borderColor||s.borderColor,fill:a.fill?a.fill:o.fill!==undefined?o.fill:s.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:o.borderCapStyle||s.borderCapStyle,borderDash:a.borderDash?a.borderDash:o.borderDash||s.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:o.borderDashOffset||s.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:o.borderJoinStyle||s.borderJoinStyle,scaleTop:l.top,scaleBottom:l.bottom,scaleZero:l.getBasePosition()}}),t.dataset.pivot(),h.each(r,function(t,e){i.updateElement(t,e,n)},i),i.updateBezierControlPoints()},updateElement:function(t,e,n){var i=this,r=t.custom||{},a=i.getDataset(),o=i.chart.scale,s=i.chart.options.elements.point,l=o.getPointPositionForValue(e,a.data[e]);h.extend(t,{_datasetIndex:i.index,_index:e,_scale:o,_model:{x:n?o.xCenter:l.x,y:n?o.yCenter:l.y,tension:r.tension?r.tension:h.getValueOrDefault(a.lineTension,i.chart.options.elements.line.tension),radius:r.radius?r.radius:h.getValueAtIndexOrDefault(a.pointRadius,e,s.radius),backgroundColor:r.backgroundColor?r.backgroundColor:h.getValueAtIndexOrDefault(a.pointBackgroundColor,e,s.backgroundColor),borderColor:r.borderColor?r.borderColor:h.getValueAtIndexOrDefault(a.pointBorderColor,e,s.borderColor),borderWidth:r.borderWidth?r.borderWidth:h.getValueAtIndexOrDefault(a.pointBorderWidth,e,s.borderWidth),pointStyle:r.pointStyle?r.pointStyle:h.getValueAtIndexOrDefault(a.pointStyle,e,s.pointStyle),hitRadius:r.hitRadius?r.hitRadius:h.getValueAtIndexOrDefault(a.hitRadius,e,s.hitRadius)}}),t._model.skip=r.skip?r.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var r=this.chart.chartArea,a=this.getMeta();h.each(a.data,function(t,e){var n=t._model,i=h.splineCurve(h.previousItem(a.data,e,!0)._model,n,h.nextItem(a.data,e,!0)._model,n.tension);n.controlPointPreviousX=Math.max(Math.min(i.previous.x,r.right),r.left),n.controlPointPreviousY=Math.max(Math.min(i.previous.y,r.bottom),r.top),n.controlPointNextX=Math.max(Math.min(i.next.x,r.right),r.left),n.controlPointNextY=Math.max(Math.min(i.next.y,r.bottom),r.top),t.pivot()})},draw:function(t){var e=this.getMeta(),n=t||1;h.each(e.data,function(t){t.transition(n)}),e.dataset.transition(n).draw(),h.each(e.data,function(t){t.draw()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,r=t._model;r.radius=n.hoverRadius?n.hoverRadius:h.getValueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),r.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:h.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,i,h.getHoverColor(r.backgroundColor)),r.borderColor=n.hoverBorderColor?n.hoverBorderColor:h.getValueAtIndexOrDefault(e.pointHoverBorderColor,i,h.getHoverColor(r.borderColor)),r.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:h.getValueAtIndexOrDefault(e.pointHoverBorderWidth,i,r.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,r=t._model,a=this.chart.options.elements.point;r.radius=n.radius?n.radius:h.getValueAtIndexOrDefault(e.radius,i,a.radius),r.backgroundColor=n.backgroundColor?n.backgroundColor:h.getValueAtIndexOrDefault(e.pointBackgroundColor,i,a.backgroundColor),r.borderColor=n.borderColor?n.borderColor:h.getValueAtIndexOrDefault(e.pointBorderColor,i,a.borderColor),r.borderWidth=n.borderWidth?n.borderWidth:h.getValueAtIndexOrDefault(e.pointBorderWidth,i,a.borderWidth)}})}},{}],21:[function(t,e){"use strict";e.exports=function(t){var n=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:n.noop,onComplete:n.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var r=this;i||(t.animating=!0);for(var a=0;a<r.animations.length;++a)if(r.animations[a].chartInstance===t)return void(r.animations[a].animationObject=e);r.animations.push({chartInstance:t,animationObject:e}),1===r.animations.length&&r.requestAnimationFrame()},cancelAnimation:function(e){var t=n.findIndex(this.animations,function(t){return t.chartInstance===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=n.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;1<t.dropFrames&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1);for(var i=0;i<t.animations.length;)null===t.animations[i].animationObject.currentStep&&(t.animations[i].animationObject.currentStep=0),t.animations[i].animationObject.currentStep+=1+n,t.animations[i].animationObject.currentStep>t.animations[i].animationObject.numSteps&&(t.animations[i].animationObject.currentStep=t.animations[i].animationObject.numSteps),t.animations[i].animationObject.render(t.animations[i].chartInstance,t.animations[i].animationObject),t.animations[i].animationObject.onAnimationProgress&&t.animations[i].animationObject.onAnimationProgress.call&&t.animations[i].animationObject.onAnimationProgress.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].animationObject.currentStep===t.animations[i].animationObject.numSteps?(t.animations[i].animationObject.onAnimationComplete&&t.animations[i].animationObject.onAnimationComplete.call&&t.animations[i].animationObject.onAnimationComplete.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].chartInstance.animating=!1,t.animations.splice(i,1)):++i;var r=(Date.now()-e)/t.frameDuration;t.dropFrames+=r,0<t.animations.length&&t.requestAnimationFrame()}}}},{}],22:[function(t,e){"use strict";e.exports=function(g){var t=g.canvasHelpers={};t.drawPoint=function(t,e,n,i,r){var a,o,s,l,h,u;if("object"!=typeof e||"[object HTMLImageElement]"!==(a=e.toString())&&"[object HTMLCanvasElement]"!==a){if(!(isNaN(n)||n<=0)){switch(e){default:t.beginPath(),t.arc(i,r,n,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),h=(o=3*n/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(i-o/2,r+h/3),t.lineTo(i+o/2,r+h/3),t.lineTo(i,r-2*h/3),t.closePath(),t.fill();break;case"rect":u=1/Math.SQRT2*n,t.beginPath(),t.fillRect(i-u,r-u,2*u,2*u),t.strokeRect(i-u,r-u,2*u,2*u);break;case"rectRounded":var c=n/Math.SQRT2,f=i-c,d=r-c,p=Math.SQRT2*n;g.helpers.drawRoundedRectangle(t,f,d,p,p,n/2),t.fill();break;case"rectRot":u=1/Math.SQRT2*n,t.beginPath(),t.moveTo(i-u,r),t.lineTo(i,r+u),t.lineTo(i+u,r),t.lineTo(i,r-u),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(i,r+n),t.lineTo(i,r-n),t.moveTo(i-n,r),t.lineTo(i+n,r),t.closePath();break;case"crossRot":t.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i-s,r+l),t.lineTo(i+s,r-l),t.closePath();break;case"star":t.beginPath(),t.moveTo(i,r+n),t.lineTo(i,r-n),
t.moveTo(i-n,r),t.lineTo(i+n,r),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i-s,r+l),t.lineTo(i+s,r-l),t.closePath();break;case"line":t.beginPath(),t.moveTo(i-n,r),t.lineTo(i+n,r),t.closePath();break;case"dash":t.beginPath(),t.moveTo(i,r),t.lineTo(i+n,r),t.closePath()}t.stroke()}}else t.drawImage(e,i-e.width/2,r-e.height/2)},t.clipArea=function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},t.unclipArea=function(t){t.restore()}}},{}],23:[function(t,e){"use strict";e.exports=function(l){function h(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=u.configMerge(l.defaults.global,l.defaults[t.type],t.options||{}),t}function r(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach(function(t){e.scales[t.id].options=t}),e.tooltip._options=t.tooltips}var u=l.helpers,c=l.plugins,f=l.platform;l.types={},l.instances={},l.controllers={},l.Controller=function(t,e,n){var i=this;e=h(e);var r=f.acquireContext(t,e),a=r&&r.canvas,o=a&&a.height,s=a&&a.width;return n.ctx=r,n.canvas=a,n.config=e,n.width=s,n.height=o,n.aspectRatio=o?s/o:null,i.id=u.uid(),i.chart=n,i.config=e,i.options=e.options,i._bufferedRender=!1,l.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data}}),r&&a?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item"),i},u.extend(l.Controller.prototype,{initialize:function(){var t=this;return c.notify(t,"beforeInit"),u.retinaScale(t.chart),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),c.notify(t,"afterInit"),t},clear:function(){return u.clear(this.chart),this},stop:function(){return l.animationService.cancelAnimation(this),this},resize:function(t){var e=this,n=e.chart,i=e.options,r=n.canvas,a=i.maintainAspectRatio&&n.aspectRatio||null,o=Math.floor(u.getMaximumWidth(r)),s=Math.floor(a?o/a:u.getMaximumHeight(r));if((n.width!==o||n.height!==s)&&(r.width=n.width=o,r.height=n.height=s,r.style.width=o+"px",r.style.height=s+"px",u.retinaScale(n),!t)){var l={width:o,height:s};c.notify(e,"resize",[l]),e.options.onResize&&e.options.onResize(e,l),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;u.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),u.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildScales:function(){var a=this,t=a.options,o=a.scales={},e=[];t.scales&&(e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),t.scale&&e.push({options:t.scale,dtype:"radialLinear",isDefault:!0}),u.each(e,function(t){var e=t.options,n=u.getValueOrDefault(e.type,t.dtype),i=l.scaleService.getScaleConstructor(n);if(i){var r=new i({id:e.id,options:e,ctx:a.chart.ctx,chart:a});o[r.id]=r,t.isDefault&&(a.scale=r)}}),l.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var i=this,r=[],a=[];if(u.each(i.data.datasets,function(t,e){var n=i.getDatasetMeta(e);n.type||(n.type=t.type||i.config.type),r.push(n.type),n.controller?n.controller.updateIndex(e):(n.controller=new l.controllers[n.type](i,e),a.push(n.controller))},i),1<r.length)for(var t=1;t<r.length;t++)if(r[t]!==r[t-1]){i.isCombo=!0;break}return a},resetElements:function(){var n=this;u.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.reset()},n)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t,e){var n=this;if(r(n),!1!==c.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var i=n.buildOrUpdateControllers();u.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.buildOrUpdateElements()},n),n.updateLayout(),u.each(i,function(t){t.reset()}),n.updateDatasets(),c.notify(n,"afterUpdate"),n._bufferedRender?n._bufferedRequest={lazy:e,duration:t}:n.render(t,e)}},updateLayout:function(){var t=this;!1!==c.notify(t,"beforeLayout")&&(l.layoutService.update(this,this.chart.width,this.chart.height),c.notify(t,"afterScaleUpdate"),c.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(!1!==c.notify(t,"beforeDatasetsUpdate")){for(var e=0,n=t.data.datasets.length;e<n;++e)t.getDatasetMeta(e).controller.update();c.notify(t,"afterDatasetsUpdate")}},render:function(t,e){var n=this;if(!1!==c.notify(n,"beforeRender")){var i=n.options.animation,r=function(){c.notify(n,"afterRender");var t=i&&i.onComplete;t&&t.call&&t.call(n)};if(i&&(void 0!==t&&0!==t||void 0===t&&0!==i.duration)){var a=new l.Animation;a.numSteps=(t||i.duration)/16.66,a.easing=i.easing,a.render=function(t,e){var n=u.easingEffects[e.easing],i=e.currentStep/e.numSteps,r=n(i);t.draw(r,i,e.currentStep)},a.onAnimationProgress=i.onProgress,a.onAnimationComplete=r,l.animationService.addAnimation(n,a,t,e)}else n.draw(),r();return n}},draw:function(t){var e=this;e.clear(),t!==undefined&&null!==t||(t=1),!1!==c.notify(e,"beforeDraw",[t])&&(u.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e.tooltip.transition(t).draw(),c.notify(e,"afterDraw",[t]))},drawDatasets:function(n){var i=this;!1!==c.notify(i,"beforeDatasetsDraw",[n])&&(u.each(i.data.datasets,function(t,e){i.isDatasetVisible(e)&&i.getDatasetMeta(e).controller.draw(n)},i,!0),c.notify(i,"afterDatasetsDraw",[n]))},getElementAtEvent:function(t){return l.Interaction.modes.single(this,t)},getElementsAtEvent:function(t){return l.Interaction.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return l.Interaction.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=l.Interaction.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return l.Interaction.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var t,e,n,i=this,r=i.chart.canvas;for(i.stop(),e=0,n=i.data.datasets.length;e<n;++e)(t=i.getDatasetMeta(e)).controller&&(t.controller.destroy(),t.controller=null);r&&(i.unbindEvents(),u.clear(i.chart),f.releaseContext(i.chart.ctx),i.chart.canvas=null,i.chart.ctx=null),c.notify(i,"destroy"),delete l.instances[i.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new l.Tooltip({_chart:t.chart,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t),t.tooltip.initialize()},bindEvents:function(){var e=this,n=e._listeners={},i=function(){e.eventHandler.apply(e,arguments)};u.each(e.options.events,function(t){f.addEventListener(e,t,i),n[t]=i}),e.options.responsive&&(i=function(){e.resize()},f.addEventListener(e,"resize",i),n.resize=i)},unbindEvents:function(){var n=this,t=n._listeners;t&&(delete n._listeners,u.each(t,function(t,e){f.removeEventListener(n,e,t)}))},updateHoverStyle:function(t,e,n){var i,r,a,o=n?"setHoverStyle":"removeHoverStyle";for(r=0,a=t.length;r<a;++r)(i=t[r])&&this.getDatasetMeta(i._datasetIndex).controller[o](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==c.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);i|=n&&n.handleEvent(t),c.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r.duration,r.lazy):i&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,n=e.options||{},i=n.hover,r=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,i.mode,i),i.onHover&&i.onHover.call(e,t["native"],e.active),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(e,t["native"],e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,i.mode,!1),e.active.length&&i.mode&&e.updateHoverStyle(e.active,i.mode,!0),r=!u.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,r}})}},{}],24:[function(t,e){"use strict";e.exports=function(t){function i(r,t){r._chartjs?r._chartjs.listeners.push(t):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),a.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),t=i.apply(this,e);return s.each(r._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),t}})}))}function r(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),0<i.length||(a.forEach(function(t){delete e[t]}),delete e._chartjs)}}var s=t.helpers,a=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},s.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null===e.xAxisID&&(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&r(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),r=n.getDataset().data||[],a=i.data;for(t=0,e=r.length;t<e;++t)a[t]=a[t]||n.createMetaData(t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,e=t.getDataset(),n=e.data||(e.data=[]);t._data!==n&&(t._data&&r(t._data,t),i(n,t),t._data=n),t.resyncElements()},update:s.noop,draw:function(t){var e,n,i=t||1,r=this.getMeta().data;for(e=0,n=r.length;e<n;++e)r[e].transition(i).draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},a=s.getValueAtIndexOrDefault,o=t._model;o.backgroundColor=r.backgroundColor?r.backgroundColor:a(n.backgroundColor,i,e.backgroundColor),o.borderColor=r.borderColor?r.borderColor:a(n.borderColor,i,e.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:a(n.borderWidth,i,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=s.getValueAtIndexOrDefault,a=s.getHoverColor,o=t._model;o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:r(e.hoverBackgroundColor,n,a(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:r(e.hoverBorderColor,n,a(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:r(e.hoverBorderWidth,n,o.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,i=e.data.length,r=n.length;r<i?e.data.splice(r,i-r):i<r&&t.insertElements(i,r-i)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=s.inherits}},{}],25:[function(t,e){"use strict";e.exports=function(t){var s=t.helpers;t.elements={},t.Element=function(t){s.extend(this,t),this.initialize.apply(this,arguments)},s.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=s.clone(t._model)),t._start=s.clone(t._view),t},transition:function(a){var o=this;return o._view||(o._view=s.clone(o._model)),1===a?(o._view=o._model,o._start=null):(o._start||o.pivot(),s.each(o._model,function(t,e){if("_"===e[0]);else if(o._view.hasOwnProperty(e))if(t===o._view[e]);else if("string"==typeof t)try{var n=s.color(o._model[e]).mix(s.color(o._start[e]),a);o._view[e]=n.rgbString()}catch(r){o._view[e]=t}else if("number"==typeof t){var i=o._start[e]!==undefined&&!1===isNaN(o._start[e])?o._start[e]:0;o._view[e]=(o._model[e]-i)*a+i}else o._view[e]=t;else"number"!=typeof t||isNaN(o._view[e])?o._view[e]=t:o._view[e]=t*a},o)),o},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return s.isNumber(this._model.x)&&s.isNumber(this._model.y)}}),t.Element.extend=s.inherits}},{}],26:[function(t,e){"use strict";var i=t(3);e.exports=function(o){function u(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function c(t){return t!==undefined&&null!==t&&"none"!==t}function e(t,e,n){var i=document.defaultView,r=t.parentNode,a=i.getComputedStyle(t)[e],o=i.getComputedStyle(r)[e],s=c(a),l=c(o),h=Number.POSITIVE_INFINITY;return s||l?Math.min(s?u(a,t,n):h,l?u(o,r,n):h):"none"}var t,p=o.helpers={};p.each=function(t,e,n,i){var r,a;if(p.isArray(t))if(a=t.length,i)for(r=a-1;0<=r;r--)e.call(n,t[r],r);else for(r=0;r<a;r++)e.call(n,t[r],r);else if("object"==typeof t){var o=Object.keys(t);for(a=o.length,r=0;r<a;r++)e.call(n,t[o[r]],o[r])}},p.clone=function(t){var n={};return p.each(t,function(t,e){p.isArray(t)?n[e]=t.slice(0):n[e]="object"==typeof t&&null!==t?p.clone(t):t}),n},p.extend=function(n){for(var t=function(t,e){n[e]=t},e=1,i=arguments.length;e<i;e++)p.each(arguments[e],t);return n},p.configMerge=function(t){var r=p.clone(t);return p.each(Array.prototype.slice.call(arguments,1),function(t){p.each(t,function(t,e){var n=r.hasOwnProperty(e),i=n?r[e]:{};"scales"===e?r[e]=p.scaleMerge(i,t):"scale"===e?r[e]=p.configMerge(i,o.scaleService.getScaleDefaults(t.type),t):!n||"object"!=typeof i||p.isArray(i)||null===i||"object"!=typeof t||p.isArray(t)?r[e]=t:r[e]=p.configMerge(i,t)})}),r},p.scaleMerge=function(t,e){var a=p.clone(t);return p.each(e,function(t,r){"xAxes"===r||"yAxes"===r?a.hasOwnProperty(r)?p.each(t,function(t,e){var n=p.getValueOrDefault(t.type,"xAxes"===r?"category":"linear"),i=o.scaleService.getScaleDefaults(n);e>=a[r].length||!a[r][e].type?a[r].push(p.configMerge(i,t)):t.type&&t.type!==a[r][e].type?a[r][e]=p.configMerge(a[r][e],i,t):a[r][e]=p.configMerge(a[r][e],t)}):(a[r]=[],p.each(t,function(t){var e=p.getValueOrDefault(t.type,"xAxes"===r?"category":"linear");a[r].push(p.configMerge(o.scaleService.getScaleDefaults(e),t))})):a.hasOwnProperty(r)&&"object"==typeof a[r]&&null!==a[r]&&"object"==typeof t?a[r]=p.configMerge(a[r],t):a[r]=t}),a},p.getValueAtIndexOrDefault=function(t,e,n){return t===undefined||null===t?n:p.isArray(t)?e<t.length?t[e]:n:t},p.getValueOrDefault=function(t,e){return t===undefined?e:t},p.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},p.where=function(t,e){if(p.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return p.each(t,function(t){e(t)&&n.push(t)}),n},p.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=n===undefined?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},p.findNextWhere=function(t,e,n){n!==undefined&&null!==n||(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},p.findPreviousWhere=function(t,e,n){n!==undefined&&null!==n||(n=t.length);for(var i=n-1;0<=i;i--){var r=t[i];if(e(r))return r}},p.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=p.inherits,t&&p.extend(n.prototype,t),n.__super__=e.prototype,n},p.noop=function(){},p.uid=(t=0,function(){return t++}),p.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},p.almostEquals=function(t,e,n){return Math.abs(t-e)<n},p.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&t<n+e},p.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},p.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},p.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:0<t?1:-1},p.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},p.toRadians=function(t){return t*(Math.PI/180)},p.toDegrees=function(t){return t*(180/Math.PI)},p.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},p.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},p.aliasPixel=function(t){return t%2==0?0:.5},p.splineCurve=function(t,e,n,i){var r=t.skip?e:t,a=e,o=n.skip?e:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),h=s/(s+l),u=l/(s+l),c=i*(h=isNaN(h)?0:h),f=i*(u=isNaN(u)?0:u);return{previous:{x:a.x-c*(o.x-r.x),y:a.y-c*(o.y-r.y)},next:{x:a.x+f*(o.x-r.x),y:a.y+f*(o.y-r.y)}}},p.EPSILON=Number.EPSILON||1e-14,p.splineCurveMonotone=function(t){var e,n,i,r,a,o,s,l,h,u=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),c=u.length;for(e=0;e<c;++e)if(!(i=u[e]).model.skip){if(n=0<e?u[e-1]:null,(r=e<c-1?u[e+1]:null)&&!r.model.skip){var f=r.model.x-i.model.x;i.deltaK=0!==f?(r.model.y-i.model.y)/f:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(e=0;e<c-1;++e)i=u[e],r=u[e+1],i.model.skip||r.model.skip||(p.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,o=r.mK/i.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=a*s*i.deltaK,r.mK=o*s*i.deltaK)));for(e=0;e<c;++e)(i=u[e]).model.skip||(n=0<e?u[e-1]:null,r=e<c-1?u[e+1]:null,n&&!n.model.skip&&(h=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-h,i.model.controlPointPreviousY=i.model.y-h*i.mK),r&&!r.model.skip&&(h=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+h,i.model.controlPointNextY=i.model.y+h*i.mK))},p.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},p.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},p.niceNum=function(t,e){var n=Math.floor(p.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)};var n=p.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(1-Math.pow(2,-10*t/1))},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5*1),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-n.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t*1:t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*n.easeInBounce(2*t):.5*n.easeOutBounce(2*t-1)+.5}};p.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},p.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,a=t.currentTarget||t.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&0<s.length?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(p.getStyle(a,"padding-left")),h=parseFloat(p.getStyle(a,"padding-top")),u=parseFloat(p.getStyle(a,"padding-right")),c=parseFloat(p.getStyle(a,"padding-bottom")),f=o.right-o.left-l-u,d=o.bottom-o.top-h-c;return{x:n=Math.round((n-o.left-l)/f*a.width/e.currentDevicePixelRatio),y:i=Math.round((i-o.top-h)/d*a.height/e.currentDevicePixelRatio)}},p.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},p.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=p.noop},p.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},p.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},p.getMaximumWidth=function(t){var e=t.parentNode,n=parseInt(p.getStyle(e,"padding-left"),10),i=parseInt(p.getStyle(e,"padding-right"),10),r=e.clientWidth-n-i,a=p.getConstraintWidth(t);return isNaN(a)?r:Math.min(r,a)},p.getMaximumHeight=function(t){var e=t.parentNode,n=parseInt(p.getStyle(e,"padding-top"),10),i=parseInt(p.getStyle(e,"padding-bottom"),10),r=e.clientHeight-n-i,a=p.getConstraintHeight(t);return isNaN(a)?r:Math.min(r,a)},p.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},p.retinaScale=function(t){var e=t.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==e){var n=t.canvas,i=t.height,r=t.width;n.height=i*e,n.width=r*e,t.ctx.scale(e,e),n.style.height=i+"px",n.style.width=r+"px"}},p.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},p.fontString=function(t,e,n){return e+" "+t+"px "+n},p.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.font=t;var o=0;p.each(n,function(t){t!==undefined&&null!==t&&!0!==p.isArray(t)?o=p.measureText(e,r,a,o,t):p.isArray(t)&&p.each(t,function(t){t===undefined||null===t||p.isArray(t)||(o=p.measureText(e,r,a,o,t))})});var s=a.length/2;if(s>n.length){for(var l=0;l<s;l++)delete r[a[l]];a.splice(0,s)}return o},p.measureText=function(t,e,n,i,r){var a=e[r];return a||(a=e[r]=t.measureText(r).width,n.push(r)),i<a&&(i=a),i},p.numberOfLabelLines=function(t){var e=1;return p.each(t,function(t){p.isArray(t)&&t.length>e&&(e=t.length)}),e},p.drawRoundedRectangle=function(t,e,n,i,r,a){t.beginPath(),t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.quadraticCurveTo(e+i,n,e+i,n+a),t.lineTo(e+i,n+r-a),t.quadraticCurveTo(e+i,n+r,e+i-a,n+r),t.lineTo(e+a,n+r),t.quadraticCurveTo(e,n+r,e,n+r-a),t.lineTo(e,n+a),t.quadraticCurveTo(e,n,e+a,n),t.closePath()},p.color=function(t){return i?t instanceof CanvasGradient?i(o.defaults.global.defaultColor):i(t):(console.error("Color.js not found!"),t)},p.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===Object.prototype.toString.call(t)},p.arrayEquals=function(t,e){var n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r instanceof Array&&a instanceof Array){if(!p.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},p.callCallback=function(t,e,n){t&&"function"==typeof t.call&&t.apply(n,e)},p.getHoverColor=function(t){return t instanceof CanvasPattern?t:p.color(t).saturate(.5).darken(.1).rgbString()}}},{3:3}],27:[function(t,e){"use strict";e.exports=function(t){function s(t,e){return t["native"]?{x:t.x,y:t.y}:c.getRelativePosition(t,e)}function l(t,e){var n,i,r,a,o;for(i=0,a=t.data.datasets.length;i<a;++i)if(t.isDatasetVisible(i))for(r=0,o=(n=t.getDatasetMeta(i)).data.length;r<o;++r){var s=n.data[r];s._view.skip||e(s)}}function h(t,e){var n=[];return l(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function u(t,i,r,a){var o=Number.POSITIVE_INFINITY,s=[];return a||(a=c.distanceBetweenPoints),l(t,function(t){if(!r||t.inRange(i.x,i.y)){var e=t.getCenterPoint(),n=a(i,e);n<o?(s=[t],o=n):n===o&&s.push(t)}}),s}function n(i,t,e){var n=s(t,i.chart),r=function(t,e){return Math.abs(t.x-e.x)},a=e.intersect?h(i,n):u(i,n,!1,r),o=[];return a.length?(i.data.datasets.forEach(function(t,e){if(i.isDatasetVisible(e)){var n=i.getDatasetMeta(e).data[a[0]._index];n&&!n._view.skip&&o.push(n)}}),o):[]}var c=t.helpers;t.Interaction={modes:{single:function(t,e){var n=s(e,t.chart),i=[];return l(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:n,index:n,dataset:function(t,e,n){var i=s(e,t.chart),r=n.intersect?h(t,i):u(t,i,!1);return 0<r.length&&(r=t.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(t,e){return n(t,e,!0)},point:function(t,e){return h(t,s(e,t.chart))},nearest:function(t,e,n){var i=u(t,s(e,t.chart),n.intersect);return 1<i.length&&i.sort(function(t,e){var n=t.getArea()-e.getArea();return 0===n&&(n=t._datasetIndex-e._datasetIndex),n}),i.slice(0,1)},x:function(t,e,n){var i=s(e,t.chart),r=[],a=!1;return l(t,function(t){t.inXRange(i.x)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)}),n.intersect&&!a&&(r=[]),r},y:function(t,e,n){var i=s(e,t.chart),r=[],a=!1;return l(t,function(t){t.inYRange(i.y)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)}),n.intersect&&!a&&(r=[]),r}}}}},{}],28:[function(t,e){"use strict";e.exports=function(){var n=function(t,e){return this.controller=new n.Controller(t,e,this),this.controller};return n.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},n.Chart=n}},{}],29:[function(t,e){"use strict";e.exports=function(t){var H=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(e,n,t){function i(t){var e,n=t.isHorizontal();n?(e=t.update(t.options.fullWidth?x:M,k),S-=e.height):(e=t.update(w,b),M-=e.width),_.push({horizontal:n,minSize:e,box:t})}function r(e){var t=H.findNextWhere(_,function(t){return t.box===e});if(t)if(e.isHorizontal()){var n={left:Math.max(P,C),right:Math.max(D,A),top:0,bottom:0};e.update(e.options.fullWidth?x:M,y/2,n)}else e.update(t.minSize.width,S)}function a(e){var t=H.findNextWhere(_,function(t){return t.box===e}),n={left:0,right:0,top:E,bottom:F};t&&e.update(t.minSize.width,S,n)}function o(t){t.isHorizontal()?(t.left=t.options.fullWidth?h:P,t.right=t.options.fullWidth?n-u:P+M,t.top=B,t.bottom=B+t.height,B=t.bottom):(t.left=O,t.right=O+t.width,t.top=E,t.bottom=E+S,O=t.right)}if(e){var s=e.options.layout,l=s?s.padding:null,h=0,u=0,c=0,f=0;isNaN(l)?(h=l.left||0,u=l.right||0,c=l.top||0,f=l.bottom||0):f=c=u=h=l;var d=H.where(e.boxes,function(t){return"left"===t.options.position}),p=H.where(e.boxes,function(t){return"right"===t.options.position}),g=H.where(e.boxes,function(t){return"top"===t.options.position}),m=H.where(e.boxes,function(t){return"bottom"===t.options.position}),v=H.where(e.boxes,function(t){return"chartArea"===t.options.position});g.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),m.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var x=n-h-u,y=t-c-f,b=y/2,w=(n-x/2)/(d.length+p.length),k=(t-b)/(g.length+m.length),M=x,S=y,_=[];H.each(d.concat(p,g,m),i);var C=0,A=0,T=0,I=0;H.each(g.concat(m),function(t){if(t.getPadding){var e=t.getPadding();C=Math.max(C,e.left),A=Math.max(A,e.right)}}),H.each(d.concat(p),function(t){if(t.getPadding){var e=t.getPadding();T=Math.max(T,e.top),I=Math.max(I,e.bottom)}});var P=h,D=u,E=c,F=f;H.each(d.concat(p),r),H.each(d,function(t){P+=t.width}),H.each(p,function(t){D+=t.width}),H.each(g.concat(m),r),H.each(g,function(t){E+=t.height}),H.each(m,function(t){F+=t.height}),H.each(d.concat(p),a),P=h,D=u,E=c,F=f,H.each(d,function(t){P+=t.width}),H.each(p,function(t){D+=t.width}),H.each(g,function(t){E+=t.height}),H.each(m,function(t){F+=t.height});var L=Math.max(C-P,0);P+=L,D+=Math.max(A-D,0);var z=Math.max(T-E,0);E+=z,F+=Math.max(I-F,0);var R=t-E-F,N=n-P-D;N===M&&R===S||(H.each(d,function(t){t.height=R}),H.each(p,function(t){t.height=R}),H.each(g,function(t){t.options.fullWidth||(t.width=N)}),H.each(m,function(t){t.options.fullWidth||(t.width=N)}),S=R,M=N);var O=h+L,B=c+z;H.each(d.concat(g),o),O+=M,B+=S,H.each(p,o),H.each(m,o),e.chartArea={left:P,top:E,right:P+M,bottom:E+S},H.each(v,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(M,S)})}}}}},{}],30:[function(t,e){"use strict";e.exports=function(M){function S(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function n(t,e){var n=new M.Legend({ctx:t.chart.ctx,options:e,chart:t});t.legend=n,M.layoutService.addBox(t,n)}var _=M.helpers,t=_.noop;M.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var t=n.data;return _.isArray(t.datasets)?t.datasets.map(function(t,e){return{text:t.label,fillStyle:_.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!n.isDatasetVisible(e),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:e}},this):[]}}},M.Legend=M.Element.extend({initialize:function(t){_.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:t,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,
i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:t,beforeSetDimensions:t,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:t,beforeBuildLabels:t,buildLabels:function(){var e=this,n=e.options.labels,t=n.generateLabels.call(e,e.chart);n.filter&&(t=t.filter(function(t){return n.filter(t,e.chart.data)})),e.options.reverse&&t.reverse(),e.legendItems=t},afterBuildLabels:t,beforeFit:t,fit:function(){var i=this,t=i.options,r=t.labels,e=t.display,a=i.ctx,n=M.defaults.global,o=_.getValueOrDefault,s=o(r.fontSize,n.defaultFontSize),l=o(r.fontStyle,n.defaultFontStyle),h=o(r.fontFamily,n.defaultFontFamily),u=_.fontString(s,l,h),c=i.legendHitBoxes=[],f=i.minSize,d=i.isHorizontal();if(d?(f.width=i.maxWidth,f.height=e?10:0):(f.width=e?10:0,f.height=i.maxHeight),e)if(a.font=u,d){var p=i.lineWidths=[0],g=i.legendItems.length?s+r.padding:0;a.textAlign="left",a.textBaseline="top",_.each(i.legendItems,function(t,e){var n=S(r,s)+s/2+a.measureText(t.text).width;p[p.length-1]+n+r.padding>=i.width&&(g+=s+r.padding,p[p.length]=i.left),c[e]={left:0,top:0,width:n,height:s},p[p.length-1]+=n+r.padding}),f.height+=g}else{var m=r.padding,v=i.columnWidths=[],x=r.padding,y=0,b=0,w=s+m;_.each(i.legendItems,function(t,e){var n=S(r,s)+s/2+a.measureText(t.text).width;b+w>f.height&&(x+=y+r.padding,v.push(y),b=y=0),y=Math.max(y,n),b+=w,c[e]={left:0,top:0,width:n,height:s}}),x+=y,v.push(y),f.width+=x}i.width=f.width,i.height=f.height},afterFit:t,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var o=this,l=o.options,s=l.labels,h=M.defaults.global,u=h.elements.line,c=o.width,f=o.lineWidths;if(l.display){var d,p=o.ctx,g=_.getValueOrDefault,t=g(s.fontColor,h.defaultFontColor),m=g(s.fontSize,h.defaultFontSize),e=g(s.fontStyle,h.defaultFontStyle),n=g(s.fontFamily,h.defaultFontFamily),i=_.fontString(m,e,n);p.textAlign="left",p.textBaseline="top",p.lineWidth=.5,p.strokeStyle=t,p.fillStyle=t,p.font=i;var v=S(s,m),x=o.legendHitBoxes,y=function(t,e,n){if(!(isNaN(v)||v<=0)){p.save(),p.fillStyle=g(n.fillStyle,h.defaultColor),p.lineCap=g(n.lineCap,u.borderCapStyle),p.lineDashOffset=g(n.lineDashOffset,u.borderDashOffset),p.lineJoin=g(n.lineJoin,u.borderJoinStyle),p.lineWidth=g(n.lineWidth,u.borderWidth),p.strokeStyle=g(n.strokeStyle,h.defaultColor);var i=0===g(n.lineWidth,u.borderWidth);if(p.setLineDash&&p.setLineDash(g(n.lineDash,u.borderDash)),l.labels&&l.labels.usePointStyle){var r=m*Math.SQRT2/2,a=r/Math.SQRT2,o=t+a,s=e+a;M.canvasHelpers.drawPoint(p,n.pointStyle,r,o,s)}else i||p.strokeRect(t,e,v,m),p.fillRect(t,e,v,m);p.restore()}},b=function(t,e,n,i){p.fillText(n.text,v+m/2+t,e),n.hidden&&(p.beginPath(),p.lineWidth=2,p.moveTo(v+m/2+t,e+m/2),p.lineTo(v+m/2+t+i,e+m/2),p.stroke())},w=o.isHorizontal();d=w?{x:o.left+(c-f[0])/2,y:o.top+s.padding,line:0}:{x:o.left+s.padding,y:o.top+s.padding,line:0};var k=m+s.padding;_.each(o.legendItems,function(t,e){var n=p.measureText(t.text).width,i=v+m/2+n,r=d.x,a=d.y;w?c<=r+i&&(a=d.y+=k,d.line++,r=d.x=o.left+(c-f[d.line])/2):a+k>o.bottom&&(r=d.x=r+o.columnWidths[d.line]+s.padding,a=d.y=o.top+s.padding,d.line++),y(r,a,t),x[e].left=r,x[e].top=a,b(r,a,t,n),w?d.x+=i+s.padding:d.y+=k})}},handleEvent:function(t){var e=this,n=e.options,i="mouseup"===t.type?"click":t.type,r=!1;if("mousemove"===i){if(!n.onHover)return}else{if("click"!==i)return;if(!n.onClick)return}var a=t.x,o=t.y;if(a>=e.left&&a<=e.right&&o>=e.top&&o<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var h=s[l];if(a>=h.left&&a<=h.left+h.width&&o>=h.top&&o<=h.top+h.height){if("click"===i){n.onClick.call(e,t["native"],e.legendItems[l]),r=!0;break}if("mousemove"===i){n.onHover.call(e,t["native"],e.legendItems[l]),r=!0;break}}}return r}}),M.plugins.register({beforeInit:function(t){var e=t.options.legend;e&&n(t,e)},beforeUpdate:function(t){var e=t.options.legend;e?(e=_.configMerge(M.defaults.global.legend,e),t.legend?t.legend.options=e:n(t,e)):(M.layoutService.removeBox(t,t.legend),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}})}},{}],31:[function(t,e){"use strict";e.exports=function(s){var l=s.helpers;s.defaults.global.plugins={},s.plugins={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var n=this._plugins;[].concat(t).forEach(function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,a,o,s,l=this.descriptors(t),h=l.length;for(i=0;i<h;++i)if("function"==typeof(s=(a=(r=l[i]).plugin)[e])&&((o=[t].concat(n||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(t){var e=t._plugins||(t._plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],r=[],n=t&&t.config||{},a=s.defaults.global.plugins,o=n.options&&n.options.plugins||{};return this._plugins.concat(n.plugins||[]).forEach(function(t){if(-1===i.indexOf(t)){var e=t.id,n=o[e];!1!==n&&(!0===n&&(n=l.clone(a[e])),i.push(t),r.push({plugin:t,options:n||{}}))}}),e.descriptors=r,e.id=this._cacheId,r}},s.pluginService=s.plugins,s.PluginBase=l.inherits({})}},{}],32:[function(t,e){"use strict";e.exports=function(b){function w(t,e,n){return H.isArray(e)?H.longestText(t,n,e):t.measureText(e).width}function B(t){var e=H.getValueOrDefault,n=b.defaults.global,i=e(t.fontSize,n.defaultFontSize),r=e(t.fontStyle,n.defaultFontStyle),a=e(t.fontFamily,n.defaultFontFamily);return{size:i,style:r,family:a,font:H.fontString(i,r,a)}}var H=b.helpers;b.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:b.Ticks.formatters.values}},b.Scale=b.Element.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},beforeUpdate:function(){H.callCallback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=H.extend({left:0,right:0,top:0,bottom:0},n),i.longestTextCache=i.longestTextCache||{},i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeDataLimits(),i.determineDataLimits(),i.afterDataLimits(),i.beforeBuildTicks(),i.buildTicks(),i.afterBuildTicks(),i.beforeTickToLabelConversion(),i.convertTicksToLabels(),i.afterTickToLabelConversion(),i.beforeCalculateTickRotation(),i.calculateTickRotation(),i.afterCalculateTickRotation(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:function(){H.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){H.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){H.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){H.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:H.noop,afterDataLimits:function(){H.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){H.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:H.noop,afterBuildTicks:function(){H.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){H.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback)},afterTickToLabelConversion:function(){H.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){H.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,i=B(n);e.font=i.font;var r=n.minRotation||0;if(t.options.display&&t.isHorizontal())for(var a,o=H.longestText(e,i.font,t.ticks,t.longestTextCache),s=o,l=t.getPixelForTick(1)-t.getPixelForTick(0)-6;l<s&&r<n.maxRotation;){var h=H.toRadians(r);if(a=Math.cos(h),Math.sin(h)*o>t.maxHeight){r--;break}r++,s=a*o}t.labelRotation=r},afterCalculateTickRotation:function(){H.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){H.callCallback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=t.options,i=n.ticks,r=n.scaleLabel,a=n.gridLines,o=n.display,s=t.isHorizontal(),l=B(i),h=1.5*B(r).size,u=n.gridLines.tickMarkLength;if(e.width=s?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:o&&a.drawTicks?u:0,e.height=s?o&&a.drawTicks?u:0:t.maxHeight,r.display&&o&&(s?e.height+=h:e.width+=h),i.display&&o){var c=H.longestText(t.ctx,l.font,t.ticks,t.longestTextCache),f=H.numberOfLabelLines(t.ticks),d=.5*l.size;if(s){t.longestLabelWidth=c;var p=H.toRadians(t.labelRotation),g=Math.cos(p),m=Math.sin(p)*c+l.size*f+d*f;e.height=Math.min(t.maxHeight,e.height+m),t.ctx.font=l.font;var v=t.ticks[0],x=w(t.ctx,v,l.font),y=t.ticks[t.ticks.length-1],b=w(t.ctx,y,l.font);0!==t.labelRotation?(t.paddingLeft="bottom"===n.position?g*x+3:g*d+3,t.paddingRight="bottom"===n.position?g*d+3:g*b+3):(t.paddingLeft=x/2+3,t.paddingRight=b/2+3)}else i.mirror?c=0:c+=t.options.ticks.padding,e.width+=c,t.paddingTop=l.size/2,t.paddingBottom=l.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){H.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){return null==t?NaN:"number"!=typeof t||isFinite(t)?"object"==typeof t?t instanceof Date||t.isValid?t:this.getRightValue(this.isHorizontal()?t.x:t.y):t:NaN},getLabelForIndex:H.noop,getPixelForValue:H.noop,getValueForPixel:H.noop,getPixelForTick:function(t,e){var n=this;if(n.isHorizontal()){var i=(n.width-(n.paddingLeft+n.paddingRight))/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),r=i*t+n.paddingLeft;e&&(r+=i/2);var a=n.left+Math.round(r);return a+=n.isFullWidth()?n.margins.left:0}var o=n.height-(n.paddingTop+n.paddingBottom);return n.top+t*(o/(n.ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,i=e.left+Math.round(n);return i+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:0<e&&0<n?e:0},draw:function(k){var M=this,S=M.options;if(S.display){var _,t,r=M.ctx,e=b.defaults.global,C=S.ticks,A=S.gridLines,n=S.scaleLabel,T=0!==M.labelRotation,i=C.autoSkip,I=M.isHorizontal();C.maxTicksLimit&&(t=C.maxTicksLimit);var a=H.getValueOrDefault(C.fontColor,e.defaultFontColor),o=B(C),P=A.drawTicks?A.tickMarkLength:0,D=H.getValueOrDefault(A.borderDash,e.borderDash),E=H.getValueOrDefault(A.borderDashOffset,e.borderDashOffset),s=H.getValueOrDefault(n.fontColor,e.defaultFontColor),l=B(n),F=H.toRadians(M.labelRotation),h=Math.cos(F),u=M.longestLabelWidth*h;r.fillStyle=a;var L=[];if(I){if(_=!1,T&&(u/=2),(u+C.autoSkipPadding)*M.ticks.length>M.width-(M.paddingLeft+M.paddingRight)&&(_=1+Math.floor((u+C.autoSkipPadding)*M.ticks.length/(M.width-(M.paddingLeft+M.paddingRight)))),t&&M.ticks.length>t)for(;!_||M.ticks.length/(_||1)>t;)_||(_=1),_+=1;i||(_=!1)}var z="right"===S.position?M.left:M.right-P,R="right"===S.position?M.left+P:M.right,N="bottom"===S.position?M.top:M.bottom-P,O="bottom"===S.position?M.top+P:M.bottom;if(H.each(M.ticks,function(t,e){if(t!==undefined&&null!==t){var n=M.ticks.length===e+1;if((!(1<_&&0<e%_||e%_==0&&e+_>=M.ticks.length)||n)&&t!==undefined&&null!==t){var i,r,a,o,s,l,h,u,c,f,d,p;e===("undefined"!=typeof M.zeroLineIndex?M.zeroLineIndex:0)?(i=A.zeroLineWidth,r=A.zeroLineColor):(i=H.getValueAtIndexOrDefault(A.lineWidth,e),r=H.getValueAtIndexOrDefault(A.color,e));var g="middle",m="middle";if(I){"bottom"===S.position?(m=T?"middle":"top",g=T?"right":"center",p=M.top+P):(m=T?"middle":"bottom",g=T?"left":"center",p=M.bottom-P);var v=M.getPixelForTick(e)+H.aliasPixel(i);d=M.getPixelForTick(e,A.offsetGridLines)+C.labelOffset,a=s=h=c=v,o=N,l=O,u=k.top,f=k.bottom}else{var x,y="left"===S.position,b=C.padding;C.mirror?(g=y?"left":"right",x=b):(g=y?"right":"left",x=P+b),d=y?M.right-x:M.left+x;var w=M.getPixelForTick(e);w+=H.aliasPixel(i),p=M.getPixelForTick(e,A.offsetGridLines),a=z,s=R,h=k.left,c=k.right,o=l=u=f=w}L.push({tx1:a,ty1:o,tx2:s,ty2:l,x1:h,y1:u,x2:c,y2:f,labelX:d,labelY:p,glWidth:i,glColor:r,glBorderDash:D,glBorderDashOffset:E,rotation:-1*F,label:t,textBaseline:m,textAlign:g})}}}),H.each(L,function(t){if(A.display&&(r.save(),r.lineWidth=t.glWidth,r.strokeStyle=t.glColor,r.setLineDash&&(r.setLineDash(t.glBorderDash),r.lineDashOffset=t.glBorderDashOffset),r.beginPath(),A.drawTicks&&(r.moveTo(t.tx1,t.ty1),r.lineTo(t.tx2,t.ty2)),A.drawOnChartArea&&(r.moveTo(t.x1,t.y1),r.lineTo(t.x2,t.y2)),r.stroke(),r.restore()),C.display){r.save(),r.translate(t.labelX,t.labelY),r.rotate(t.rotation),r.font=o.font,r.textBaseline=t.textBaseline,r.textAlign=t.textAlign;var e=t.label;if(H.isArray(e))for(var n=0,i=0;n<e.length;++n)r.fillText(""+e[n],0,i),i+=1.5*o.size;else r.fillText(e,0,0);r.restore()}}),n.display){var c,f,d=0;if(I)c=M.left+(M.right-M.left)/2,f="bottom"===S.position?M.bottom-l.size/2:M.top+l.size/2;else{var p="left"===S.position;c=p?M.left+l.size/2:M.right-l.size/2,f=M.top+(M.bottom-M.top)/2,d=p?-.5*Math.PI:.5*Math.PI}r.save(),r.translate(c,f),r.rotate(d),r.textAlign="center",r.textBaseline="middle",r.fillStyle=s,r.font=l.font,r.fillText(n.labelString,0,0),r.restore()}if(A.drawBorder){r.lineWidth=H.getValueAtIndexOrDefault(A.lineWidth,0),r.strokeStyle=H.getValueAtIndexOrDefault(A.color,0);var g=M.left,m=M.right,v=M.top,x=M.bottom,y=H.aliasPixel(r.lineWidth);I?(v=x="top"===S.position?M.bottom:M.top,v+=y,x+=y):(g=m="left"===S.position?M.right:M.left,g+=y,m+=y),r.beginPath(),r.moveTo(g,v),r.lineTo(m,x),r.stroke()}}}})}},{}],33:[function(t,e){"use strict";e.exports=function(n){var i=n.helpers;n.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=i.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:undefined},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?i.scaleMerge(n.defaults.scale,this.defaults[t]):{}},updateScaleDefaults:function(t,e){var n=this.defaults;n.hasOwnProperty(t)&&(n[t]=i.extend(n[t],e))},addScalesToLayout:function(e){i.each(e.scales,function(t){n.layoutService.addBox(e,t)})}}}},{}],34:[function(t,e){"use strict";e.exports=function(t){var u=t.helpers;t.Ticks={generators:{linear:function(t,e){var n,i=[];if(t.stepSize&&0<t.stepSize)n=t.stepSize;else{var r=u.niceNum(e.max-e.min,!1);n=u.niceNum(r/(t.maxTicks-1),!0)}var a=Math.floor(e.min/n)*n,o=Math.ceil(e.max/n)*n;t.min&&t.max&&t.stepSize&&u.almostWhole((t.max-t.min)/t.stepSize,n/1e3)&&(a=t.min,o=t.max);var s=(o-a)/n;s=u.almostEquals(s,Math.round(s),n/1e3)?Math.round(s):Math.ceil(s),i.push(t.min!==undefined?t.min:a);for(var l=1;l<s;++l)i.push(a+l*n);return i.push(t.max!==undefined?t.max:o),i},logarithmic:function(t,e){var n,i,r=[],a=u.getValueOrDefault,o=a(t.min,Math.pow(10,Math.floor(u.log10(e.min)))),s=Math.floor(u.log10(e.max)),l=Math.ceil(e.max/Math.pow(10,s));for(0===o?(n=Math.floor(u.log10(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(o),o=i*Math.pow(10,n)):(n=Math.floor(u.log10(o)),i=Math.floor(o/Math.pow(10,n)));r.push(o),10===++i&&(i=1,++n),o=i*Math.pow(10,n),n<s||n===s&&i<l;);var h=a(t.max,o);return r.push(h),r}},formatters:{values:function(t){return u.isArray(t)?t:""+t},linear:function(t,e,n){var i=3<n.length?n[2]-n[1]:n[1]-n[0];1<Math.abs(i)&&t!==Math.floor(t)&&(i=t-Math.floor(t));var r=u.log10(Math.abs(i)),a="";if(0!==t){var o=-1*Math.floor(r);o=Math.max(Math.min(o,20),0),a=t.toFixed(o)}else a="0";return a},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(u.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}}}},{}],35:[function(t,e){"use strict";e.exports=function(v){function n(t,e){var n=new v.Title({ctx:t.chart.ctx,options:e,chart:t});t.titleBlock=n,v.layoutService.addBox(t,n)}var x=v.helpers;v.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var t=x.noop;v.Title=v.Element.extend({initialize:function(t){var e=this;x.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:t,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:t,beforeSetDimensions:t,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:t,beforeBuildLabels:t,buildLabels:t,afterBuildLabels:t,beforeFit:t,fit:function(){var t=this,e=x.getValueOrDefault,n=t.options,i=v.defaults.global,r=n.display,a=e(n.fontSize,i.defaultFontSize),o=t.minSize;t.isHorizontal()?(o.width=t.maxWidth,o.height=r?a+2*n.padding:0):(o.width=r?a+2*n.padding:0,o.height=t.maxHeight),t.width=o.width,t.height=o.height},afterFit:t,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=x.getValueOrDefault,i=t.options,r=v.defaults.global;if(i.display){var a,o,s,l=n(i.fontSize,r.defaultFontSize),h=n(i.fontStyle,r.defaultFontStyle),u=n(i.fontFamily,r.defaultFontFamily),c=x.fontString(l,h,u),f=0,d=t.top,p=t.left,g=t.bottom,m=t.right;e.fillStyle=n(i.fontColor,r.defaultFontColor),e.font=c,t.isHorizontal()?(a=p+(m-p)/2,o=d+(g-d)/2,s=m-p):(a="left"===i.position?p+l/2:m-l/2,o=d+(g-d)/2,s=g-d,f=Math.PI*("left"===i.position?-.5:.5)),e.save(),e.translate(a,o),e.rotate(f),e.textAlign="center",e.textBaseline="middle",e.fillText(i.text,0,0,s),e.restore()}}}),v.plugins.register({beforeInit:function(t){var e=t.options.title;e&&n(t,e)},beforeUpdate:function(t){var e=t.options.title;e?(e=x.configMerge(v.defaults.global.title,e),t.titleBlock?t.titleBlock.options=e:n(t,e)):(v.layoutService.removeBox(t,t.titleBlock),delete t.titleBlock)}})}},{}],36:[function(t,e){"use strict";e.exports=function(m){function y(t,e){var n=M.color(t);return n.alpha(e*n.alpha()).rgbaString()}function o(t,e){return e&&(M.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function v(t){var e=t._xScale,n=t._yScale||t._scale,i=t._index,r=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,r):"",yLabel:n?n.getLabelForIndex(i,r):"",index:i,datasetIndex:r,x:t._model.x,y:t._model.y}}function x(t){var e=m.defaults.global,n=M.getValueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors}}function b(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,a=e.body,o=a.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,h=e.titleFontSize,u=e.bodyFontSize,c=e.footerFontSize;i+=s*h,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=o*u,i+=o?(o-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*c,i+=l?(l-1)*e.footerSpacing:0;var f=0,d=function(t){r=Math.max(r,n.measureText(t).width+f)};return n.font=M.fontString(h,e._titleFontStyle,e._titleFontFamily),M.each(e.title,d),n.font=M.fontString(u,e._bodyFontStyle,e._bodyFontFamily),M.each(e.beforeBody.concat(e.afterBody),d),f=e.displayColors?u+2:0,M.each(a,function(t){M.each(t.before,d),M.each(t.lines,d),M.each(t.after,d)}),f=0,n.font=M.fontString(c,e._footerFontStyle,e._footerFontFamily),M.each(e.footer,d),{width:r+=2*e.xPadding,height:i}}function w(t,e){var n,i,r,a,o,s=t._model,l=t._chart,h=t._chartInstance.chartArea,u="center",c="center";s.y<e.height?c="top":s.y>l.height-e.height&&(c="bottom");var f=(h.left+h.right)/2,d=(h.top+h.bottom)/2;"center"===c?(n=function(t){return t<=f},i=function(t){return f<t}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width>l.width},a=function(t){return t-e.width<0},o=function(t){return t<=d?"top":"bottom"},n(s.x)?(u="left",r(s.x)&&(u="center",c=o(s.y))):i(s.x)&&(u="right",a(s.x)&&(u="center",c=o(s.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:u,yAlign:p.yAlign?p.yAlign:c}}function k(t,e,n){var i=t.x,r=t.y,a=t.caretSize,o=t.caretPadding,s=t.cornerRadius,l=n.xAlign,h=n.yAlign,u=a+o,c=s+o;return"right"===l?i-=e.width:"center"===l&&(i-=e.width/2),"top"===h?r+=u:r-="bottom"===h?e.height+u:e.height/2,"center"===h?"left"===l?i+=u:"right"===l&&(i-=u):"left"===l?i-=c:"right"===l&&(i+=c),{x:i,y:r}}var M=m.helpers;m.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,callbacks:{beforeTitle:M.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(0<t.length){var a=t[0];a.xLabel?n=a.xLabel:0<r&&a.index<r&&(n=i[a.index])}return n},afterTitle:M.noop,beforeBody:M.noop,beforeLabel:M.noop,label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},afterLabel:M.noop,afterBody:M.noop,beforeFooter:M.noop,footer:M.noop,afterFooter:M.noop}},m.Tooltip=m.Element.extend({initialize:function(){this._model=x(this._options)},getTitle:function(){var t=this,e=t._options.callbacks,n=e.beforeTitle.apply(t,arguments),i=e.title.apply(t,arguments),r=e.afterTitle.apply(t,arguments),a=[];return a=o(a=o(a=o(a,n),i),r)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return M.isArray(t)?t:t!==undefined?[t]:[]},getBody:function(t,n){var i=this,r=i._options.callbacks,a=[];return M.each(t,function(t){var e={before:[],lines:[],after:[]};o(e.before,r.beforeLabel.call(i,t,n)),o(e.lines,r.label.call(i,t,n)),o(e.after,r.afterLabel.call(i,t,n)),a.push(e)}),a},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return M.isArray(t)?t:t!==undefined?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),r=e.afterFooter.apply(t,arguments),a=[];return a=o(a=o(a=o(a,n),i),r)},update:function(t){var e,n,i=this,r=i._options,a=i._model,o=i._model=x(r),s=i._active,l=i._data,h=i._chartInstance,u={xAlign:a.xAlign,yAlign:a.yAlign},c={x:a.x,y:a.y},f={width:a.width,height:a.height},d={x:a.caretX,y:a.caretY};if(s.length){o.opacity=1;var p=[];d=m.Tooltip.positioners[r.position](s,i._eventPosition);var g=[];for(e=0,n=s.length;e<n;++e)g.push(v(s[e]));r.filter&&(g=g.filter(function(t){return r.filter(t,l)})),r.itemSort&&(g=g.sort(function(t,e){return r.itemSort(t,e,l)})),M.each(g,function(t){p.push(r.callbacks.labelColor.call(i,t,h))}),o.title=i.getTitle(g,l),o.beforeBody=i.getBeforeBody(g,l),o.body=i.getBody(g,l),o.afterBody=i.getAfterBody(g,l),o.footer=i.getFooter(g,l),o.x=Math.round(d.x),o.y=Math.round(d.y),o.caretPadding=M.getValueOrDefault(d.padding,2),o.labelColors=p,o.dataPoints=g,c=k(o,f=b(this,o),u=w(this,f))}else o.opacity=0;return o.xAlign=u.xAlign,o.yAlign=u.yAlign,o.x=c.x,o.y=c.y,o.width=f.width,o.height=f.height,o.caretX=d.x,o.caretY=d.y,i._model=o,t&&r.custom&&r.custom.call(i,o),i},drawCaret:function(t,e,n){var i,r,a,o,s,l,h=this._view,u=this._chart.ctx,c=h.caretSize,f=h.cornerRadius,d=h.xAlign,p=h.yAlign,g=t.x,m=t.y,v=e.width,x=e.height;"center"===p?(r="left"===d?(i=g)-c:(i=g+v)+c,a=i,o=(s=m+x/2)-c,l=s+c):("left"===d?a=(r=(i=g+f)+c)+c:"right"===d?a=(r=(i=g+v-f)-c)-c:(i=(r=g+v/2)-c,a=r+c),s="top"===p?(o=m)-c:(o=m+x)+c,l=o),u.fillStyle=y(h.backgroundColor,n),u.beginPath(),u.moveTo(i,o),u.lineTo(r,s),u.lineTo(a,l),u.closePath(),u.fill()},drawTitle:function(t,e,n,i){var r=e.title;if(r.length){n.textAlign=e._titleAlign,n.textBaseline="top";var a,o,s=e.titleFontSize,l=e.titleSpacing;for(n.fillStyle=y(e.titleFontColor,i),n.font=M.fontString(s,e._titleFontStyle,e._titleFontFamily),a=0,o=r.length;a<o;++a)n.fillText(r[a],t.x,t.y),t.y+=s+l,a+1===r.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(n,i,r,a){var o=i.bodyFontSize,e=i.bodySpacing,t=i.body;r.textAlign=i._bodyAlign,r.textBaseline="top";var s=y(i.bodyFontColor,a);r.fillStyle=s,r.font=M.fontString(o,i._bodyFontStyle,i._bodyFontFamily);var l=0,h=function(t){r.fillText(t,n.x+l,n.y),n.y+=o+e};M.each(i.beforeBody,h);var u=i.displayColors;l=u?o+2:0,M.each(t,function(t,e){M.each(t.before,h),M.each(t.lines,function(t){u&&(r.fillStyle=y(i.legendColorBackground,a),r.fillRect(n.x,n.y,o,o),r.strokeStyle=y(i.labelColors[e].borderColor,a),r.strokeRect(n.x,n.y,o,o),r.fillStyle=y(i.labelColors[e].backgroundColor,a),r.fillRect(n.x+1,n.y+1,o-2,o-2),r.fillStyle=s),h(t)}),M.each(t.after,h)}),l=0,M.each(i.afterBody,h),n.y-=e},drawFooter:function(e,n,i,t){var r=n.footer;r.length&&(e.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=y(n.footerFontColor,t),i.font=M.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),M.each(r,function(t){i.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,e,n,i,r){n.fillStyle=y(e.backgroundColor,r),M.drawRoundedRectangle(n,t.x,t.y,i.width,i.height,e.cornerRadius),n.fill()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity;this._options.enabled&&(this.drawBackground(i,e,t,n,r),this.drawCaret(i,n,r),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,r),this.drawBody(i,e,t,r),this.drawFooter(i,e,t,r))}},handleEvent:function(t){var e=this,n=e._options,i=!1;if(e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chartInstance.getElementsAtEventForMode(t,n.mode,n),i=!M.arrayEquals(e._active,e._lastActive),e._lastActive=e._active,n.enabled||n.custom){e._eventPosition={x:t.x,y:t.y};var r=e._model;e.update(!0),e.pivot(),i|=r.x!==e._model.x||r.y!==e._model.y}return i}}),m.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,a=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,r+=s.y,++a}}return{x:Math.round(i/a),y:Math.round(r/a)}},nearest:function(t,e){var n,i,r,a=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(i=0,r=t.length;i<r;++i){var l=t[i];if(l&&l.hasValue()){var h=l.getCenterPoint(),u=M.distanceBetweenPoints(e,h);u<s&&(s=u,n=l)}}if(n){var c=n.tooltipPosition();a=c.x,o=c.y}return{x:a,y:o}}}}},{}],37:[function(t,e){"use strict";e.exports=function(t){var u=t.helpers,e=t.defaults.global;e.elements.arc={backgroundColor:e.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=u.getAngleFromPoint(n,{x:t,y:e}),r=i.angle,a=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=2*Math.PI;for(;s<r;)r-=2*Math.PI;for(;r<o;)r+=2*Math.PI;var l=o<=r&&r<=s,h=a>=n.innerRadius&&a<=n.outerRadius;return l&&h}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],38:[function(t,e){"use strict";e.exports=function(t){var p=t.helpers,g=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:g.defaultColor,borderWidth:3,borderColor:g.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},t.elements.Line=t.Element.extend({draw:function(){function t(t,e){var n=e._view;!0===e._view.steppedLine?(o.lineTo(n.x,t._view.y),o.lineTo(n.x,n.y)):0===e._view.tension?o.lineTo(n.x,n.y):o.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,n.controlPointPreviousX,n.controlPointPreviousY,n.x,n.y)}var e=this,n=e._view,i=n.spanGaps,r=n.scaleZero,a=e._loop;a||("top"===n.fill?r=n.scaleTop:"bottom"===n.fill&&(r=n.scaleBottom));var o=e._chart.ctx;o.save();var s,l,h,u,c=e._children.slice(),f=-1;if(a&&c.length&&c.push(c[0]),c.length&&n.fill){for(o.beginPath(),s=0;s<c.length;++s)l=c[s],h=p.previousItem(c,s),u=l._view,0===s?(a?o.moveTo(r.x,r.y):o.moveTo(u.x,r),u.skip||(f=s,o.lineTo(u.x,u.y))):(h=-1===f?h:c[f],u.skip?i||f!==s-1||(a?o.lineTo(r.x,r.y):o.lineTo(h._view.x,r)):(f!==s-1?i&&-1!==f?t(h,l):(a||o.lineTo(u.x,r),o.lineTo(u.x,u.y)):t(h,l),f=s));a||-1===f||o.lineTo(c[f]._view.x,r),o.fillStyle=n.backgroundColor||g.defaultColor,o.closePath(),o.fill()}var d=g.elements.line;for(o.lineCap=n.borderCapStyle||d.borderCapStyle,o.setLineDash&&o.setLineDash(n.borderDash||d.borderDash),o.lineDashOffset=n.borderDashOffset||d.borderDashOffset,o.lineJoin=n.borderJoinStyle||d.borderJoinStyle,o.lineWidth=n.borderWidth||d.borderWidth,o.strokeStyle=n.borderColor||g.defaultColor,o.beginPath(),f=-1,s=0;s<c.length;++s)l=c[s],h=p.previousItem(c,s),u=l._view,0===s?u.skip||(o.moveTo(u.x,u.y),f=s):(h=-1===f?h:c[f],u.skip||(f!==s-1&&!i||-1===f?o.moveTo(u.x,u.y):t(h,l),f=s));o.stroke(),o.restore()}})}},{}],39:[function(t,e){"use strict";e.exports=function(c){function t(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)}function e(t){var e=this._view
;return!!e&&Math.pow(t-e.y,2)<Math.pow(e.radius+e.hitRadius,2)}var f=c.helpers,d=c.defaults.global,p=d.defaultColor;d.elements.point={radius:3,pointStyle:"circle",backgroundColor:p,borderWidth:1,borderColor:p,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},c.elements.Point=c.Element.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:t,inXRange:t,inYRange:e,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._model,i=this._chart.ctx,r=e.pointStyle,a=e.radius,o=e.x,s=e.y,l=c.helpers.color,h=1.01,u=0;e.skip||(i.strokeStyle=e.borderColor||p,i.lineWidth=f.getValueOrDefault(e.borderWidth,d.elements.point.borderWidth),i.fillStyle=e.backgroundColor||p,t!==undefined&&(n.x<t.left||t.right*h<n.x||n.y<t.top||t.bottom*h<n.y)&&(n.x<t.left?u=(o-n.x)/(t.left-n.x):t.right*h<n.x?u=(n.x-o)/(n.x-t.right):n.y<t.top?u=(s-n.y)/(t.top-n.y):t.bottom*h<n.y&&(u=(n.y-s)/(n.y-t.bottom)),u=Math.round(100*u)/100,i.strokeStyle=l(i.strokeStyle).alpha(u).rgbString(),i.fillStyle=l(i.fillStyle).alpha(u).rgbString()),c.canvasHelpers.drawPoint(i,r,a,o,s))}})}},{}],40:[function(t,e){"use strict";e.exports=function(t){function l(t){return t._view.width!==undefined}function r(t){var e,n,i,r,a=t._view;if(l(t)){var o=a.width/2;e=a.x-o,n=a.x+o,i=Math.min(a.y,a.base),r=Math.max(a.y,a.base)}else{var s=a.height/2;e=Math.min(a.x,a.base),n=Math.max(a.x,a.base),i=a.y-s,r=a.y+s}return{left:e,top:i,right:n,bottom:r}}var e=t.defaults.global;e.elements.rectangle={backgroundColor:e.defaultColor,borderWidth:0,borderColor:e.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return v[(x+t)%4]}var e,n,i,r,a,o,s,l=this._chart.ctx,h=this._view,u=h.borderWidth;if(h.horizontal?(e=h.base,n=h.x,i=h.y-h.height/2,r=h.y+h.height/2,a=e<n?1:-1,o=1,s=h.borderSkipped||"left"):(e=h.x-h.width/2,n=h.x+h.width/2,a=1,o=(i=h.y)<(r=h.base)?1:-1,s=h.borderSkipped||"bottom"),u){var c=Math.min(Math.abs(e-n),Math.abs(i-r)),f=(u=c<u?c:u)/2,d=e+("left"!==s?f*a:0),p=n+("right"!==s?-f*a:0),g=i+("top"!==s?f*o:0),m=r+("bottom"!==s?-f*o:0);d!==p&&(i=g,r=m),g!==m&&(e=d,n=p)}l.beginPath(),l.fillStyle=h.backgroundColor,l.strokeStyle=h.borderColor,l.lineWidth=u;var v=[[e,r],[e,i],[n,i],[n,r]],x=["bottom","left","top","right"].indexOf(s,0);-1===x&&(x=0);var y=t(0);l.moveTo(y[0],y[1]);for(var b=1;b<4;b++)y=t(b),l.lineTo(y[0],y[1]);l.fill(),u&&l.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=!1;if(this._view){var i=r(this);n=t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}return n},inLabelRange:function(t,e){var n=this;if(!n._view)return!1;var i=r(n);return l(n)?t>=i.left&&t<=i.right:e>=i.top&&e<=i.bottom},inXRange:function(t){var e=r(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=r(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return l(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],41:[function(t,e){"use strict";e.exports=function(t){function s(t,e){var n=c.getStyle(t,e),i=n&&n.match(/(\d+)px/);return i?Number(i[1]):undefined}function i(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t._chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=s(t,"width");a!==undefined&&(t.width=a)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=s(t,"height");a!==undefined&&(t.height=o)}return t}function a(t,e,n,i,r){return{type:t,chart:e,"native":r||null,x:n!==undefined?n:null,y:i!==undefined?i:null}}function o(t,e){var n=r[t.type]||t.type,i=c.getRelativePosition(t,e);return a(n,e,i.x,i.y,t)}function l(t){var e=document.createElement("iframe");return e.className="chartjs-hidden-iframe",e.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",e.tabIndex=-1,c.addEvent(e,"load",function(){c.addEvent(e.contentWindow||e,"resize",t),t()}),e}function h(t,e,n){var i=t._chartjs={ticking:!1},r=function(){i.ticking||(i.ticking=!0,c.requestAnimFrame.call(window,function(){if(i.resizer)return i.ticking=!1,e(a("resize",n))}))};i.resizer=l(r),t.insertBefore(i.resizer,t.firstChild)}function u(t){if(t&&t._chartjs){var e=t._chartjs.resizer;e&&(e.parentNode.removeChild(e),t._chartjs.resizer=null),delete t._chartjs}}var c=t.helpers,r={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};return{acquireContext:function(t,e){if("string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t instanceof HTMLCanvasElement){var n=t.getContext&&t.getContext("2d");if(n instanceof CanvasRenderingContext2D)return i(t,e),n}return null},releaseContext:function(t){var n=t.canvas;if(n._chartjs){var i=n._chartjs.initial;["height","width"].forEach(function(t){var e=i[t];e===undefined||null===e?n.removeAttribute(t):n.setAttribute(t,e)}),c.each(i.style||{},function(t,e){n.style[e]=t}),n.width=n.width,delete n._chartjs}},addEventListener:function(e,t,n){var i=e.chart.canvas;if("resize"!==t){var r=n._chartjs||(n._chartjs={}),a=(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(o(t,e.chart))};c.addEvent(i,t,a)}else h(i.parentNode,n,e.chart)},removeEventListener:function(t,e,n){var i=t.chart.canvas;if("resize"!==e){var r=((n._chartjs||{}).proxies||{})[t.id+"_"+e];r&&c.removeEvent(i,e,r)}else u(i.parentNode,n)}}}},{}],42:[function(t,e){"use strict";var n=t(41);e.exports=function(t){t.platform={acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},t.helpers.extend(t.platform,n(t))}},{41:41}],43:[function(t,e){"use strict";e.exports=function(t){var i=t.helpers,e={position:"bottom"},n=t.Scale.extend({getLabels:function(){var t=this.chart.data;return(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1,e.options.ticks.min!==undefined&&(t=i.indexOf(n,e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),e.options.ticks.max!==undefined&&(t=i.indexOf(n,e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,r=n.isHorizontal();return i.yLabels&&!r?n.getRightValue(i.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e,n,i){var r=this,a=Math.max(r.maxIndex+1-r.minIndex-(r.options.gridLines.offsetGridLines?0:1),1);if(t!==undefined&&isNaN(e)){var o=r.getLabels().indexOf(t);e=-1!==o?o:e}if(r.isHorizontal()){var s=r.width/a,l=s*(e-r.minIndex);return(r.options.gridLines.offsetGridLines&&i||r.maxIndex===r.minIndex&&i)&&(l+=s/2),r.left+Math.round(l)}var h=r.height/a,u=h*(e-r.minIndex);return r.options.gridLines.offsetGridLines&&i&&(u+=h/2),r.top+Math.round(u)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e=this,n=Math.max(e.ticks.length-(e.options.gridLines.offsetGridLines?0:1),1),i=e.isHorizontal(),r=(i?e.width:e.height)/n;return t-=i?e.left:e.top,e.options.gridLines.offsetGridLines&&(t-=r/2),t<=0?0:Math.round(t/r)},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",n,e)}},{}],44:[function(t,e){"use strict";e.exports=function(r){var c=r.helpers,t={position:"left",ticks:{callback:r.Ticks.formatters.linear}},e=r.LinearScaleBase.extend({determineDataLimits:function(){function o(t){return e?t.xAxisID===s.id:t.yAxisID===s.id}var s=this,l=s.options,h=s.chart,t=h.data.datasets,e=s.isHorizontal();s.min=null,s.max=null;var i=l.stacked;if(i===undefined&&c.each(t,function(t,e){if(!i){var n=h.getDatasetMeta(e);h.isDatasetVisible(e)&&o(n)&&n.stack!==undefined&&(i=!0)}}),l.stacked||i){var u={};c.each(t,function(t,e){var i=h.getDatasetMeta(e),n=[i.type,l.stacked===undefined&&i.stack===undefined?e:"",i.stack].join(".");u[n]===undefined&&(u[n]={positiveValues:[],negativeValues:[]});var r=u[n].positiveValues,a=u[n].negativeValues;h.isDatasetVisible(e)&&o(i)&&c.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(r[e]=r[e]||0,a[e]=a[e]||0,l.relativePoints?r[e]=100:n<0?a[e]+=n:r[e]+=n)})}),c.each(u,function(t){var e=t.positiveValues.concat(t.negativeValues),n=c.min(e),i=c.max(e);s.min=null===s.min?n:Math.min(s.min,n),s.max=null===s.max?i:Math.max(s.max,i)})}else c.each(t,function(t,e){var i=h.getDatasetMeta(e);h.isDatasetVisible(e)&&o(i)&&c.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n))})});this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this,n=e.options.ticks;if(e.isHorizontal())t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.width/50));else{var i=c.getValueOrDefault(n.fontSize,r.defaults.global.defaultFontSize);t=Math.min(n.maxTicksLimit?n.maxTicksLimit:11,Math.ceil(e.height/(2*i)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,n=this,i=n.start,r=+n.getRightValue(t),a=n.end-i;return e=n.isHorizontal()?n.left+n.width/a*(r-i):n.bottom-n.height/a*(r-i),Math.round(e)},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,r=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});r.scaleService.registerScaleType("linear",e,t)}},{}],45:[function(t,e){"use strict";e.exports=function(a){var o=a.helpers,t=o.noop;a.LinearScaleBase=a.Scale.extend({handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=o.sign(t.min),i=o.sign(t.max);n<0&&i<0?t.max=0:0<n&&0<i&&(t.min=0)}e.min!==undefined?t.min=e.min:e.suggestedMin!==undefined&&(t.min=Math.min(t.min,e.suggestedMin)),e.max!==undefined?t.max=e.max:e.suggestedMax!==undefined&&(t.max=Math.max(t.max,e.suggestedMax)),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,stepSize:o.getValueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=a.Ticks.generators.linear(i,t);t.handleDirectionalChanges(),t.max=o.max(r),t.min=o.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),a.Scale.prototype.convertTicksToLabels.call(t)}})}},{}],46:[function(t,e){"use strict";e.exports=function(r){var c=r.helpers,t={position:"left",ticks:{callback:r.Ticks.formatters.logarithmic}},e=r.Scale.extend({determineDataLimits:function(){function o(t){return i?t.xAxisID===s.id:t.yAxisID===s.id}var s=this,l=s.options,t=l.ticks,h=s.chart,e=h.data.datasets,n=c.getValueOrDefault,i=s.isHorizontal();s.min=null,s.max=null,s.minNotZero=null;var r=l.stacked;if(r===undefined&&c.each(e,function(t,e){if(!r){var n=h.getDatasetMeta(e);h.isDatasetVisible(e)&&o(n)&&n.stack!==undefined&&(r=!0)}}),l.stacked||r){var u={};c.each(e,function(t,e){var r=h.getDatasetMeta(e),a=[r.type,l.stacked===undefined&&r.stack===undefined?e:"",r.stack].join(".");h.isDatasetVisible(e)&&o(r)&&(u[a]===undefined&&(u[a]=[]),c.each(t.data,function(t,e){var n=u[a],i=+s.getRightValue(t);isNaN(i)||r.data[e].hidden||(n[e]=n[e]||0,l.relativePoints?n[e]=100:n[e]+=i)}))}),c.each(u,function(t){var e=c.min(t),n=c.max(t);s.min=null===s.min?e:Math.min(s.min,e),s.max=null===s.max?n:Math.max(s.max,n)})}else c.each(e,function(t,e){var i=h.getDatasetMeta(e);h.isDatasetVisible(e)&&o(i)&&c.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n),0!==n&&(null===s.minNotZero||n<s.minNotZero)&&(s.minNotZero=n))})});s.min=n(t.min,s.min),s.max=n(t.max,s.max),s.min===s.max&&(0!==s.min&&null!==s.min?(s.min=Math.pow(10,Math.floor(c.log10(s.min))-1),s.max=Math.pow(10,Math.floor(c.log10(s.max))+1)):(s.min=1,s.max=10))},buildTicks:function(){var t=this,e=t.options.ticks,n={min:e.min,max:e.max},i=t.ticks=r.Ticks.generators.logarithmic(n,t);t.isHorizontal()||i.reverse(),t.max=c.max(i),t.min=c.min(i),e.reverse?(i.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),r.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var e,n,i,r=this,a=r.start,o=+r.getRightValue(t),s=r.options.ticks;return r.isHorizontal()?(i=c.log10(r.end)-c.log10(a),0===o?n=r.left:(e=r.width,n=r.left+e/i*(c.log10(o)-c.log10(a)))):(e=r.height,0!==a||s.reverse?0===r.end&&s.reverse?(i=c.log10(r.start)-c.log10(r.minNotZero),n=o===r.end?r.top:o===r.minNotZero?r.top+.02*e:r.top+.02*e+.98*e/i*(c.log10(o)-c.log10(r.minNotZero))):(i=c.log10(r.end)-c.log10(a),e=r.height,n=r.bottom-e/i*(c.log10(o)-c.log10(a))):(i=c.log10(r.end)-c.log10(r.minNotZero),n=o===a?r.bottom:o===r.minNotZero?r.bottom-.02*e:r.bottom-.02*e-.98*e/i*(c.log10(o)-c.log10(r.minNotZero)))),n},getValueForPixel:function(t){var e,n,i=this,r=c.log10(i.end)-c.log10(i.start);return i.isHorizontal()?(n=i.width,e=i.start*Math.pow(10,(t-i.left)*r/n)):(n=i.height,e=Math.pow(10,(i.bottom-t)*r/n)/i.start),e}});r.scaleService.registerScaleType("logarithmic",e,t)}},{}],47:[function(t,e){"use strict";e.exports=function(e){function p(t){return t.options.lineArc?0:t.chart.data.labels.length}function g(t){var e=t.options.pointLabels,n=w.getValueOrDefault(e.fontSize,k.defaultFontSize),i=w.getValueOrDefault(e.fontStyle,k.defaultFontStyle),r=w.getValueOrDefault(e.fontFamily,k.defaultFontFamily);return{size:n,style:i,family:r,font:w.fontString(n,i,r)}}function d(t,e,n){return w.isArray(n)?{w:w.longestText(t,t.font,n),h:n.length*e+1.5*(n.length-1)*e}:{w:t.measureText(n).width,h:e}}function m(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||r<t?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function t(t){var e,n,i,r=g(t),a=Math.min(t.height/2,t.width/2),o={l:t.width,r:0,t:t.height,b:0},s={};t.ctx.font=r.font,t._pointLabelSizes=[];var l=p(t);for(e=0;e<l;e++){i=t.getPointPosition(e,a),n=d(t.ctx,r.size,t.pointLabels[e]||""),t._pointLabelSizes[e]=n;var h=t.getIndexAngle(e),u=w.toDegrees(h)%360,c=m(u,i.x,n.w,0,180),f=m(u,i.y,n.h,90,270);c.start<o.l&&(o.l=c.start,s.l=h),c.end>o.r&&(o.r=c.end,s.r=h),f.start<o.t&&(o.t=f.start,s.t=h),f.end>o.b&&(o.b=f.end,s.b=h)}t.setReductions(a,o,s)}function n(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function v(t){return 0===t||180===t?"center":t<180?"left":"right"}function x(t,e,n,i){if(w.isArray(e))for(var r=n.y,a=1.5*i,o=0;o<e.length;++o)t.fillText(e[o],n.x,r),r+=a;else t.fillText(e,n.x,n.y)}function y(t,e,n){90===t||270===t?n.y-=e.h/2:(270<t||t<90)&&(n.y-=e.h)}function i(t){var e=t.ctx,n=w.getValueOrDefault,i=t.options,r=i.angleLines,a=i.pointLabels;e.lineWidth=r.lineWidth,e.strokeStyle=r.color;var o=t.getDistanceFromCenterForValue(i.reverse?t.min:t.max),s=g(t);e.textBaseline="top";for(var l=p(t)-1;0<=l;l--){if(r.display){var h=t.getPointPosition(l,o);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(h.x,h.y),e.stroke(),e.closePath()}var u=t.getPointPosition(l,o+5),c=n(a.fontColor,k.defaultFontColor);e.font=s.font,e.fillStyle=c;var f=t.getIndexAngle(l),d=w.toDegrees(f);e.textAlign=v(d),y(d,t._pointLabelSizes[l],u),x(e,t.pointLabels[l]||"",u,s.size)}}function b(t,e,n,i){var r=t.ctx;if(r.strokeStyle=w.getValueAtIndexOrDefault(e.color,i-1),r.lineWidth=w.getValueAtIndexOrDefault(e.lineWidth,i-1),t.options.lineArc)r.beginPath(),r.arc(t.xCenter,t.yCenter,n,0,2*Math.PI),r.closePath(),r.stroke();else{var a=p(t);if(0===a)return;r.beginPath();var o=t.getPointPosition(0,n);r.moveTo(o.x,o.y);for(var s=1;s<a;s++)o=t.getPointPosition(s,n),r.lineTo(o.x,o.y);r.closePath(),r.stroke()}}function l(t){return w.isNumber(t)?t:0}var w=e.helpers,k=e.defaults.global,r={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:e.Ticks.formatters.linear},pointLabels:{fontSize:10,callback:function(t){return t}}},a=e.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,n=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var i=w.min([t.height,t.width]),r=w.getValueOrDefault(n.fontSize,k.defaultFontSize);t.drawingArea=e.display?i/2-(r/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var r=this,n=r.chart,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;w.each(n.data.datasets,function(t,e){if(n.isDatasetVisible(e)){var i=n.getDatasetMeta(e);w.each(t.data,function(t,e){var n=+r.getRightValue(t);isNaN(n)||i.data[e].hidden||(a=Math.min(n,a),o=Math.max(n,o))})}}),r.min=a===Number.POSITIVE_INFINITY?0:a,r.max=o===Number.NEGATIVE_INFINITY?0:o,r.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=w.getValueOrDefault(t.fontSize,k.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.lineArc?n(this):t(this)},setReductions:function(t,e,n){var i=this,r=e.l/Math.sin(n.l),a=Math.max(e.r-i.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),s=-Math.max(e.b-i.height,0)/Math.cos(n.b);r=l(r),a=l(a),o=l(o),s=l(s),i.drawingArea=Math.min(Math.round(t-(r+a)/2),Math.round(t-(o+s)/2)),i.setCenterPoint(r,a,o,s)},setCenterPoint:function(t,e,n,i){var r=this,a=r.width-e-r.drawingArea,o=t+r.drawingArea,s=n+r.drawingArea,l=r.height-i-r.drawingArea;r.xCenter=Math.round((o+a)/2+r.left),r.yCenter=Math.round((s+l)/2+r.top)},getIndexAngle:function(t){return t*(2*Math.PI/p(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+n.xCenter,y:Math.round(Math.sin(i)*e)+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:0<e&&0<n?e:0)},draw:function(){var o=this,s=o.options,l=s.gridLines,h=s.ticks,u=w.getValueOrDefault;if(s.display){var c=o.ctx,f=u(h.fontSize,k.defaultFontSize),t=u(h.fontStyle,k.defaultFontStyle),e=u(h.fontFamily,k.defaultFontFamily),d=w.fontString(f,t,e);w.each(o.ticks,function(t,e){if(0<e||s.reverse){var n=o.getDistanceFromCenterForValue(o.ticksAsNumbers[e]),i=o.yCenter-n;if(l.display&&0!==e&&b(o,l,n,e),h.display){var r=u(h.fontColor,k.defaultFontColor);if(c.font=d,h.showLabelBackdrop){var a=c.measureText(t).width;c.fillStyle=h.backdropColor,c.fillRect(o.xCenter-a/2-h.backdropPaddingX,i-f/2-h.backdropPaddingY,a+2*h.backdropPaddingX,f+2*h.backdropPaddingY)}c.textAlign="center",c.textBaseline="middle",c.fillStyle=r,c.fillText(t,o.xCenter,i)}}}),s.lineArc||i(o)}}});e.scaleService.registerScaleType("radialLinear",a,r)}},{}],48:[function(t,e){"use strict";var o=t(1);o="function"==typeof o?o:window.moment,e.exports=function(y){var b=y.helpers,w={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},t={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},e=y.Scale.extend({initialize:function(){if(!o)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");y.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return null===t||null===e?null:"undefined"!=typeof this.labelMoments[t]?this.labelMoments[t][e]:null},getLabelDiff:function(t,e){var n=this;return null===t||null===e?null:(n.labelDiffs===undefined&&n.buildLabelDiffs(),"undefined"!=typeof n.labelDiffs[t]?n.labelDiffs[t][e]:null)},getMomentStartOf:function(t){var e=this;return"week"===e.options.time.unit&&!1!==e.options.time.isoWeekday?t.clone().startOf("isoWeek").isoWeekday(e.options.time.isoWeekday):t.clone().startOf(e.tickUnit)},determineDataLimits:function(){var r=this;r.labelMoments=[];var a=[];r.chart.data.labels&&0<r.chart.data.labels.length?(b.each(r.chart.data.labels,function(t){var e=r.parseTime(t);e.isValid()&&(r.options.time.round&&e.startOf(r.options.time.round),a.push(e))},r),r.firstTick=o.min.call(r,a),r.lastTick=o.max.call(r,a)):(r.firstTick=null,r.lastTick=null),b.each(r.chart.data.datasets,function(t,e){var n=[],i=r.chart.isDatasetVisible(e);"object"==typeof t.data[0]&&null!==t.data[0]?b.each(t.data,function(t){var e=r.parseTime(r.getRightValue(t));e.isValid()&&(r.options.time.round&&e.startOf(r.options.time.round),n.push(e),i&&(r.firstTick=null!==r.firstTick?o.min(r.firstTick,e):e,r.lastTick=null!==r.lastTick?o.max(r.lastTick,e):e))},r):n=a,r.labelMoments.push(n)},r),r.options.time.min&&(r.firstTick=r.parseTime(r.options.time.min)),r.options.time.max&&(r.lastTick=r.parseTime(r.options.time.max)),r.firstTick=(r.firstTick||o()).clone(),r.lastTick=(r.lastTick||o()).clone()},buildLabelDiffs:function(){var i=this;i.labelDiffs=[];var r=[];i.chart.data.labels&&0<i.chart.data.labels.length&&b.each(i.chart.data.labels,function(t){var e=i.parseTime(t);e.isValid()&&(i.options.time.round&&e.startOf(i.options.time.round),r.push(e.diff(i.firstTick,i.tickUnit,!0)))},i),b.each(i.chart.data.datasets,function(t){var n=[];"object"==typeof t.data[0]&&null!==t.data[0]?b.each(t.data,function(t){var e=i.parseTime(i.getRightValue(t));e.isValid()&&(i.options.time.round&&e.startOf(i.options.time.round),n.push(e.diff(i.firstTick,i.tickUnit,!0)))},i):n=r,i.labelDiffs.push(n)},i)},buildTicks:function(){var t=this;t.ctx.save();var e,n=b.getValueOrDefault(t.options.ticks.fontSize,y.defaults.global.defaultFontSize),i=b.getValueOrDefault(t.options.ticks.fontStyle,y.defaults.global.defaultFontStyle),r=b.getValueOrDefault(t.options.ticks.fontFamily,y.defaults.global.defaultFontFamily),a=b.fontString(n,i,r);if(t.ctx.font=a,t.ticks=[],t.unitScale=1,t.scaleSizeInUnits=0,t.options.time.unit)t.tickUnit=t.options.time.unit||"day",t.displayFormat=t.options.time.displayFormats[t.tickUnit],t.scaleSizeInUnits=t.lastTick.diff(t.firstTick,t.tickUnit,!0),t.unitScale=b.getValueOrDefault(t.options.time.unitStepSize,1);else{var o=t.isHorizontal()?t.width:t.height,s=t.tickFormatFunction(t.firstTick,0,[]),l=t.ctx.measureText(s).width,h=o/(l=l*Math.cos(b.toRadians(t.options.ticks.maxRotation))+n*Math.sin(b.toRadians(t.options.ticks.maxRotation)));t.tickUnit=t.options.time.minUnit,t.scaleSizeInUnits=t.lastTick.diff(t.firstTick,t.tickUnit,!0),t.displayFormat=t.options.time.displayFormats[t.tickUnit];for(var u=0,c=w.units[u];u<w.units.length;){if(t.unitScale=1,b.isArray(c.steps)&&Math.ceil(t.scaleSizeInUnits/h)<b.max(c.steps)){for(var f=0;f<c.steps.length;++f)if(c.steps[f]>=Math.ceil(t.scaleSizeInUnits/h)){t.unitScale=b.getValueOrDefault(t.options.time.unitStepSize,c.steps[f]);break}break}if(!1===c.maxStep||Math.ceil(t.scaleSizeInUnits/h)<c.maxStep){t.unitScale=b.getValueOrDefault(t.options.time.unitStepSize,Math.ceil(t.scaleSizeInUnits/h));break}++u,c=w.units[u],t.tickUnit=c.name;var d=t.firstTick.diff(t.getMomentStartOf(t.firstTick),t.tickUnit,!0),p=t.getMomentStartOf(t.lastTick.clone().add(1,t.tickUnit)).diff(t.lastTick,t.tickUnit,!0);t.scaleSizeInUnits=t.lastTick.diff(t.firstTick,t.tickUnit,!0)+d+p,t.displayFormat=t.options.time.displayFormats[c.name]}}if(t.options.time.min?e=t.getMomentStartOf(t.firstTick):(t.firstTick=t.getMomentStartOf(t.firstTick),e=t.firstTick),!t.options.time.max){var g=t.getMomentStartOf(t.lastTick),m=g.diff(t.lastTick,t.tickUnit,!0);m<0?t.lastTick=t.getMomentStartOf(t.lastTick.add(1,t.tickUnit)):0<=m&&(t.lastTick=g),t.scaleSizeInUnits=t.lastTick.diff(t.firstTick,t.tickUnit,!0)}t.options.time.displayFormat&&(t.displayFormat=t.options.time.displayFormat),t.ticks.push(t.firstTick.clone());for(var v=t.unitScale;v<=t.scaleSizeInUnits;v+=t.unitScale){var x=e.clone().add(v,t.tickUnit);if(t.options.time.max&&0<=x.diff(t.lastTick,t.tickUnit,!0))break;t.ticks.push(x)}0===t.ticks[t.ticks.length-1].diff(t.lastTick,t.tickUnit)&&0!==t.scaleSizeInUnits||(t.options.time.max?(t.ticks.push(t.lastTick.clone()),t.scaleSizeInUnits=t.lastTick.diff(t.ticks[0],t.tickUnit,!0)):(t.ticks.push(t.lastTick.clone()),t.scaleSizeInUnits=t.lastTick.diff(t.firstTick,t.tickUnit,!0))),t.ctx.restore(),t.labelDiffs=undefined},getLabelForIndex:function(t,e){var n=this,i=n.chart.data.labels&&t<n.chart.data.labels.length?n.chart.data.labels[t]:"",r=n.chart.data.datasets[e].data[t];return null!==r&&"object"==typeof r&&(i=n.getRightValue(r)),n.options.time.tooltipFormat&&(i=n.parseTime(i).format(n.options.time.tooltipFormat)),i},tickFormatFunction:function(t,e,n){var i=t.format(this.displayFormat),r=this.options.ticks,a=b.getValueOrDefault(r.callback,r.userCallback);return a?a(i,e,n):i},convertTicksToLabels:function(){var t=this;t.tickMoments=t.ticks,t.ticks=t.ticks.map(t.tickFormatFunction,t)},getPixelForValue:function(t,e,n){var i=this,r=null;if(e!==undefined&&n!==undefined&&(r=i.getLabelDiff(n,e)),null===r&&(t&&t.isValid||(t=i.parseTime(i.getRightValue(t))),t&&t.isValid&&t.isValid()&&(r=t.diff(i.firstTick,i.tickUnit,!0))),null!==r){var a=0!==r?r/i.scaleSizeInUnits:r;if(i.isHorizontal()){var o=i.width*a;return i.left+Math.round(o)}var s=i.height*a;return i.top+Math.round(s)}},getPixelForTick:function(t){return this.getPixelForValue(this.tickMoments[t],null,null)},getValueForPixel:function(t){var e=this,n=e.isHorizontal()?e.width:e.height,i=(t-(e.isHorizontal()?e.left:e.top))/n;return i*=e.scaleSizeInUnits,e.firstTick.clone().add(o.duration(i,e.tickUnit).asSeconds(),"seconds")},parseTime:function(t){var e=this;return"string"==typeof e.options.time.parser?o(t,e.options.time.parser):"function"==typeof e.options.time.parser?e.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?o(t):t.isValid&&t.isValid()?t:"string"!=typeof e.options.time.format&&e.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),e.options.time.format(t)):o(t,e.options.time.format)}});y.scaleService.registerScaleType("time",e,t)}},{1:1}]},{},[7])(7)}),function(t,e){"function"==typeof define&&define.amd?define("Chartist",[],function(){return t.Chartist=e()}):"object"==typeof module&&module.exports?module.exports=e():t.Chartist=e()}(this,function(){var t={version:"0.11.0"};return function(u,p,g){"use strict";g.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},g.noop=function(t){return t},g.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},g.extend=function(t){var e,n,i;for(t=t||{},e=1;e<arguments.length;e++)for(var r in n=arguments[e])"object"!=typeof(i=n[r])||null===i||i instanceof Array?t[r]=i:t[r]=g.extend(t[r],i);return t},g.replaceAll=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},g.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},g.quantity=function(t){if("string"==typeof t){var e=/^(\d+)\s*(.*)$/g.exec(t);return{value:+e[1],unit:e[2]||undefined}}return{value:t}},g.querySelector=function(t){return t instanceof Node?t:p.querySelector(t)},g.times=function(t){return Array.apply(null,new Array(t))},g.sum=function(t,e){return t+(e||0)},g.mapMultiply=function(e){return function(t){return t*e}},g.mapAdd=function(e){return function(t){return t+e}},g.serialMap=function(i,r){var a=[],t=Math.max.apply(null,i.map(function(t){return t.length}));return g.times(t).forEach(function(t,e){var n=i.map(function(t){return t[e]});a[e]=r.apply(null,n)}),a},g.roundWithPrecision=function(t,e){var n=Math.pow(10,e||g.precision);return Math.round(t*n)/n},g.precision=8,g.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},g.serialize=function(t){return null===t||t===undefined?t:("number"==typeof t?t=""+t:"object"==typeof t&&(t=JSON.stringify({data:t})),Object.keys(g.escapingMap).reduce(function(t,e){return g.replaceAll(t,e,g.escapingMap[e])},t))},g.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(g.escapingMap).reduce(function(t,e){return g.replaceAll(t,g.escapingMap[e],e)},t);try{t=(t=JSON.parse(t)).data!==undefined?t.data:t}catch(e){}return t},g.createSvg=function(e,t,n,i){var r;return t=t||"100%",n=n||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(t){return t.getAttributeNS(g.namespaces.xmlns,"ct")}).forEach(function(t){e.removeChild(t)}),(r=new g.Svg("svg").attr({width:t,height:n}).addClass(i))._node.style.width=t,r._node.style.height=n,e.appendChild(r._node),r},g.normalizeData=function(t,e,n){var i,r={raw:t,normalized:{}};return r.normalized.series=g.getDataArray({series:t.series||[]},e,n),i=r.normalized.series.every(function(t){return t instanceof Array})?Math.max.apply(null,r.normalized.series.map(function(t){return t.length})):r.normalized.series.length,r.normalized.labels=(t.labels||[]).slice(),Array.prototype.push.apply(r.normalized.labels,g.times(Math.max(0,i-r.normalized.labels.length)).map(function(){return""})),e&&g.reverseData(r.normalized),r},g.safeHasProperty=function(t,e){return null!==t&&"object"==typeof t&&t.hasOwnProperty(e)},g.isDataHoleValue=function(t){return null===t||t===undefined||"number"==typeof t&&isNaN(t)},g.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"==typeof t.series[e]&&t.series[e].data!==undefined?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},g.getDataArray=function(t,e,n){function i(t){if(g.safeHasProperty(t,"value"))return i(t.value);if(g.safeHasProperty(t,"data"))return i(t.data);if(t instanceof Array)return t.map(i);if(g.isDataHoleValue(t))return undefined;if(n){var e={};return"string"==typeof n?e[n]=g.getNumberOrUndefined(t):e.y=g.getNumberOrUndefined(t),e.x=t.hasOwnProperty("x")?g.getNumberOrUndefined(t.x):e.x,e.y=t.hasOwnProperty("y")?g.getNumberOrUndefined(t.y):e.y,e}return g.getNumberOrUndefined(t)}return t.series.map(i)},g.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},g.getMetaData=function(t,e){var n=t.data?t.data[e]:t[e];return n?n.meta:undefined},g.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},g.projectLength=function(t,e,n){return e/n.range*t},g.getAvailableHeight=function(t,e){
return Math.max((g.quantity(e.height).value||t.height())-(e.chartPadding.top+e.chartPadding.bottom)-e.axisX.offset,0)},g.getHighLow=function(t,e,i){function r(t){if(t===undefined)return undefined;if(t instanceof Array)for(var e=0;e<t.length;e++)r(t[e]);else{var n=i?+t[i]:+t;o&&n>a.high&&(a.high=n),s&&n<a.low&&(a.low=n)}}var a={high:(e=g.extend({},e,i?e["axis"+i.toUpperCase()]:{})).high===undefined?-Number.MAX_VALUE:+e.high,low:e.low===undefined?Number.MAX_VALUE:+e.low},o=e.high===undefined,s=e.low===undefined;return(o||s)&&r(t),(e.referenceValue||0===e.referenceValue)&&(a.high=Math.max(e.referenceValue,a.high),a.low=Math.min(e.referenceValue,a.low)),a.high<=a.low&&(0===a.low?a.high=1:a.low<0?a.high=0:(0<a.high||(a.high=1),a.low=0)),a},g.isNumeric=function(t){return null!==t&&isFinite(t)},g.isFalseyButZero=function(t){return!t&&0!==t},g.getNumberOrUndefined=function(t){return g.isNumeric(t)?+t:undefined},g.isMultiValue=function(t){return"object"==typeof t&&("x"in t||"y"in t)},g.getMultiValue=function(t,e){return g.isMultiValue(t)?g.getNumberOrUndefined(t[e||"y"]):g.getNumberOrUndefined(t)},g.rho=function(t){function n(t,e){return t%e==0?e:n(e,t%e)}function e(t){return t*t+1}if(1===t)return t;var i,r=2,a=2;if(t%2==0)return 2;for(;r=e(r)%t,a=e(e(a))%t,1===(i=n(Math.abs(r-a),t)););return i},g.getBounds=function(t,e,n,i){function r(t,e){return t===(t+=e)&&(t*=1+(0<e?f:-f)),t}var a,o,s,l=0,h={high:e.high,low:e.low};h.valueRange=h.high-h.low,h.oom=g.orderOfMagnitude(h.valueRange),h.step=Math.pow(10,h.oom),h.min=Math.floor(h.low/h.step)*h.step,h.max=Math.ceil(h.high/h.step)*h.step,h.range=h.max-h.min,h.numberOfSteps=Math.round(h.range/h.step);var u=g.projectLength(t,h.step,h)<n,c=i?g.rho(h.range):0;if(i&&g.projectLength(t,1,h)>=n)h.step=1;else if(i&&c<h.step&&g.projectLength(t,c,h)>=n)h.step=c;else for(;;){if(u&&g.projectLength(t,h.step,h)<=n)h.step*=2;else{if(u||!(g.projectLength(t,h.step/2,h)>=n))break;if(h.step/=2,i&&h.step%1!=0){h.step*=2;break}}if(1e3<l++)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var f=2.221e-16;for(h.step=Math.max(h.step,f),o=h.min,s=h.max;o+h.step<=h.low;)o=r(o,h.step);for(;s-h.step>=h.high;)s=r(s,-h.step);h.min=o,h.max=s,h.range=h.max-h.min;var d=[];for(a=h.min;a<=h.max;a=r(a,h.step)){var p=g.roundWithPrecision(a);p!==d[d.length-1]&&d.push(p)}return h.values=d,h},g.polarToCartesian=function(t,e,n,i){var r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}},g.createChartRect=function(t,e,n){var i=!(!e.axisX&&!e.axisY),r=i?e.axisY.offset:0,a=i?e.axisX.offset:0,o=t.width()||g.quantity(e.width).value||0,s=t.height()||g.quantity(e.height).value||0,l=g.normalizePadding(e.chartPadding,n);o=Math.max(o,r+l.left+l.right),s=Math.max(s,a+l.top+l.bottom);var h={padding:l,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return i?("start"===e.axisX.position?(h.y2=l.top+a,h.y1=Math.max(s-l.bottom,h.y2+1)):(h.y2=l.top,h.y1=Math.max(s-l.bottom-a,h.y2+1)),"start"===e.axisY.position?(h.x1=l.left+r,h.x2=Math.max(o-l.right,h.x1+1)):(h.x1=l.left,h.x2=Math.max(o-l.right-r,h.x1+1))):(h.x1=l.left,h.x2=Math.max(o-l.right,h.x1+1),h.y2=l.top,h.y1=Math.max(s-l.bottom,h.y2+1)),h},g.createGrid=function(t,e,n,i,r,a,o,s){var l={};l[n.units.pos+"1"]=t,l[n.units.pos+"2"]=t,l[n.counterUnits.pos+"1"]=i,l[n.counterUnits.pos+"2"]=i+r;var h=a.elem("line",l,o.join(" "));s.emit("draw",g.extend({type:"grid",axis:n,index:e,group:a,element:h},l))},g.createGridBackground=function(t,e,n,i){var r=t.elem("rect",{x:e.x1,y:e.y2,width:e.width(),height:e.height()},n,!0);i.emit("draw",{type:"gridBackground",group:t,element:r})},g.createLabel=function(t,e,n,i,r,a,o,s,l,h,u){var c,f={};if(f[r.units.pos]=t+o[r.units.pos],f[r.counterUnits.pos]=o[r.counterUnits.pos],f[r.units.len]=e,f[r.counterUnits.len]=Math.max(0,a-10),h){var d=p.createElement("span");d.className=l.join(" "),d.setAttribute("xmlns",g.namespaces.xhtml),d.innerText=i[n],d.style[r.units.len]=Math.round(f[r.units.len])+"px",d.style[r.counterUnits.len]=Math.round(f[r.counterUnits.len])+"px",c=s.foreignObject(d,g.extend({style:"overflow: visible;"},f))}else c=s.elem("text",f,l.join(" ")).text(i[n]);u.emit("draw",g.extend({type:"label",axis:r,index:n,group:s,element:c,text:i[n]},f))},g.getSeriesOption=function(t,e,n){if(t.name&&e.series&&e.series[t.name]){var i=e.series[t.name];return i.hasOwnProperty(n)?i[n]:e[n]}return e[n]},g.optionsProvider=function(t,n,i){function e(t){var e=a;if(a=g.extend({},s),n)for(o=0;o<n.length;o++){u.matchMedia(n[o][0]).matches&&(a=g.extend(a,n[o][1]))}i&&t&&i.emit("optionsChanged",{previousOptions:e,currentOptions:a})}function r(){l.forEach(function(t){t.removeListener(e)})}var a,o,s=g.extend({},t),l=[];if(!u.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(n)for(o=0;o<n.length;o++){var h=u.matchMedia(n[o][0]);h.addListener(e),l.push(h)}return e(),{removeMediaQueryListeners:r,getCurrentOptions:function(){return g.extend({},a)}}},g.splitIntoSegments=function(t,e,n){var i={increasingX:!1,fillHoles:!1};n=g.extend({},i,n);for(var r=[],a=!0,o=0;o<t.length;o+=2)g.getMultiValue(e[o/2].value)===undefined?n.fillHoles||(a=!0):(n.increasingX&&2<=o&&t[o]<=t[o-2]&&(a=!0),a&&(r.push({pathCoordinates:[],valueData:[]}),a=!1),r[r.length-1].pathCoordinates.push(t[o],t[o+1]),r[r.length-1].valueData.push(e[o/2]));return r}}(window,document,t),function(t,e,g){"use strict";g.Interpolation={},g.Interpolation.none=function(l){var t={fillHoles:!1};return l=g.extend({},t,l),function(t,e){for(var n=new g.Svg.Path,i=!0,r=0;r<t.length;r+=2){var a=t[r],o=t[r+1],s=e[r/2];g.getMultiValue(s.value)!==undefined?(i?n.move(a,o,!1,s):n.line(a,o,!1,s),i=!1):l.fillHoles||(i=!0)}return n}},g.Interpolation.simple=function(c){var t={divisor:2,fillHoles:!1};c=g.extend({},t,c);var f=1/Math.max(1,c.divisor);return function(t,e){for(var n,i,r,a=new g.Svg.Path,o=0;o<t.length;o+=2){var s=t[o],l=t[o+1],h=(s-n)*f,u=e[o/2];u.value!==undefined?(r===undefined?a.move(s,l,!1,u):a.curve(n+h,i,s-h,l,s,l,!1,u),n=s,i=l,r=u):c.fillHoles||(n=s=r=undefined)}return a}},g.Interpolation.cardinal=function(u){var t={tension:1,fillHoles:!1};u=g.extend({},t,u);var c=Math.min(1,Math.max(0,u.tension)),f=1-c;return function e(t,n){var i=g.splitIntoSegments(t,n,{fillHoles:u.fillHoles});if(i.length){if(1<i.length){var r=[];return i.forEach(function(t){r.push(e(t.pathCoordinates,t.valueData))}),g.Svg.Path.join(r)}if(t=i[0].pathCoordinates,n=i[0].valueData,t.length<=4)return g.Interpolation.none()(t,n);for(var a,o=(new g.Svg.Path).move(t[0],t[1],!1,n[0]),s=0,l=t.length;s<l-2*!a;s+=2){var h=[{x:+t[s-2],y:+t[s-1]},{x:+t[s],y:+t[s+1]},{x:+t[s+2],y:+t[s+3]},{x:+t[s+4],y:+t[s+5]}];a?s?l-4===s?h[3]={x:+t[0],y:+t[1]}:l-2===s&&(h[2]={x:+t[0],y:+t[1]},h[3]={x:+t[2],y:+t[3]}):h[0]={x:+t[l-2],y:+t[l-1]}:l-4===s?h[3]=h[2]:s||(h[0]={x:+t[s],y:+t[s+1]}),o.curve(c*(-h[0].x+6*h[1].x+h[2].x)/6+f*h[2].x,c*(-h[0].y+6*h[1].y+h[2].y)/6+f*h[2].y,c*(h[1].x+6*h[2].x-h[3].x)/6+f*h[2].x,c*(h[1].y+6*h[2].y-h[3].y)/6+f*h[2].y,h[2].x,h[2].y,!1,n[(s+2)/2])}return o}return g.Interpolation.none()([])}},g.Interpolation.monotoneCubic=function(p){var t={fillHoles:!1};return p=g.extend({},t,p),function e(t,n){var i=g.splitIntoSegments(t,n,{fillHoles:p.fillHoles,increasingX:!0});if(i.length){if(1<i.length){var r=[];return i.forEach(function(t){r.push(e(t.pathCoordinates,t.valueData))}),g.Svg.Path.join(r)}if(t=i[0].pathCoordinates,n=i[0].valueData,t.length<=4)return g.Interpolation.none()(t,n);var a,o,s=[],l=[],h=t.length/2,u=[],c=[],f=[],d=[];for(a=0;a<h;a++)s[a]=t[2*a],l[a]=t[2*a+1];for(a=0;a<h-1;a++)f[a]=l[a+1]-l[a],d[a]=s[a+1]-s[a],c[a]=f[a]/d[a];for(u[0]=c[0],u[h-1]=c[h-2],a=1;a<h-1;a++)0===c[a]||0===c[a-1]||0<c[a-1]!=0<c[a]?u[a]=0:(u[a]=3*(d[a-1]+d[a])/((2*d[a]+d[a-1])/c[a-1]+(d[a]+2*d[a-1])/c[a]),isFinite(u[a])||(u[a]=0));for(o=(new g.Svg.Path).move(s[0],l[0],!1,n[0]),a=0;a<h-1;a++)o.curve(s[a]+d[a]/3,l[a]+u[a]*d[a]/3,s[a+1]-d[a]/3,l[a+1]-u[a+1]*d[a]/3,s[a+1],l[a+1],!1,n[a+1]);return o}return g.Interpolation.none()([])}},g.Interpolation.step=function(u){var t={postpone:!0,fillHoles:!1};return u=g.extend({},t,u),function(t,e){for(var n,i,r,a=new g.Svg.Path,o=0;o<t.length;o+=2){var s=t[o],l=t[o+1],h=e[o/2];h.value!==undefined?(r===undefined?a.move(s,l,!1,h):(u.postpone?a.line(s,i,!1,r):a.line(n,l,!1,h),a.line(s,l,!1,h)),n=s,i=l,r=h):u.fillHoles||(n=i=r=undefined)}return a}}}(window,document,t),function(){"use strict";t.EventEmitter=function(){function t(t,e){i[t]=i[t]||[],i[t].push(e)}function e(t,e){i[t]&&(e?(i[t].splice(i[t].indexOf(e),1),0===i[t].length&&delete i[t]):delete i[t])}function n(e,n){i[e]&&i[e].forEach(function(t){t(n)}),i["*"]&&i["*"].forEach(function(t){t(e,n)})}var i=[];return{addEventHandler:t,removeEventHandler:e,emit:n}}}(window,document),function(t,e,a){"use strict";function i(t){var e=[];if(t.length)for(var n=0;n<t.length;n++)e.push(t[n]);return e}function n(t,e){var n=e||this.prototype||a.Class,i=Object.create(n);a.Class.cloneDefinitions(i,t);var r=function(){var t,e=i.constructor||function(){};return t=this===a?Object.create(i):this,e.apply(t,Array.prototype.slice.call(arguments,0)),t};return r.prototype=i,r["super"]=n,r.extend=this.extend,r}function r(){var t=i(arguments),n=t[0];return t.splice(1,t.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(t){delete n[t],Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}),n}a.Class={extend:n,cloneDefinitions:r}}(window,document,t),function(t,e,a){"use strict";function n(t,e,n){return t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),e&&(this.options=a.extend({},n?this.options:this.defaultOptions,e),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=a.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function i(){return this.initializeTimeoutId?t.clearTimeout(this.initializeTimeoutId):(t.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function r(t,e){return this.eventEmitter.addEventHandler(t,e),this}function o(t,e){return this.eventEmitter.removeEventHandler(t,e),this}function s(){t.addEventListener("resize",this.resizeListener),this.optionsProvider=a.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=undefined}function l(t,e,n,i,r){this.container=a.querySelector(t),this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=n,this.options=i,this.responsiveOptions=r,this.eventEmitter=a.EventEmitter(),this.supportsForeignObject=a.Svg.isSupported("Extensibility"),this.supportsAnimations=a.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(s.bind(this),0)}a.Base=a.Class.extend({constructor:l,optionsProvider:undefined,container:undefined,svg:undefined,eventEmitter:undefined,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:n,detach:i,on:r,off:o,version:a.version,supportsForeignObject:!1})}(window,document,t),function(t,o,l){"use strict";function e(t,e,n,i,r){t instanceof Element?this._node=t:(this._node=o.createElementNS(l.namespaces.svg,t),"svg"===t&&this.attr({"xmlns:ct":l.namespaces.ct})),e&&this.attr(e),n&&this.addClass(n),i&&(r&&i._node.firstChild?i._node.insertBefore(this._node,i._node.firstChild):i._node.appendChild(this._node))}function n(n,t){return"string"==typeof n?t?this._node.getAttributeNS(t,n):this._node.getAttribute(n):(Object.keys(n).forEach(function(t){if(n[t]!==undefined)if(-1!==t.indexOf(":")){var e=t.split(":");this._node.setAttributeNS(l.namespaces[e[0]],t,n[t])}else this._node.setAttribute(t,n[t])}.bind(this)),this)}function i(t,e,n,i){return new l.Svg(t,e,n,this,i)}function r(){return this._node.parentNode instanceof SVGElement?new l.Svg(this._node.parentNode):null}function a(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new l.Svg(t)}function s(t){var e=this._node.querySelector(t);return e?new l.Svg(e):null}function h(t){var e=this._node.querySelectorAll(t);return e.length?new l.Svg.List(e):null}function u(){return this._node}function c(t,e,n,i){if("string"==typeof t){var r=o.createElement("div");r.innerHTML=t,t=r.firstChild}t.setAttribute("xmlns",l.namespaces.xmlns);var a=this.elem("foreignObject",e,n,i);return a._node.appendChild(t),a}function f(t){return this._node.appendChild(o.createTextNode(t)),this}function d(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function p(){return this._node.parentNode.removeChild(this._node),this.parent()}function g(t){return this._node.parentNode.replaceChild(t._node,this._node),t}function m(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}function v(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function x(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter(function(t,e,n){return n.indexOf(t)===e}).join(" ")),this}function y(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(t){return-1===e.indexOf(t)}).join(" ")),this}function b(){return this._node.setAttribute("class",""),this}function w(){return this._node.getBoundingClientRect().height}function k(){return this._node.getBoundingClientRect().width}function M(t,n,s){return n===undefined&&(n=!0),Object.keys(t).forEach(function(o){function e(e,t){var n,i,r,a={};e.easing&&(r=e.easing instanceof Array?e.easing:l.Svg.Easing[e.easing],delete e.easing),e.begin=l.ensureUnit(e.begin,"ms"),e.dur=l.ensureUnit(e.dur,"ms"),r&&(e.calcMode="spline",e.keySplines=r.join(" "),e.keyTimes="0;1"),t&&(e.fill="freeze",a[o]=e.from,this.attr(a),i=l.quantity(e.begin||0).value,e.begin="indefinite"),n=this.elem("animate",l.extend({attributeName:o},e)),t&&setTimeout(function(){try{n._node.beginElement()}catch(t){a[o]=e.to,this.attr(a),n.remove()}}.bind(this),i),s&&n._node.addEventListener("beginEvent",function(){s.emit("animationBegin",{element:this,animate:n._node,params:e})}.bind(this)),n._node.addEventListener("endEvent",function(){s&&s.emit("animationEnd",{element:this,animate:n._node,params:e}),t&&(a[o]=e.to,this.attr(a),n.remove())}.bind(this))}t[o]instanceof Array?t[o].forEach(function(t){e.bind(this)(t,!1)}.bind(this)):e.bind(this)(t[o],n)}.bind(this)),this}function S(t){var i=this;this.svgElements=[];for(var e=0;e<t.length;e++)this.svgElements.push(new l.Svg(t[e]));Object.keys(l.Svg.prototype).filter(function(t){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)}).forEach(function(n){i[n]=function(){var e=Array.prototype.slice.call(arguments,0);return i.svgElements.forEach(function(t){l.Svg.prototype[n].apply(t,e)}),i}})}l.Svg=l.Class.extend({constructor:e,attr:n,elem:i,parent:r,root:a,querySelector:s,querySelectorAll:h,getNode:u,foreignObject:c,text:f,empty:d,remove:p,replace:g,append:m,classes:v,addClass:x,removeClass:y,removeAllClasses:b,height:w,width:k,animate:M}),l.Svg.isSupported=function(t){return o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1")};var _={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};l.Svg.Easing=_,l.Svg.List=l.Class.extend({constructor:S})}(window,document,t),function(t,e,s){"use strict";function h(t,e,n,i,r,a){var o=s.extend({command:r?t.toLowerCase():t.toUpperCase()},e,a?{data:a}:{});n.splice(i,0,o)}function r(r,a){r.forEach(function(n,i){b[n.command.toLowerCase()].forEach(function(t,e){a(n,t,i,e,r)})})}function n(t,e){this.pathElements=[],this.pos=0,this.close=t,this.options=s.extend({},w,e)}function i(t){return t!==undefined?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}function a(t){return this.pathElements.splice(this.pos,t),this}function o(t,e,n,i){return h("M",{x:+t,y:+e},this.pathElements,this.pos++,n,i),this}function l(t,e,n,i){return h("L",{x:+t,y:+e},this.pathElements,this.pos++,n,i),this}function u(t,e,n,i,r,a,o,s){return h("C",{x1:+t,y1:+e,x2:+n,y2:+i,x:+r,y:+a},this.pathElements,this.pos++,o,s),this}function c(t,e,n,i,r,a,o,s,l){return h("A",{rx:+t,ry:+e,xAr:+n,lAf:+i,sf:+r,x:+a,y:+o},this.pathElements,this.pos++,s,l),this}function f(t){var e=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t},[]);"Z"===e[e.length-1][0].toUpperCase()&&e.pop();var n=e.map(function(i){var t=i.shift(),e=b[t.toLowerCase()];return s.extend({command:t},e.reduce(function(t,e,n){return t[e]=+i[n],t},{}))}),i=[this.pos,0];return Array.prototype.push.apply(i,n),Array.prototype.splice.apply(this.pathElements,i),this.pos+=n.length,this}function d(){var i=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,e){var n=b[e.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(e[t]*i)/i:e[t]}.bind(this));return t+e.command+n.join(",")}.bind(this),"")+(this.close?"Z":"")}function p(n,i){return r(this.pathElements,function(t,e){t[e]*="x"===e[0]?n:i}),this}function g(n,i){return r(this.pathElements,function(t,e){t[e]+="x"===e[0]?n:i}),this}function m(o){return r(this.pathElements,function(t,e,n,i,r){var a=o(t,e,n,i,r);(a||0===a)&&(t[e]=a)}),this}function v(t){var e=new s.Svg.Path(t||this.close);return e.pos=this.pos,e.pathElements=this.pathElements.slice().map(function(t){return s.extend({},t)}),e.options=s.extend({},this.options),e}function x(e){var n=[new s.Svg.Path];return this.pathElements.forEach(function(t){t.command===e.toUpperCase()&&0!==n[n.length-1].pathElements.length&&n.push(new s.Svg.Path),n[n.length-1].pathElements.push(t)}),n}function y(t,e,n){for(var i=new s.Svg.Path(e,n),r=0;r<t.length;r++)for(var a=t[r],o=0;o<a.pathElements.length;o++)i.pathElements.push(a.pathElements[o]);return i}var b={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},w={accuracy:3};s.Svg.Path=s.Class.extend({constructor:n,position:i,remove:a,move:o,line:l,curve:u,arc:c,scale:p,translate:g,transform:m,parse:f,stringify:d,clone:v,splitByCommand:x}),s.Svg.Path.elementDescriptions=b,s.Svg.Path.join=y}(window,document,t),function(t,e,f){"use strict";function n(t,e,n,i){this.units=t,this.counterUnits=t===r.x?r.y:r.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=n,this.options=i}function i(r,a,o,s,l){var h=s["axis"+this.units.pos.toUpperCase()],u=this.ticks.map(this.projectValue.bind(this)),c=this.ticks.map(h.labelInterpolationFnc);u.forEach(function(t,e){var n,i={x:0,y:0};n=u[e+1]?u[e+1]-t:Math.max(this.axisLength-t,30),f.isFalseyButZero(c[e])&&""!==c[e]||("x"===this.units.pos?(t=this.chartRect.x1+t,i.x=s.axisX.labelOffset.x,"start"===s.axisX.position?i.y=this.chartRect.padding.top+s.axisX.labelOffset.y+(o?5:20):i.y=this.chartRect.y1+s.axisX.labelOffset.y+(o?5:20)):(t=this.chartRect.y1-t,i.y=s.axisY.labelOffset.y-(o?n:0),"start"===s.axisY.position?i.x=o?this.chartRect.padding.left+s.axisY.labelOffset.x:this.chartRect.x1-10:i.x=this.chartRect.x2+s.axisY.labelOffset.x+10),h.showGrid&&f.createGrid(t,e,this,this.gridOffset,this.chartRect[this.counterUnits.len](),r,[s.classNames.grid,s.classNames[this.units.dir]],l),h.showLabel&&f.createLabel(t,n,e,c,this,h.offset,i,a,[s.classNames.label,s.classNames[this.units.dir],"start"===h.position?s.classNames[h.position]:s.classNames.end],o,l))}.bind(this))}var r={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};f.Axis=f.Class.extend({constructor:n,createGridAndLabels:i,projectValue:function(){throw new Error("Base axis can't be instantiated!")}}),f.Axis.units=r}(window,document,t),function(t,e,a){"use strict";function n(t,e,n,i){var r=i.highLow||a.getHighLow(e,i,t.pos);this.bounds=a.getBounds(n[t.rectEnd]-n[t.rectStart],r,i.scaleMinSpace||20,i.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},a.AutoScaleAxis["super"].constructor.call(this,t,n,this.bounds.values,i)}function i(t){return this.axisLength*(+a.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}a.AutoScaleAxis=a.Axis.extend({constructor:n,projectValue:i})}(window,document,t),function(t,e,a){"use strict";function n(t,e,n,i){var r=i.highLow||a.getHighLow(e,i,t.pos);this.divisor=i.divisor||1,this.ticks=i.ticks||a.times(this.divisor).map(function(t,e){return r.low+(r.high-r.low)/this.divisor*e}.bind(this)),this.ticks.sort(function(t,e){return t-e}),this.range={min:r.low,max:r.high},a.FixedScaleAxis["super"].constructor.call(this,t,n,this.ticks,i),this.stepLength=this.axisLength/this.divisor}function i(t){return this.axisLength*(+a.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}a.FixedScaleAxis=a.Axis.extend({constructor:n,projectValue:i})}(window,document,t),function(t,e,a){"use strict";function n(t,e,n,i){a.StepAxis["super"].constructor.call(this,t,n,i.ticks,i);var r=Math.max(1,i.ticks.length-(i.stretch?1:0));this.stepLength=this.axisLength/r}function i(t,e){return this.stepLength*e}a.StepAxis=a.Axis.extend({constructor:n,projectValue:i})}(window,document,t),function(t,e,m){"use strict";function n(u){var c=m.normalizeData(this.data,u.reverseData,!0);this.svg=m.createSvg(this.container,u.width,u.height,u.classNames.chart);var f,d,t=this.svg.elem("g").addClass(u.classNames.gridGroup),p=this.svg.elem("g"),e=this.svg.elem("g").addClass(u.classNames.labelGroup),g=m.createChartRect(this.svg,u,r.padding);f=u.axisX.type===undefined?new m.StepAxis(m.Axis.units.x,c.normalized.series,g,m.extend({},u.axisX,{ticks:c.normalized.labels,stretch:u.fullWidth})):u.axisX.type.call(m,m.Axis.units.x,c.normalized.series,g,u.axisX),d=u.axisY.type===undefined?new m.AutoScaleAxis(m.Axis.units.y,c.normalized.series,g,m.extend({},u.axisY,{high:m.isNumeric(u.high)?u.high:u.axisY.high,low:m.isNumeric(u.low)?u.low:u.axisY.low})):u.axisY.type.call(m,m.Axis.units.y,c.normalized.series,g,u.axisY),f.createGridAndLabels(t,e,this.supportsForeignObject,u,this.eventEmitter),d.createGridAndLabels(t,e,this.supportsForeignObject,u,this.eventEmitter),u.showGridBackground&&m.createGridBackground(t,g,u.classNames.gridBackground,this.eventEmitter),c.raw.series.forEach(function(i,r){var n=p.elem("g");n.attr({"ct:series-name":i.name,"ct:meta":m.serialize(i.meta)}),n.addClass([u.classNames.series,i.className||u.classNames.series+"-"+m.alphaNumerate(r)].join(" "));var a=[],o=[];c.normalized.series[r].forEach(function(t,e){var n={x:g.x1+f.projectValue(t,e,c.normalized.series[r]),y:g.y1-d.projectValue(t,e,c.normalized.series[r])};a.push(n.x,n.y),o.push({value:t,valueIndex:e,meta:m.getMetaData(i,e)})}.bind(this));var t={lineSmooth:m.getSeriesOption(i,u,"lineSmooth"),showPoint:m.getSeriesOption(i,u,"showPoint"),showLine:m.getSeriesOption(i,u,"showLine"),showArea:m.getSeriesOption(i,u,"showArea"),areaBase:m.getSeriesOption(i,u,"areaBase")},e=("function"==typeof t.lineSmooth?t.lineSmooth:t.lineSmooth?m.Interpolation.monotoneCubic():m.Interpolation.none())(a,o);if(t.showPoint&&e.pathElements.forEach(function(t){var e=n.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},u.classNames.point).attr({"ct:value":[t.data.value.x,t.data.value.y].filter(m.isNumeric).join(","),"ct:meta":m.serialize(t.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:i,seriesIndex:r,axisX:f,axisY:d,group:n,element:e,x:t.x,y:t.y})}.bind(this)),t.showLine){var s=n.elem("path",{d:e.stringify()},u.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:c.normalized.series[r],path:e.clone(),chartRect:g,index:r,series:i,seriesIndex:r,seriesMeta:i.meta,axisX:f,axisY:d,group:n,element:s})}if(t.showArea&&d.range){var l=Math.max(Math.min(t.areaBase,d.range.max),d.range.min),h=g.y1-d.projectValue(l);e.splitByCommand("M").filter(function(t){return 1<t.pathElements.length}).map(function(t){var e=t.pathElements[0],n=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,h).line(e.x,e.y).position(t.pathElements.length+1).line(n.x,h)}).forEach(function(t){var e=n.elem("path",{d:t.stringify()},u.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:c.normalized.series[r],path:t.clone(),series:i,seriesIndex:r,axisX:f,axisY:d,chartRect:g,index:r,group:n,element:e})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:d.bounds,chartRect:g,axisX:f,axisY:d,svg:this.svg,options:u})}function i(t,e,n,i){m.Line["super"].constructor.call(this,t,e,r,m.extend({},r,n),i)}var r={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:m.noop,type:undefined},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:m.noop,type:undefined,scaleMinSpace:20,onlyInteger:!1},width:undefined,height:undefined,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:undefined,high:undefined,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};m.Line=m.Base.extend({constructor:i,createChart:n})}(window,document,t),function(t,e,k){"use strict";function n(d){var p,t;d.distributeSeries?(p=k.normalizeData(this.data,d.reverseData,d.horizontalBars?"x":"y")).normalized.series=p.normalized.series.map(function(t){return[t]}):p=k.normalizeData(this.data,d.reverseData,d.horizontalBars?"x":"y"),this.svg=k.createSvg(this.container,d.width,d.height,d.classNames.chart+(d.horizontalBars?" "+d.classNames.horizontalBars:""));var e=this.svg.elem("g").addClass(d.classNames.gridGroup),n=this.svg.elem("g"),i=this.svg.elem("g").addClass(d.classNames.labelGroup);if(d.stackBars&&0!==p.normalized.series.length){var r=k.serialMap(p.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(t){return t}).reduce(function(t,e){return{x:t.x+(e&&e.x)||0,y:t.y+(e&&e.y)||0}},{x:0,y:0})});t=k.getHighLow([r],d,d.horizontalBars?"x":"y")}else t=k.getHighLow(p.normalized.series,d,d.horizontalBars?"x":"y");t.high=+d.high||(0===d.high?0:t.high),t.low=+d.low||(0===d.low?0:t.low);var g,a,m,v,x,y=k.createChartRect(this.svg,d,o.padding);a=d.distributeSeries&&d.stackBars?p.normalized.labels.slice(0,1):p.normalized.labels,d.horizontalBars?(g=v=d.axisX.type===undefined?new k.AutoScaleAxis(k.Axis.units.x,p.normalized.series,y,k.extend({},d.axisX,{highLow:t,referenceValue:0})):d.axisX.type.call(k,k.Axis.units.x,p.normalized.series,y,k.extend({},d.axisX,{highLow:t,referenceValue:0})),m=x=d.axisY.type===undefined?new k.StepAxis(k.Axis.units.y,p.normalized.series,y,{ticks:a}):d.axisY.type.call(k,k.Axis.units.y,p.normalized.series,y,d.axisY)):(m=v=d.axisX.type===undefined?new k.StepAxis(k.Axis.units.x,p.normalized.series,y,{ticks:a}):d.axisX.type.call(k,k.Axis.units.x,p.normalized.series,y,d.axisX),g=x=d.axisY.type===undefined?new k.AutoScaleAxis(k.Axis.units.y,p.normalized.series,y,k.extend({},d.axisY,{highLow:t,referenceValue:0})):d.axisY.type.call(k,k.Axis.units.y,p.normalized.series,y,k.extend({},d.axisY,{highLow:t,referenceValue:0})));var b=d.horizontalBars?y.x1+g.projectValue(0):y.y1-g.projectValue(0),w=[];m.createGridAndLabels(e,i,this.supportsForeignObject,d,this.eventEmitter),g.createGridAndLabels(e,i,this.supportsForeignObject,d,this.eventEmitter),d.showGridBackground&&k.createGridBackground(e,y,d.classNames.gridBackground,this.eventEmitter),p.raw.series.forEach(function(l,h){var u,c,f=h-(p.raw.series.length-1)/2;u=d.distributeSeries&&!d.stackBars?m.axisLength/p.normalized.series.length/2:d.distributeSeries&&d.stackBars?m.axisLength/2:m.axisLength/p.normalized.series[h].length/2,(c=n.elem("g")).attr({"ct:series-name":l.name,"ct:meta":k.serialize(l.meta)}),c.addClass([d.classNames.series,l.className||d.classNames.series+"-"+k.alphaNumerate(h)].join(" ")),p.normalized.series[h].forEach(function(t,e){var n,i,r,a;if(a=d.distributeSeries&&!d.stackBars?h:d.distributeSeries&&d.stackBars?0:e,n=d.horizontalBars?{x:y.x1+g.projectValue(t&&t.x?t.x:0,e,p.normalized.series[h]),y:y.y1-m.projectValue(t&&t.y?t.y:0,a,p.normalized.series[h])}:{x:y.x1+m.projectValue(t&&t.x?t.x:0,a,p.normalized.series[h]),y:y.y1-g.projectValue(t&&t.y?t.y:0,e,p.normalized.series[h])},m instanceof k.StepAxis&&(m.options.stretch||(n[m.units.pos]+=u*(d.horizontalBars?-1:1)),n[m.units.pos]+=d.stackBars||d.distributeSeries?0:f*d.seriesBarDistance*(d.horizontalBars?-1:1)),r=w[e]||b,w[e]=r-(b-n[m.counterUnits.pos]),t!==undefined){var o={};o[m.units.pos+"1"]=n[m.units.pos],o[m.units.pos+"2"]=n[m.units.pos],!d.stackBars||"accumulate"!==d.stackMode&&d.stackMode?(o[m.counterUnits.pos+"1"]=b,o[m.counterUnits.pos+"2"]=n[m.counterUnits.pos]):(o[m.counterUnits.pos+"1"]=r,o[m.counterUnits.pos+"2"]=w[e]),o.x1=Math.min(Math.max(o.x1,y.x1),y.x2),o.x2=Math.min(Math.max(o.x2,y.x1),y.x2),o.y1=Math.min(Math.max(o.y1,y.y2),y.y1),o.y2=Math.min(Math.max(o.y2,y.y2),y.y1);var s=k.getMetaData(l,e);i=c.elem("line",o,d.classNames.bar).attr({"ct:value":[t.x,t.y].filter(k.isNumeric).join(","),"ct:meta":k.serialize(s)}),this.eventEmitter.emit("draw",k.extend({type:"bar",value:t,index:e,meta:s,series:l,seriesIndex:h,axisX:v,axisY:x,chartRect:y,group:c,element:i},o))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:g.bounds,chartRect:y,axisX:v,axisY:x,svg:this.svg,options:d})}function i(t,e,n,i){k.Bar["super"].constructor.call(this,t,e,o,k.extend({},o,n),i)}var o={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:k.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:k.noop,scaleMinSpace:20,onlyInteger:!1},width:undefined,height:undefined,high:undefined,low:undefined,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};k.Bar=k.Base.extend({constructor:i,createChart:n})}(window,document,t),function(t,e,A){"use strict";function T(t,e,n){var i=e.x>t.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}function n(m){var v,t,x,y,b,w=A.normalizeData(this.data),k=[],M=m.startAngle;this.svg=A.createSvg(this.container,m.width,m.height,m.donut?m.classNames.chartDonut:m.classNames.chartPie),t=A.createChartRect(this.svg,m,r.padding),x=Math.min(t.width()/2,t.height()/2),b=m.total||w.normalized.series.reduce(function(t,e){return t+e},0);var S=A.quantity(m.donutWidth)
;"%"===S.unit&&(S.value*=x/100),x-=m.donut&&!m.donutSolid?S.value/2:0,y="outside"===m.labelPosition||m.donut&&!m.donutSolid?x:"center"===m.labelPosition?0:m.donutSolid?x-S.value/2:x/2,y+=m.labelOffset;var _={x:t.x1+t.width()/2,y:t.y2+t.height()/2},C=1===w.raw.series.filter(function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t}).length;w.raw.series.forEach(function(t,e){k[e]=this.svg.elem("g",null,null)}.bind(this)),m.showLabel&&(v=this.svg.elem("g",null,null)),w.raw.series.forEach(function(t,e){if(0!==w.normalized.series[e]||!m.ignoreEmptyValues){k[e].attr({"ct:series-name":t.name}),k[e].addClass([m.classNames.series,t.className||m.classNames.series+"-"+A.alphaNumerate(e)].join(" "));var n=0<b?M+w.normalized.series[e]/b*360:0,i=Math.max(0,M-(0===e||C?0:.2));359.99<=n-i&&(n=i+359.99);var r,a,o,s=A.polarToCartesian(_.x,_.y,x,i),l=A.polarToCartesian(_.x,_.y,x,n),h=new A.Svg.Path(!m.donut||m.donutSolid).move(l.x,l.y).arc(x,x,0,180<n-M,0,s.x,s.y);m.donut?m.donutSolid&&(o=x-S.value,r=A.polarToCartesian(_.x,_.y,o,M-(0===e||C?0:.2)),a=A.polarToCartesian(_.x,_.y,o,n),h.line(r.x,r.y),h.arc(o,o,0,180<n-M,1,a.x,a.y)):h.line(_.x,_.y);var u=m.classNames.slicePie;m.donut&&(u=m.classNames.sliceDonut,m.donutSolid&&(u=m.classNames.sliceDonutSolid));var c=k[e].elem("path",{d:h.stringify()},u);if(c.attr({"ct:value":w.normalized.series[e],"ct:meta":A.serialize(t.meta)}),m.donut&&!m.donutSolid&&(c._node.style.strokeWidth=S.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:w.normalized.series[e],totalDataSum:b,index:e,meta:t.meta,series:t,group:k[e],element:c,path:h.clone(),center:_,radius:x,startAngle:M,endAngle:n}),m.showLabel){var f,d;f=1===w.raw.series.length?{x:_.x,y:_.y}:A.polarToCartesian(_.x,_.y,y,M+(n-M)/2),d=w.normalized.labels&&!A.isFalseyButZero(w.normalized.labels[e])?w.normalized.labels[e]:w.normalized.series[e];var p=m.labelInterpolationFnc(d,e);if(p||0===p){var g=v.elem("text",{dx:f.x,dy:f.y,"text-anchor":T(_,f,m.labelDirection)},m.classNames.label).text(""+p);this.eventEmitter.emit("draw",{type:"label",index:e,group:v,element:g,text:""+p,x:f.x,y:f.y})}}M=n}}.bind(this)),this.eventEmitter.emit("created",{chartRect:t,svg:this.svg,options:m})}function i(t,e,n,i){A.Pie["super"].constructor.call(this,t,e,r,A.extend({},r,n),i)}var r={width:undefined,height:undefined,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:undefined,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:A.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};A.Pie=A.Base.extend({constructor:i,createChart:n,determineAnchorPosition:T})}(window,document,t),t}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Raphael=e():t.Raphael=e()}(this,function(){return function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var r={};return i.m=n,i.c=r,i.p="",i(0)}([function(t,e,n){var i,r;i=[n(1),n(3),n(4)],(r=function(t){return t}.apply(e,i))===undefined||(t.exports=r)},function(t,e,n){var i,r;i=[n(2)],(r=function(L){function z(t){if(z.is(t,"function"))return i?t():L.on("raphael.DOMload",t);if(z.is(t,E))return z._engine.create[b](z,t.splice(0,3+z.is(t[0],W))).add(t);var e=Array.prototype.slice.call(arguments,0);if(z.is(e[e.length-1],"function")){var n=e.pop();return i?n.call(z._engine.create[b](z,e)):L.on("raphael.DOMload",function(){n.call(z._engine.create[b](z,e))})}return z._engine.create[b](z,arguments)}function v(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[B](n)&&(e[n]=v(t[n]));return e}function l(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function j(r,a,o){function s(){var t=Array.prototype.slice.call(arguments,0),e=t.join("\u2400"),n=s.cache=s.cache||{},i=s.count=s.count||[];return n[B](e)?l(i,e):(1e3<=i.length&&delete n[i.shift()],i.push(e),n[e]=r[b](a,t)),o?o(n[e]):n[e]}return s}function h(){return this.hex}function x(t,e){for(var n=[],i=0,r=t.length;i<r-2*!e;i+=2){var a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?a[3]={x:+t[0],y:+t[1]}:r-2==i&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n}function y(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function _(t,e,n,i,r,a,o,s,l){null==l&&(l=1);for(var h=(l=1<l?1:l<0?0:l)/2,u=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<u;p++){var g=h*c[p]+h,m=y(g,t,n,r,o),v=y(g,e,i,a,s),x=m*m+v*v;d+=f[p]*U.sqrt(x)}return h*d}function u(t,e,n,i,r,a,o,s,l){if(!(l<0||_(t,e,n,i,r,a,o,s)<l)){var h,u=1,c=u/2,f=u-c,d=.01;for(h=_(t,e,n,i,r,a,o,s,f);G(h-l)>d;)h=_(t,e,n,i,r,a,o,s,f+=(h<l?1:-1)*(c/=2));return f}}function C(t,e,n,i,r,a,o,s){if(!(T(t,n)<I(r,o)||I(t,n)>T(r,o)||T(e,i)<I(a,s)||I(e,i)>T(a,s))){var l=(t-n)*(a-s)-(e-i)*(r-o);if(l){var h=((t*i-e*n)*(r-o)-(t-n)*(r*s-a*o))/l,u=((t*i-e*n)*(a-s)-(e-i)*(r*s-a*o))/l,c=+h.toFixed(2),f=+u.toFixed(2);if(!(c<+I(t,n).toFixed(2)||c>+T(t,n).toFixed(2)||c<+I(r,o).toFixed(2)||c>+T(r,o).toFixed(2)||f<+I(e,i).toFixed(2)||f>+T(e,i).toFixed(2)||f<+I(a,s).toFixed(2)||f>+T(a,s).toFixed(2)))return{x:h,y:u}}}}function M(t,e,n){var i=z.bezierBBox(t),r=z.bezierBBox(e);if(!z.isBBoxIntersect(i,r))return n?0:[];for(var a=_.apply(0,t),o=_.apply(0,e),s=T(~~(a/5),1),l=T(~~(o/5),1),h=[],u=[],c={},f=n?0:[],d=0;d<s+1;d++){var p=z.findDotsAtSegment.apply(z,t.concat(d/s));h.push({x:p.x,y:p.y,t:d/s})}for(d=0;d<l+1;d++)p=z.findDotsAtSegment.apply(z,e.concat(d/l)),u.push({x:p.x,y:p.y,t:d/l});for(d=0;d<s;d++)for(var g=0;g<l;g++){var m=h[d],v=h[d+1],x=u[g],y=u[g+1],b=G(v.x-m.x)<.001?"y":"x",w=G(y.x-x.x)<.001?"y":"x",k=C(m.x,m.y,v.x,v.y,x.x,x.y,y.x,y.y);if(k){if(c[k.x.toFixed(4)]==k.y.toFixed(4))continue;c[k.x.toFixed(4)]=k.y.toFixed(4);var M=m.t+G((k[b]-m[b])/(v[b]-m[b]))*(v.t-m.t),S=x.t+G((k[w]-x[w])/(y[w]-x[w]))*(y.t-x.t);0<=M&&M<=1.001&&0<=S&&S<=1.001&&(n?f++:f.push({x:k.x,y:k.y,t1:I(M,1),t2:I(S,1)}))}}return f}function r(t,e,n){t=z._path2curve(t),e=z._path2curve(e);for(var i,r,a,o,s,l,h,u,c,f,d=n?0:[],p=0,g=t.length;p<g;p++){var m=t[p];if("M"==m[0])i=s=m[1],r=l=m[2];else{"C"==m[0]?(i=(c=[i,r].concat(m.slice(1)))[6],r=c[7]):(c=[i,r,i,r,s,l,s,l],i=s,r=l);for(var v=0,x=e.length;v<x;v++){var y=e[v];if("M"==y[0])a=h=y[1],o=u=y[2];else{"C"==y[0]?(a=(f=[a,o].concat(y.slice(1)))[6],o=f[7]):(f=[a,o,a,o,h,u,h,u],a=h,o=u);var b=M(c,f,n);if(n)d+=b;else{for(var w=0,k=b.length;w<k;w++)b[w].segment1=p,b[w].segment2=v,b[w].bez1=c,b[w].bez2=f;d=d.concat(b)}}}}}return d}function R(t,e,n,i,r,a){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function n(){return this.x+A+this.y+A+this.width+" \xd7 "+this.height}function N(t,e,n,i,r,a){function l(t){return((c*t+u)*t+h)*t}function o(t,e){var n=s(t,e);return((p*n+d)*n+f)*n}function s(t,e){var n,i,r,a,o,s;for(r=t,s=0;s<8;s++){if(a=l(r)-t,G(a)<e)return r;if(G(o=(3*c*r+2*u)*r+h)<1e-6)break;r-=a/o}if((r=t)<(n=0))return n;if((i=1)<r)return i;for(;n<i;){if(a=l(r),G(a-t)<e)return r;a<t?n=r:i=r,r=(i-n)/2+n}return r}var h=3*e,u=3*(i-e)-h,c=1-h-u,f=3*n,d=3*(r-n)-f,p=1-f-d;return o(t,1/(200*a))}function c(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[B](r)&&(i[J(r)]=t[r],n.push(J(r)));n.sort(ut)}this.anim=i,this.top=n[n.length-1],this.percents=n}function k(t,e,n,i,r,a){n=J(n);var o,s,l,h,u,c,f=t.ms,d={},p={},g={};if(i)for(v=0,x=se.length;v<x;v++){var m=se[v];if(m.el.id==e.id&&m.anim==t){m.percent!=n?(se.splice(v,1),l=1):s=m,e.attr(m.totalOrigin);break}}else i=+p;for(var v=0,x=t.percents.length;v<x;v++){if(t.percents[v]==n||t.percents[v]>i*t.top){n=t.percents[v],u=t.percents[v-1]||0,f=f/t.top*(n-u),h=t.percents[v+1],o=t.anim[n];break}i&&e.attr(t.anim[t.percents[v]])}if(o){if(s)s.initstatus=i,s.start=new Date-s.ms*i;else{for(var y in o)if(o[B](y)&&(nt[B](y)||e.paper.customAttributes[B](y)))switch(d[y]=e.attr(y),null==d[y]&&(d[y]=et[y]),p[y]=o[y],nt[y]){case W:g[y]=(p[y]-d[y])/f;break;case"colour":d[y]=z.getRGB(d[y]);var b=z.getRGB(p[y]);g[y]={r:(b.r-d[y].r)/f,g:(b.g-d[y].g)/f,b:(b.b-d[y].b)/f};break;case"path":var w=Rt(d[y],p[y]),k=w[1];for(d[y]=w[0],g[y]=[],v=0,x=d[y].length;v<x;v++){g[y][v]=[0];for(var M=1,S=d[y][v].length;M<S;M++)g[y][v][M]=(k[v][M]-d[y][v][M])/f}break;case"transform":var _=e._,C=Wt(_[y],p[y]);if(C)for(d[y]=C.from,p[y]=C.to,g[y]=[],g[y].real=!0,v=0,x=d[y].length;v<x;v++)for(g[y][v]=[d[y][v][0]],M=1,S=d[y][v].length;M<S;M++)g[y][v][M]=(p[y][v][M]-d[y][v][M])/f;else{var A=e.matrix||new R,T={_:{transform:_.transform},getBBox:function(){return e.getBBox(1)}};d[y]=[A.a,A.b,A.c,A.d,A.e,A.f],Bt(T,p[y]),p[y]=T._.transform,g[y]=[(T.matrix.a-A.a)/f,(T.matrix.b-A.b)/f,(T.matrix.c-A.c)/f,(T.matrix.d-A.d)/f,(T.matrix.e-A.e)/f,(T.matrix.f-A.f)/f]}break;case"csv":var I=H(o[y])[Y](O),P=H(d[y])[Y](O);if("clip-rect"==y)for(d[y]=P,g[y]=[],v=P.length;v--;)g[y][v]=(I[v]-d[y][v])/f;p[y]=I;break;default:for(I=[][q](o[y]),P=[][q](d[y]),g[y]=[],v=e.paper.customAttributes[y].length;v--;)g[y][v]=((I[v]||0)-(P[v]||0))/f}var D=o.easing,E=z.easing_formulas[D];if(!E)if((E=H(D).match(Q))&&5==E.length){var F=E;E=function(t){return N(t,+F[1],+F[2],+F[3],+F[4],f)}}else E=ct;if(m={anim:t,percent:n,timestamp:c=o.start||t.start||+new Date,start:c+(t.del||0),status:0,initstatus:i||0,stop:!1,ms:f,easing:E,from:d,diff:g,to:p,el:e,callback:o.callback,prev:u,next:h,repeat:a||t.times,origin:e.attr(),totalOrigin:r},se.push(m),i&&!s&&!l&&(m.stop=!0,m.start=new Date-f*i,1==se.length))return he();l&&(m.start=new Date-m.ms*i),1==se.length&&le(he)}L("raphael.anim.start."+e.id,e,t)}}function t(t){for(var e=0;e<se.length;e++)se[e].el.paper==t&&se.splice(e--,1)}z.version="2.2.0",z.eve=L;var i,e,O=/[, ]+/,a={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},o=/\{(\d+)\}/g,B="hasOwnProperty",p={doc:document,win:window},s={was:Object.prototype[B].call(p.win,"Raphael"),is:p.win.Raphael},f=function(){this.ca=this.customAttributes={}},b="apply",q="concat",g="ontouchstart"in p.win||p.win.DocumentTouch&&p.doc instanceof DocumentTouch,S="",A=" ",H=String,Y="split",d="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[Y](A),m={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w=H.prototype.toLowerCase,U=Math,T=U.max,I=U.min,G=U.abs,P=U.pow,X=U.PI,W="number",D="string",E="array",F=Object.prototype.toString,V=(z._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),$={NaN:1,Infinity:1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Z=U.round,J=parseFloat,K=parseInt,tt=H.prototype.toUpperCase,et=z._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,"class":""},nt=z._availableAnimAttrs={blur:W,"clip-rect":"csv",cx:W,cy:W,fill:"colour","fill-opacity":W,"font-size":W,height:W,opacity:W,path:"path",r:W,rx:W,ry:W,stroke:"colour","stroke-opacity":W,"stroke-width":W,transform:"transform",width:W,x:W,y:W},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,rt={hs:1,rg:1},at=/,?([achlmqrstvxz]),?/gi,ot=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ht=(z._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(t,e){return J(t)-J(e)},ct=function(t){return t},ft=z._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},dt=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},pt=z._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},gt=z.mapPath=function(t,e){if(!e)return t;var n,i,r,a,o,s,l;for(r=0,o=(t=Rt(t)).length;r<o;r++)for(a=1,s=(l=t[r]).length;a<s;a+=2)n=e.x(l[a],l[a+1]),i=e.y(l[a],l[a+1]),l[a]=n,l[a+1]=i;return t};if(z._g=p,z.type=p.win.SVGAngle||p.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==z.type){var mt,vt=p.doc.createElement("div");if(vt.innerHTML='<v:shape adj="1"/>',(mt=vt.firstChild).style.behavior="url(#default#VML)",!mt||"object"!=typeof mt.adj)return z.type=S;vt=null}z.svg=!(z.vml="VML"==z.type),z._Paper=f,z.fn=e=f.prototype=z.prototype,z._id=0,z.is=function(t,e){return"finite"==(e=w.call(e))?!$[B](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||F.call(t).slice(8,-1).toLowerCase()==e},z.angle=function(t,e,n,i,r,a){if(null==r){var o=t-n,s=e-i;return o||s?(180+180*U.atan2(-s,-o)/X+360)%360:0}return z.angle(t,e,r,a)-z.angle(n,i,r,a)},z.rad=function(t){return t%360*X/180},z.deg=function(t){return Math.round(180*t/X%360*1e3)/1e3},z.snapTo=function(t,e,n){if(n=z.is(n,"finite")?n:10,z.is(t,E)){for(var i=t.length;i--;)if(G(t[i]-e)<=n)return t[i]}else{var r=e%(t=+t);if(r<n)return e-r;if(t-n<r)return e-r+t}return e};var xt,yt;z.createUUID=(xt=/[xy]/g,yt=function(t){var e=16*U.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(xt,yt).toUpperCase()});z.setWindow=function(t){L("raphael.setWindow",z,p.win,t),p.win=t,p.doc=p.win.document,z._engine.initWin&&z._engine.initWin(p.win)};var bt=function(t){if(z.vml){var n,i=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),n=e.body}catch(o){n=createPopup().document.body}var r=n.createTextRange();bt=j(function(t){try{n.style.color=H(t).replace(i,S);var e=r.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(o){return"none"}})}else{var a=p.doc.createElement("i");a.title="Rapha\xebl Colour Picker",a.style.display="none",p.doc.body.appendChild(a),bt=j(function(t){return a.style.color=t,p.doc.defaultView.getComputedStyle(a,S).getPropertyValue("color")})}return bt(t)},wt=function(){return"hsb("+[this.h,this.s,this.b]+")"},kt=function(){return"hsl("+[this.h,this.s,this.l]+")"},Mt=function(){return this.hex},St=function(t,e,n){if(null==e&&z.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&z.is(t,D)){var i=z.getRGB(t);t=i.r,e=i.g,n=i.b}return(1<t||1<e||1<n)&&(t/=255,e/=255,n/=255),[t,e,n]},_t=function(t,e,n,i){var r={r:t*=255,g:e*=255,b:n*=255,hex:z.rgb(t,e,n),toString:Mt};return z.is(i,"finite")&&(r.opacity=i),r};z.color=function(t){var e;return z.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=z.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):z.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=z.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(z.is(t,"string")&&(t=z.getRGB(t)),z.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=z.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=z.rgb2hsb(t),t.v=e.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=Mt,t},z.hsb2rgb=function(t,e,n,i){var r,a,o,s,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=t.o,t=t.h),r=a=o=n-(l=n*e),r+=[l,s=l*(1-G((t=(t*=360)%360/60)%2-1)),0,0,s,l][t=~~t],a+=[s,l,l,s,0,0][t],o+=[0,0,s,l,l,s][t],_t(r,a,o,i)},z.hsl2rgb=function(t,e,n,i){var r,a,o,s,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(1<t||1<e||1<n)&&(t/=360,e/=100,n/=100),r=a=o=n-(l=2*e*(n<.5?n:1-n))/2,r+=[l,s=l*(1-G((t=(t*=360)%360/60)%2-1)),0,0,s,l][t=~~t],a+=[s,l,l,s,0,0][t],o+=[0,0,s,l,l,s][t],_t(r,a,o,i)},z.rgb2hsb=function(t,e,n){var i,r;return t=(n=St(t,e,n))[0],e=n[1],n=n[2],{h:((0==(r=(i=T(t,e,n))-I(t,e,n))?null:i==t?(e-n)/r:i==e?(n-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:wt}},z.rgb2hsl=function(t,e,n){var i,r,a,o;return t=(n=St(t,e,n))[0],e=n[1],n=n[2],i=((r=T(t,e,n))+(a=I(t,e,n)))/2,{h:((0==(o=r-a)?null:r==t?(e-n)/o:r==e?(n-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:i<.5?o/(2*i):o/(2-2*i),l:i,toString:kt}},z._path2string=function(){return this.join(",").replace(at,"$1")};z._preload=function(t,e){var n=p.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,p.doc.body.removeChild(this)},n.onerror=function(){p.doc.body.removeChild(this)},p.doc.body.appendChild(n),n.src=t};z.getRGB=j(function(t){if(!t||(t=H(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:h};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:h};!rt[B](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=bt(t));var e,n,i,r,a,o,s=t.match(V);return s?(s[2]&&(i=K(s[2].substring(5),16),n=K(s[2].substring(3,5),16),e=K(s[2].substring(1,3),16)),s[3]&&(i=K((a=s[3].charAt(3))+a,16),n=K((a=s[3].charAt(2))+a,16),e=K((a=s[3].charAt(1))+a,16)),s[4]&&(o=s[4][Y](it),e=J(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),n=J(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),i=J(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),"rgba"==s[1].toLowerCase().slice(0,4)&&(r=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100)),s[5]?(o=s[5][Y](it),e=J(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),n=J(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),i=J(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),("deg"==o[0].slice(-3)||"\xb0"==o[0].slice(-1))&&(e/=360),"hsba"==s[1].toLowerCase().slice(0,4)&&(r=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100),z.hsb2rgb(e,n,i,r)):s[6]?(o=s[6][Y](it),e=J(o[0]),"%"==o[0].slice(-1)&&(e*=2.55),n=J(o[1]),"%"==o[1].slice(-1)&&(n*=2.55),i=J(o[2]),"%"==o[2].slice(-1)&&(i*=2.55),("deg"==o[0].slice(-3)||"\xb0"==o[0].slice(-1))&&(e/=360),"hsla"==s[1].toLowerCase().slice(0,4)&&(r=J(o[3])),o[3]&&"%"==o[3].slice(-1)&&(r/=100),z.hsl2rgb(e,n,i,r)):((s={r:e,g:n,b:i,toString:h}).hex="#"+(16777216|i|n<<8|e<<16).toString(16).slice(1),z.is(r,"finite")&&(s.opacity=r),s)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:h}},z),z.hsb=j(function(t,e,n){return z.hsb2rgb(t,e,n).hex}),z.hsl=j(function(t,e,n){return z.hsl2rgb(t,e,n).hex}),z.rgb=j(function(t,e,n){function i(t){return t+.5|0}return"#"+(16777216|i(n)|i(e)<<8|i(t)<<16).toString(16).slice(1)}),z.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,1<e.h&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},z.getColor.reset=function(){delete this.start},z.parsePathString=function(t){if(!t)return null;var e=Ct(t);if(e.arr)return Tt(e.arr);var a={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[];return z.is(t,E)&&z.is(t[0],E)&&(o=Tt(t)),o.length||H(t).replace(ot,function(t,e,n){var i=[],r=e.toLowerCase();if(n.replace(lt,function(t,e){e&&i.push(+e)}),"m"==r&&2<i.length&&(o.push([e][q](i.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)o.push([e][q](i));else for(;i.length>=a[r]&&(o.push([e][q](i.splice(0,a[r]))),a[r]););}),o.toString=z._path2string,e.arr=Tt(o),o},z.parseTransformString=j(function(t){if(!t)return null;var r=[];return z.is(t,E)&&z.is(t[0],E)&&(r=Tt(t)),r.length||H(t).replace(st,function(t,e,n){var i=[];w.call(e);n.replace(lt,function(t,e){e&&i.push(+e)}),r.push([e][q](i))}),r.toString=z._path2string,r});var Ct=function(e){var n=Ct.ps=Ct.ps||{};return n[e]?n[e].sleep=100:n[e]={sleep:100},setTimeout(function(){for(var t in n)n[B](t)&&t!=e&&(n[t].sleep--,!n[t].sleep&&delete n[t])}),n[e]};z.findDotsAtSegment=function(t,e,n,i,r,a,o,s,l){var h=1-l,u=P(h,3),c=P(h,2),f=l*l,d=f*l,p=u*t+3*c*l*n+3*h*l*l*r+d*o,g=u*e+3*c*l*i+3*h*l*l*a+d*s,m=t+2*l*(n-t)+f*(r-2*n+t),v=e+2*l*(i-e)+f*(a-2*i+e),x=n+2*l*(r-n)+f*(o-2*r+n),y=i+2*l*(a-i)+f*(s-2*a+i),b=h*t+l*n,w=h*e+l*i,k=h*r+l*o,M=h*a+l*s,S=90-180*U.atan2(m-x,v-y)/X;return(x<m||v<y)&&(S+=180),{x:p,y:g,m:{x:m,y:v},n:{x:x,y:y},start:{x:b,y:w},end:{x:k,y:M},alpha:S}},z.bezierBBox=function(t,e,n,i,r,a,o,s){z.is(t,"array")||(t=[t,e,n,i,r,a,o,s]);var l=zt.apply(null,t);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},z.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},z.isBBoxIntersect=function(t,e){var n=z.isPointInsideBBox;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},z.pathIntersection=function(t,e){return r(t,e)},z.pathIntersectionNumber=function(t,e){return r(t,e,1)},z.isPointInsidePath=function(t,e,n){var i=z.pathBBox(t);return z.isPointInsideBBox(i,e,n)&&r(t,[["M",e,n],["H",i.x2+10]],1)%2==1},z._removedFactory=function(t){return function(){L("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var At=z.pathBBox=function(t){var e=Ct(t);if(e.bbox)return v(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,r=0,a=[],o=[],s=0,l=(t=Rt(t)).length;s<l;s++)if("M"==(n=t[s])[0])i=n[1],r=n[2],a.push(i),o.push(r);else{var h=zt(i,r,n[1],n[2],n[3],n[4],n[5],n[6]);a=a[q](h.min.x,h.max.x),o=o[q](h.min.y,h.max.y),i=n[5],r=n[6]}var u=I[b](0,a),c=I[b](0,o),f=T[b](0,a),d=T[b](0,o),p=f-u,g=d-c,m={x:u,y:c,x2:f,y2:d,width:p,height:g,cx:u+p/2,cy:c+g/2};return e.bbox=v(m),m},Tt=function(t){var e=v(t);return e.toString=z._path2string,e},It=z._pathToRelative=function(t){var e=Ct(t);if(e.rel)return Tt(e.rel);z.is(t,E)&&z.is(t&&t[0],E)||(t=z.parsePathString(t));var n=[],i=0,r=0,a=0,o=0,s=0;"M"==t[0][0]&&(a=i=t[0][1],o=r=t[0][2],s++,n.push(["M",i,r]));for(var l=s,h=t.length;l<h;l++){var u=n[l]=[],c=t[l];if(c[0]!=w.call(c[0]))switch(u[0]=w.call(c[0]),u[0]){case"a":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]-i).toFixed(3),u[7]=+(c[7]-r).toFixed(3);break;case"v":u[1]=+(c[1]-r).toFixed(3);break;case"m":a=c[1],o=c[2];default:for(var f=1,d=c.length;f<d;f++)u[f]=+(c[f]-(f%2?i:r)).toFixed(3)}else{u=n[l]=[],"m"==c[0]&&(a=c[1]+i,o=c[2]+r);for(var p=0,g=c.length;p<g;p++)n[l][p]=c[p]}var m=n[l].length;switch(n[l][0]){case"z":i=a,r=o;break;case"h":i+=+n[l][m-1];break;case"v":r+=+n[l][m-1];break;default:i+=+n[l][m-2],r+=+n[l][m-1]}}return n.toString=z._path2string,e.rel=Tt(n),n},Pt=z._pathToAbsolute=function(t){var e=Ct(t);if(e.abs)return Tt(e.abs);if(z.is(t,E)&&z.is(t&&t[0],E)||(t=z.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],i=0,r=0,a=0,o=0,s=0;"M"==t[0][0]&&(a=i=+t[0][1],o=r=+t[0][2],s++,n[0]=["M",i,r]);for(var l,h,u=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),c=s,f=t.length;c<f;c++){if(n.push(l=[]),(h=t[c])[0]!=tt.call(h[0]))switch(l[0]=tt.call(h[0]),l[0]){case"A":l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=+(h[6]+i),l[7]=+(h[7]+r);break;case"V":l[1]=+h[1]+r;break;case"H":l[1]=+h[1]+i;break;case"R":for(var d=[i,r][q](h.slice(1)),p=2,g=d.length;p<g;p++)d[p]=+d[p]+i,d[++p]=+d[p]+r;n.pop(),n=n[q](x(d,u));break;case"M":a=+h[1]+i,o=+h[2]+r;default:for(p=1,g=h.length;p<g;p++)l[p]=+h[p]+(p%2?i:r)}else if("R"==h[0])d=[i,r][q](h.slice(1)),n.pop(),n=n[q](x(d,u)),l=["R"][q](h.slice(-2));else for(var m=0,v=h.length;m<v;m++)l[m]=h[m];switch(l[0]){case"Z":i=a,r=o;break;case"H":i=l[1];break;case"V":r=l[1];break;case"M":a=l[l.length-2],o=l[l.length-1];default:i=l[l.length-2],r=l[l.length-1]}}return n.toString=z._path2string,e.abs=Tt(n),n},Dt=function(t,e,n,i){return[t,e,n,i,n,i]},Et=function(t,e,n,i,r,a){var o=1/3,s=2/3;return[o*t+s*n,o*e+s*i,o*r+s*n,o*a+s*i,r,a]},Ft=function(t,e,n,i,r,a,o,s,l,h){var u,c=120*X/180,f=X/180*(+r||0),d=[],p=j(function(t,e,n){return{x:t*U.cos(n)-e*U.sin(n),y:t*U.sin(n)+e*U.cos(n)}});if(h)M=h[0],S=h[1],w=h[2],k=h[3];else{t=(u=p(t,e,-f)).x,e=u.y,s=(u=p(s,l,-f)).x,l=u.y;U.cos(X/180*r),U.sin(X/180*r);var g=(t-s)/2,m=(e-l)/2,v=g*g/(n*n)+m*m/(i*i);1<v&&(n*=v=U.sqrt(v),i*=v);var x=n*n,y=i*i,b=(a==o?-1:1)*U.sqrt(G((x*y-x*m*m-y*g*g)/(x*m*m+y*g*g))),w=b*n*m/i+(t+s)/2,k=b*-i*g/n+(e+l)/2,M=U.asin(((e-k)/i).toFixed(9)),S=U.asin(((l-k)/i).toFixed(9));(M=t<w?X-M:M)<0&&(M=2*X+M),(S=s<w?X-S:S)<0&&(S=2*X+S),o&&S<M&&(M-=2*X),!o&&M<S&&(S-=2*X)}var _=S-M;if(G(_)>c){var C=S,A=s,T=l;S=M+c*(o&&M<S?1:-1),s=w+n*U.cos(S),l=k+i*U.sin(S),d=Ft(s,l,n,i,r,0,o,A,T,[S,C,w,k])}_=S-M;var I=U.cos(M),P=U.sin(M),D=U.cos(S),E=U.sin(S),F=U.tan(_/4),L=4/3*n*F,z=4/3*i*F,R=[t,e],N=[t+L*P,e-z*I],O=[s+L*E,l-z*D],B=[s,l];if(N[0]=2*R[0]-N[0],N[1]=2*R[1]-N[1],h)return[N,O,B][q](d);for(var H=[],W=0,V=(d=[N,O,B][q](d).join()[Y](",")).length;W<V;W++)H[W]=W%2?p(d[W-1],d[W],f).y:p(d[W],d[W+1],f).x;return H},Lt=function(t,e,n,i,r,a,o,s,l){var h=1-l;return{x:P(h,3)*t+3*P(h,2)*l*n+3*h*l*l*r+P(l,3)*o,y:P(h,3)*e+3*P(h,2)*l*i+3*h*l*l*a+P(l,3)*s}},zt=j(function(t,e,n,i,r,a,o,s){var l,h=r-2*n+t-(o-2*r+n),u=2*(n-t)-2*(r-n),c=t-n,f=(-u+U.sqrt(u*u-4*h*c))/2/h,d=(-u-U.sqrt(u*u-4*h*c))/2/h,p=[e,s],g=[t,o];return"1e12"<G(f)&&(f=.5),"1e12"<G(d)&&(d=.5),0<f&&f<1&&(l=Lt(t,e,n,i,r,a,o,s,f),g.push(l.x),p.push(l.y)),0<d&&d<1&&(l=Lt(t,e,n,i,r,a,o,s,d),g.push(l.x),p.push(l.y)),h=a-2*i+e-(s-2*a+i),c=e-i,f=(-(u=2*(i-e)-2*(a-i))+U.sqrt(u*u-4*h*c))/2/h,d=(-u-U.sqrt(u*u-4*h*c))/2/h,"1e12"<G(f)&&(f=.5),"1e12"<G(d)&&(d=.5),0<f&&f<1&&(l=Lt(t,e,n,i,r,a,o,s,f),g.push(l.x),p.push(l.y)),0<d&&d<1&&(l=Lt(t,e,n,i,r,a,o,s,d),g.push(l.x),p.push(l.y)),{min:{x:I[b](0,g),y:I[b](0,p)},max:{x:T[b](0,g),y:T[b](0,p)}}}),Rt=z._path2curve=j(function(t,e){var n=!e&&Ct(t);if(!e&&n.curve)return Tt(n.curve);for(var a=Pt(t),o=e&&Pt(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e,n){var i,r,a={T:1,Q:1};if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in a)&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][q](Ft[b](0,[e.x,e.y][q](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r][q](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][q](Et(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][q](Et(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][q](Dt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][q](Dt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][q](Dt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][q](Dt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)u[e]="A",o&&(c[e]="A"),t.splice(e++,0,["C"][q](n.splice(0,6)));t.splice(e,1),g=T(a.length,o&&o.length||0)}},h=function(t,e,n,i,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=t[r][1],n.y=t[r][2],g=T(a.length,o&&o.length||0))},u=[],c=[],f="",d="",p=0,g=T(a.length,o&&o.length||0);p<g;p++){a[p]&&(f=a[p][0]),"C"!=f&&(u[p]=f,p&&(d=u[p-1])),a[p]=s(a[p],i,d),"A"!=u[p]&&"C"==f&&(u[p]="C"),l(a,p),o&&(o[p]&&(f=o[p][0]),"C"!=f&&(c[p]=f,p&&(d=c[p-1])),o[p]=s(o[p],r,d),"A"!=c[p]&&"C"==f&&(c[p]="C"),l(o,p)),h(a,o,i,r,p),h(o,a,r,i,p);var m=a[p],v=o&&o[p],x=m.length,y=o&&v.length;i.x=m[x-2],i.y=m[x-1],i.bx=J(m[x-4])||i.x,i.by=J(m[x-3])||i.y,r.bx=o&&(J(v[y-4])||r.x),r.by=o&&(J(v[y-3])||r.y),r.x=o&&v[y-2],r.y=o&&v[y-1]}return o||(n.curve=Tt(a)),o?[a,o]:a},null,Tt),Nt=(z._parseDots=j(function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r={},a=t[n].match(/^([^:]*):?([\d\.]*)/);if(r.color=z.getRGB(a[1]),r.color.error)return null;r.opacity=r.color.opacity,r.color=r.color.hex,a[2]&&(r.offset=a[2]+"%"),e.push(r)}for(n=1,i=e.length-1;n<i;n++)if(!e[n].offset){for(var o=J(e[n-1].offset||0),s=0,l=n+1;l<i;l++)if(e[l].offset){s=e[l].offset;break}s||(s=100,l=i);for(var h=((s=J(s))-o)/(l-n+1);n<l;n++)o+=h,e[n].offset=o+"%"}return e}),z._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Ot=(z._tofront=function(t,e){e.top!==t&&(Nt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},z._toback=function(t,e){e.bottom!==t&&(Nt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},z._insertafter=function(t,e,n){Nt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,(t.prev=e).next=t},z._insertbefore=function(t,e,n){Nt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,(e.prev=t).next=e},z.toMatrix=function(t,e){var n=At(t),i={_:{transform:S},getBBox:function(){return n}};return Bt(i,e),i.matrix}),Bt=(z.transformPath=function(t,e){return gt(t,Ot(t,e))},z._extractTransform=function(t,e){if(null==e)return t._.transform;e=H(e).replace(/\.{3}|\u2026/g,t._.transform||S);var n=z.parseTransformString(e),i=0,r=0,a=0,o=1,s=1,l=t._,h=new R;if(l.transform=n||[],n)for(var u=0,c=n.length;u<c;u++){var f,d,p,g,m,v=n[u],x=v.length,y=H(v[0]).toLowerCase(),b=v[0]!=y,w=b?h.invert():0;"t"==y&&3==x?b?(f=w.x(0,0),d=w.y(0,0),p=w.x(v[1],v[2]),g=w.y(v[1],v[2]),h.translate(p-f,g-d)):h.translate(v[1],v[2]):"r"==y?2==x?(m=m||t.getBBox(1),h.rotate(v[1],m.x+m.width/2,m.y+m.height/2),i+=v[1]):4==x&&(b?(p=w.x(v[2],v[3]),g=w.y(v[2],v[3]),h.rotate(v[1],p,g)):h.rotate(v[1],v[2],v[3]),i+=v[1]):"s"==y?2==x||3==x?(m=m||t.getBBox(1),h.scale(v[1],v[x-1],m.x+m.width/2,m.y+m.height/2),o*=v[1],s*=v[x-1]):5==x&&(b?(p=w.x(v[3],v[4]),g=w.y(v[3],v[4]),h.scale(v[1],v[2],p,g)):h.scale(v[1],v[2],v[3],v[4]),o*=v[1],s*=v[2]):"m"==y&&7==x&&h.add(v[1],v[2],v[3],v[4],v[5],v[6]),l.dirtyT=1,t.matrix=h}t.matrix=h,l.sx=o,l.sy=s,l.deg=i,l.dx=r=h.e,l.dy=a=h.f,1==o&&1==s&&!i&&l.bbox?(l.bbox.x+=+r,l.bbox.y+=+a):l.dirtyT=1}),Ht=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Wt=z._equaliseTransform=function(t,e){e=H(e).replace(/\.{3}|\u2026/g,t),t=z.parseTransformString(t)||[],
e=z.parseTransformString(e)||[];for(var n,i,r,a,o=T(t.length,e.length),s=[],l=[],h=0;h<o;h++){if(r=t[h]||Ht(e[h]),a=e[h]||Ht(r),r[0]!=a[0]||"r"==r[0].toLowerCase()&&(r[2]!=a[2]||r[3]!=a[3])||"s"==r[0].toLowerCase()&&(r[3]!=a[3]||r[4]!=a[4]))return;for(s[h]=[],l[h]=[],n=0,i=T(r.length,a.length);n<i;n++)n in r&&(s[h][n]=r[n]),n in a&&(l[h][n]=a[n])}return{from:s,to:l}};z._getContainer=function(t,e,n,i){var r;if(null!=(r=null!=i||z.is(t,"object")?t:p.doc.getElementById(t)))return r.tagName?null==e?{container:r,width:r.style.pixelWidth||r.offsetWidth,height:r.style.pixelHeight||r.offsetHeight}:{container:r,width:e,height:n}:{container:1,x:t,y:e,width:n,height:i}},z.pathToRelative=It,z._engine={},z.path2curve=Rt,z.matrix=function(t,e,n,i,r,a){return new R(t,e,n,i,r,a)},function(t){function r(t){return t[0]*t[0]+t[1]*t[1]}function a(t){var e=U.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,r,a){var o,s,l,h,u=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,n,r],[e,i,a],[0,0,1]];for(t&&t instanceof R&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),o=0;o<3;o++)for(s=0;s<3;s++){for(l=h=0;l<3;l++)h+=c[o][l]*f[l][s];u[o][s]=h}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new R(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new R(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,e,n){t=z.rad(t),e=e||0,n=n||0;var i=+U.cos(t).toFixed(9),r=+U.sin(t).toFixed(9);this.add(i,r,-r,i,e,n),this.add(1,0,0,1,-e,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[H.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return z.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];t.scalex=U.sqrt(r(e[0])),a(e[0]),t.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*t.shear,e[1][1]-e[0][1]*t.shear],t.scaley=U.sqrt(r(e[1])),a(e[1]),t.shear/=t.scaley;var n=-e[0][1],i=e[1][1];return i<0?(t.rotate=z.deg(U.acos(i)),n<0&&(t.rotate=360-t.rotate)):t.rotate=z.deg(U.asin(n)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[Y]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:S)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:S)+(e.rotate?"r"+[e.rotate,0,0]:S)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(R.prototype);for(var Vt=function(){this.returnValue=!1},jt=function(){return this.originalEvent.preventDefault()},qt=function(){this.cancelBubble=!0},Yt=function(){return this.originalEvent.stopPropagation()},Ut=function(t){var e=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,n=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Gt=p.doc.addEventListener?function(a,t,o,s){var e=function(t){var e=Ut(t);return o.call(s,t,e.x,e.y)};if(a.addEventListener(t,e,!1),g&&m[t]){var n=function(t){for(var e=Ut(t),n=t,i=0,r=t.targetTouches&&t.targetTouches.length;i<r;i++)if(t.targetTouches[i].target==a){(t=t.targetTouches[i]).originalEvent=n,t.preventDefault=jt,t.stopPropagation=Yt;break}return o.call(s,t,e.x,e.y)};a.addEventListener(m[t],n,!1)}return function(){return a.removeEventListener(t,e,!1),g&&m[t]&&a.removeEventListener(m[t],n,!1),!0}}:p.doc.attachEvent?function(t,e,a,o){var n=function(t){t=t||p.win.event;var e=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,n=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft,i=t.clientX+n,r=t.clientY+e;return t.preventDefault=t.preventDefault||Vt,t.stopPropagation=t.stopPropagation||qt,a.call(o,t,i,r)};return t.attachEvent("on"+e,n),function(){return t.detachEvent("on"+e,n),!0}}:void 0,Xt=[],$t=function(t){for(var e,n=t.clientX,i=t.clientY,r=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,a=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft,o=Xt.length;o--;){if(e=Xt[o],g&&t.touches){for(var s,l=t.touches.length;l--;)if((s=t.touches[l]).identifier==e.el._drag.id){n=s.clientX,i=s.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h,u=e.el.node,c=u.nextSibling,f=u.parentNode,d=u.style.display;p.win.opera&&f.removeChild(u),u.style.display="none",h=e.el.paper.getElementByPoint(n,i),u.style.display=d,p.win.opera&&(c?f.insertBefore(u,c):f.appendChild(u)),h&&L("raphael.drag.over."+e.el.id,e.el,h),n+=a,i+=r,L("raphael.drag.move."+e.el.id,e.move_scope||e.el,n-e.el._drag.x,i-e.el._drag.y,n,i,t)}},Qt=function(t){z.unmousemove($t).unmouseup(Qt);for(var e,n=Xt.length;n--;)(e=Xt[n]).el._drag={},L("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,t);Xt=[]},Zt=z.el={},Jt=d.length;Jt--;)!function(i){z[i]=Zt[i]=function(t,e){return z.is(t,"function")&&(this.events=this.events||[],this.events.push({name:i,f:t,unbind:Gt(this.shape||this.node||p.doc,i,t,e||this)})),this},z["un"+i]=Zt["un"+i]=function(t){for(var e=this.events||[],n=e.length;n--;)e[n].name!=i||!z.is(t,"undefined")&&e[n].f!=t||(e[n].unbind(),e.splice(n,1),!e.length&&delete this.events);return this}}(d[Jt]);Zt.data=function(t,e){var n=ht[this.id]=ht[this.id]||{};if(0==arguments.length)return n;if(1==arguments.length){if(z.is(t,"object")){for(var i in t)t[B](i)&&this.data(i,t[i]);return this}return L("raphael.data.get."+this.id,this,n[t],t),n[t]}return n[t]=e,L("raphael.data.set."+this.id,this,e,t),this},Zt.removeData=function(t){return null==t?ht[this.id]={}:ht[this.id]&&delete ht[this.id][t],this},Zt.getData=function(){return v(ht[this.id]||{})},Zt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},Zt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Kt=[];Zt.drag=function(s,l,h,u,c,f){function t(t){(t.originalEvent||t).preventDefault();var e=t.clientX,n=t.clientY,i=p.doc.documentElement.scrollTop||p.doc.body.scrollTop,r=p.doc.documentElement.scrollLeft||p.doc.body.scrollLeft;if(this._drag.id=t.identifier,g&&t.touches)for(var a,o=t.touches.length;o--;)if(a=t.touches[o],this._drag.id=a.identifier,a.identifier==this._drag.id){e=a.clientX,n=a.clientY;break}this._drag.x=e+r,this._drag.y=n+i,!Xt.length&&z.mousemove($t).mouseup(Qt),Xt.push({el:this,move_scope:u,start_scope:c,end_scope:f}),l&&L.on("raphael.drag.start."+this.id,l),s&&L.on("raphael.drag.move."+this.id,s),h&&L.on("raphael.drag.end."+this.id,h),L("raphael.drag.start."+this.id,c||u||this,t.clientX+r,t.clientY+i,t)}return this._drag={},Kt.push({el:this,start:t}),this.mousedown(t),this},Zt.onDragOver=function(t){t?L.on("raphael.drag.over."+this.id,t):L.unbind("raphael.drag.over."+this.id)},Zt.undrag=function(){for(var t=Kt.length;t--;)Kt[t].el==this&&(this.unmousedown(Kt[t].start),Kt.splice(t,1),L.unbind("raphael.drag.*."+this.id));!Kt.length&&z.unmousemove($t).unmouseup(Qt),Xt=[]},e.circle=function(t,e,n){var i=z._engine.circle(this,t||0,e||0,n||0);return this.__set__&&this.__set__.push(i),i},e.rect=function(t,e,n,i,r){var a=z._engine.rect(this,t||0,e||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(a),a},e.ellipse=function(t,e,n,i){var r=z._engine.ellipse(this,t||0,e||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},e.path=function(t){t&&!z.is(t,D)&&!z.is(t[0],E)&&(t+=S);var e=z._engine.path(z.format[b](z,arguments),this);return this.__set__&&this.__set__.push(e),e},e.image=function(t,e,n,i,r){var a=z._engine.image(this,t||"about:blank",e||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(a),a},e.text=function(t,e,n){var i=z._engine.text(this,t||0,e||0,H(n));return this.__set__&&this.__set__.push(i),i},e.set=function(t){!z.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new pe(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},e.setStart=function(t){this.__set__=t||this.set()},e.setFinish=function(){var t=this.__set__;return delete this.__set__,t},e.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},e.setSize=function(t,e){return z._engine.setSize.call(this,t,e)},e.setViewBox=function(t,e,n,i,r){return z._engine.setViewBox.call(this,t,e,n,i,r)},e.top=e.bottom=null,e.raphael=z;var te=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,a=r.clientTop||i.clientTop||0,o=r.clientLeft||i.clientLeft||0;return{y:e.top+(p.win.pageYOffset||r.scrollTop||i.scrollTop)-a,x:e.left+(p.win.pageXOffset||r.scrollLeft||i.scrollLeft)-o}};e.getElementByPoint=function(t,e){var n=this,i=n.canvas,r=p.doc.elementFromPoint(t,e);if(p.win.opera&&"svg"==r.tagName){var a=te(i),o=i.createSVGRect();o.x=t-a.x,o.y=e-a.y,o.width=o.height=1;var s=i.getIntersectionList(o,null);s.length&&(r=s[s.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==n.canvas.parentNode&&(r=i),r=r&&r.raphael?n.getById(r.raphaelid):null},e.getElementsByBBox=function(e){var n=this.set();return this.forEach(function(t){z.isBBoxIntersect(t.getBBox(),e)&&n.push(t)}),n},e.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},e.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},e.getElementsByPoint=function(e,n){var i=this.set();return this.forEach(function(t){t.isPointInside(e,n)&&i.push(t)}),i},Zt.isPointInside=function(t,e){var n=this.realPath=pt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=z.transformPath(n,this.attr("transform"))),z.isPointInsidePath(n,t,e)},Zt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=pt[this.type](this),e.bboxwt=At(this.realPath),e.bboxwt.toString=n,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=pt[this.type](this)),e.bbox=At(gt(this.realPath,this.matrix)),e.bbox.toString=n,e.dirty=e.dirtyT=0),e.bbox)},Zt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Zt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),a=this.realPath||pt[this.type](this);a=this.matrix?gt(a,this.matrix):a;for(var o=1;o<n+1;o++)r.push(i.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*o).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var ee=function(t,e,n,i,r,a,o,s,l){return null==l?_(t,e,n,i,r,a,o,s):z.findDotsAtSegment(t,e,n,i,r,a,o,s,u(t,e,n,i,r,a,o,s,l))},ne=function(d,p){return function(t,e,n){for(var i,r,a,o,s,l="",h={},u=0,c=0,f=(t=Rt(t)).length;c<f;c++){if("M"==(a=t[c])[0])i=+a[1],r=+a[2];else{if(e<u+(o=ee(i,r,a[1],a[2],a[3],a[4],a[5],a[6]))){if(p&&!h.start){if(l+=["C"+(s=ee(i,r,a[1],a[2],a[3],a[4],a[5],a[6],e-u)).start.x,s.start.y,s.m.x,s.m.y,s.x,s.y],n)return l;h.start=l,l=["M"+s.x,s.y+"C"+s.n.x,s.n.y,s.end.x,s.end.y,a[5],a[6]].join(),u+=o,i=+a[5],r=+a[6];continue}if(!d&&!p)return{x:(s=ee(i,r,a[1],a[2],a[3],a[4],a[5],a[6],e-u)).x,y:s.y,alpha:s.alpha}}u+=o,i=+a[5],r=+a[6]}l+=a.shift()+a}return h.end=l,(s=d?u:p?h:z.findDotsAtSegment(i,r,a[0],a[1],a[2],a[3],a[4],a[5],1)).alpha&&(s={x:s.x,y:s.y,alpha:s.alpha}),s}},ie=ne(1),re=ne(),ae=ne(0,1);z.getTotalLength=ie,z.getPointAtLength=re,z.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return ae(t,e).end;var i=ae(t,n,1);return e?ae(i,e).end:i},Zt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():ie(t)},Zt.getPointAtLength=function(t){var e=this.getPath();if(e)return re(e,t)},Zt.getPath=function(){var t,e=z._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},Zt.getSubpath=function(t,e){var n=this.getPath();if(n)return z.getSubpath(n,t,e)};var oe=z.easing_formulas={linear:function(t){return t},"<":function(t){return P(t,1.7)},">":function(t){return P(t,.48)},"<>":function(t){var e=.48-t/1.04,n=U.sqrt(.1734+e*e),i=n-e,r=-n-e,a=P(G(i),1/3)*(i<0?-1:1)+P(G(r),1/3)*(r<0?-1:1)+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:P(2,-10*t)*U.sin(2*X*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};oe.easeIn=oe["ease-in"]=oe["<"],oe.easeOut=oe["ease-out"]=oe[">"],oe.easeInOut=oe["ease-in-out"]=oe["<>"],oe["back-in"]=oe.backIn,oe["back-out"]=oe.backOut;var se=[],le=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},he=function(){for(var t=+new Date,e=0;e<se.length;e++){var n=se[e];if(!n.el.removed&&!n.paused){var i,r,a=t-n.start,o=n.ms,s=n.easing,l=n.from,h=n.diff,u=n.to,c=(n.t,n.el),f={},d={};if(n.initstatus?(a=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*o,n.status=n.initstatus,delete n.initstatus,n.stop&&se.splice(e--,1)):n.status=(n.prev+(n.percent-n.prev)*(a/o))/n.anim.top,!(a<0))if(a<o){var p=s(a/o);for(var g in l)if(l[B](g)){switch(nt[g]){case W:i=+l[g]+p*o*h[g];break;case"colour":i="rgb("+[ue(Z(l[g].r+p*o*h[g].r)),ue(Z(l[g].g+p*o*h[g].g)),ue(Z(l[g].b+p*o*h[g].b))].join(",")+")";break;case"path":i=[];for(var m=0,v=l[g].length;m<v;m++){i[m]=[l[g][m][0]];for(var x=1,y=l[g][m].length;x<y;x++)i[m][x]=+l[g][m][x]+p*o*h[g][m][x];i[m]=i[m].join(A)}i=i.join(A);break;case"transform":if(h[g].real)for(i=[],m=0,v=l[g].length;m<v;m++)for(i[m]=[l[g][m][0]],x=1,y=l[g][m].length;x<y;x++)i[m][x]=l[g][m][x]+p*o*h[g][m][x];else{var b=function(t){return+l[g][t]+p*o*h[g][t]};i=[["m",b(0),b(1),b(2),b(3),b(4),b(5)]]}break;case"csv":if("clip-rect"==g)for(i=[],m=4;m--;)i[m]=+l[g][m]+p*o*h[g][m];break;default:var w=[][q](l[g]);for(i=[],m=c.paper.customAttributes[g].length;m--;)i[m]=+w[m]+p*o*h[g][m]}f[g]=i}c.attr(f),function(t,e,n){setTimeout(function(){L("raphael.anim.frame."+t,e,n)})}(c.id,c,n.anim)}else{if(function(t,e,n){setTimeout(function(){L("raphael.anim.frame."+e.id,e,n),L("raphael.anim.finish."+e.id,e,n),z.is(t,"function")&&t.call(e)})}(n.callback,c,n.anim),c.attr(u),se.splice(e--,1),1<n.repeat&&!n.next){for(r in u)u[B](r)&&(d[r]=n.totalOrigin[r]);n.el.attr(d),k(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&k(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}se.length&&le(he)},ue=function(t){return 255<t?255:t<0?0:t};Zt.animateWith=function(t,e,n,i,r,a){var o=this;if(o.removed)return a&&a.call(o),o;var s=n instanceof c?n:z.animation(n,i,r,a);k(s,o,s.percents[0],null,o.attr());for(var l=0,h=se.length;l<h;l++)if(se[l].anim==e&&se[l].el==t){se[h-1].start=se[l].start;break}return o},Zt.onAnimation=function(t){return t?L.on("raphael.anim.frame."+this.id,t):L.unbind("raphael.anim.frame."+this.id),this},c.prototype.delay=function(t){var e=new c(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},c.prototype.repeat=function(t){var e=new c(this.anim,this.ms);return e.del=this.del,e.times=U.floor(T(t,0))||1,e},z.animation=function(t,e,n,i){if(t instanceof c)return t;!z.is(n,"function")&&n||(i=i||n||null,n=null),t=Object(t),e=+e||0;var r,a,o={};for(a in t)t[B](a)&&J(a)!=a&&J(a)+"%"!=a&&(r=!0,o[a]=t[a]);if(r)return n&&(o.easing=n),i&&(o.callback=i),new c({100:o},e);if(i){var s=0;for(var l in t){var h=K(l);t[B](l)&&s<h&&(s=h)}!t[s+="%"].callback&&(t[s].callback=i)}return new c(t,e)},Zt.animate=function(t,e,n,i){var r=this;if(r.removed)return i&&i.call(r),r;var a=t instanceof c?t:z.animation(t,e,n,i);return k(a,r,a.percents[0],null,r.attr()),r},Zt.setTime=function(t,e){return t&&null!=e&&this.status(t,I(e,t.ms)/t.ms),this},Zt.status=function(t,e){var n,i,r=[],a=0;if(null!=e)return k(t,this,-1,I(e,1)),this;for(n=se.length;a<n;a++)if((i=se[a]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},Zt.pause=function(t){for(var e=0;e<se.length;e++)se[e].el.id!=this.id||t&&se[e].anim!=t||!1!==L("raphael.anim.pause."+this.id,this,se[e].anim)&&(se[e].paused=!0);return this},Zt.resume=function(t){for(var e=0;e<se.length;e++)if(se[e].el.id==this.id&&(!t||se[e].anim==t)){var n=se[e];!1!==L("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},Zt.stop=function(t){for(var e=0;e<se.length;e++)se[e].el.id!=this.id||t&&se[e].anim!=t||!1!==L("raphael.anim.stop."+this.id,this,se[e].anim)&&se.splice(e--,1);return this},L.on("raphael.remove",t),L.on("raphael.clear",t),Zt.toString=function(){return"Rapha\xebl\u2019s object"};var ce,fe,de,pe=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Zt.constructor&&t[e].constructor!=pe||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ge=pe.prototype;for(var me in ge.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=Zt.constructor&&t.constructor!=pe||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},ge.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ge.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this},Zt)Zt[B](me)&&(ge[me]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n][b](t,e)})}}(me));return ge.attr=function(t,e){if(t&&z.is(t,E)&&z.is(t[0],"object"))for(var n=0,i=t.length;n<i;n++)this.items[n].attr(t[n]);else for(var r=0,a=this.items.length;r<a;r++)this.items[r].attr(t,e);return this},ge.clear=function(){for(;this.length;)this.pop()},ge.splice=function(t,e){t=t<0?T(this.length+t,0):t,e=T(0,I(this.length-t,e));var n,i=[],r=[],a=[];for(n=2;n<arguments.length;n++)a.push(arguments[n]);for(n=0;n<e;n++)r.push(this[t+n]);for(;n<this.length-t;n++)i.push(this[t+n]);var o=a.length;for(n=0;n<o+i.length;n++)this.items[t+n]=this[t+n]=n<o?a[n]:i[n-o];for(n=this.items.length=this.length-=e-o;this[n];)delete this[n++];return new pe(r)},ge.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},ge.animate=function(t,e,n,i){(z.is(n,"function")||!n)&&(i=n||null);var r,a,o=this.items.length,s=o,l=this;if(!o)return this;i&&(a=function(){!--o&&i.call(l)}),n=z.is(n,D)?n:a;var h=z.animation(t,e,n,a);for(r=this.items[--s].animate(h);s--;)this.items[s]&&!this.items[s].removed&&this.items[s].animateWith(r,h,h),this.items[s]&&!this.items[s].removed||o--;return this},ge.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ge.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var a=this.items[r].getBBox();t.push(a.x),e.push(a.y),n.push(a.x+a.width),i.push(a.y+a.height)}return{x:t=I[b](0,t),y:e=I[b](0,e),x2:n=T[b](0,n),y2:i=T[b](0,i),width:n-t,height:i-e}},ge.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},ge.toString=function(){return"Rapha\xebl\u2018s set"},ge.glow=function(n){var i=this.paper.set();return this.forEach(function(t){var e=t.glow(n);null!=e&&e.forEach(function(t){i.push(t)})}),i},ge.isPointInside=function(e,n){var i=!1;return this.forEach(function(t){if(t.isPointInside(e,n))return i=!0,!1}),i},z.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[B](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var r in e.face["units-per-em"]=K(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[B](r)){var a=t.glyphs[r];if(e.glyphs[r]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var o in a.k)a[B](o)&&(e.glyphs[r].k[o]=a.k[o])}return t},e.getFont=function(t,e,n,i){if(i=i||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,z.fonts){var r,a=z.fonts[t];if(!a){var o=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,S)+"(\\s|$)","i");for(var s in z.fonts)if(z.fonts[B](s)&&o.test(s)){a=z.fonts[s];break}}if(a)for(var l=0,h=a.length;l<h&&((r=a[l]).face["font-weight"]!=e||r.face["font-style"]!=n&&r.face["font-style"]||r.face["font-stretch"]!=i);l++);return r}},e.print=function(t,e,n,i,r,a,o,s){a=a||"middle",o=T(I(o||0,1),-1),s=T(I(s||1,3),1);var l,h=H(n)[Y](S),u=0,c=0,f=S;if(z.is(i,"string")&&(i=this.getFont(i)),i){l=(r||16)/i.face["units-per-em"];for(var d=i.face.bbox[Y](O),p=+d[0],g=d[3]-d[1],m=0,v=+d[1]+("baseline"==a?g+ +i.face.descent:g/2),x=0,y=h.length;x<y;x++){if("\n"==h[x])c=w=u=0,m+=g*s;else{var b=c&&i.glyphs[h[x-1]]||{},w=i.glyphs[h[x]];u+=c?(b.w||i.w)+(b.k&&b.k[h[x]]||0)+i.w*o:0,c=1}w&&w.d&&(f+=z.transformPath(w.d,["t",u*l,m*l,"s",l,l,p,v,"t",(t-p)/l,(e-v)/l]))}}return this.path(f).attr({fill:"#000",stroke:"none"})},e.add=function(t){if(z.is(t,"array"))for(var e,n=this.set(),i=0,r=t.length;i<r;i++)e=t[i]||{},a[B](e.type)&&n.push(this[e.type]().attr(e));return n},z.format=function(t,e){var n=z.is(e,E)?[0][q](e):arguments;return t&&z.is(t,D)&&n.length-1&&(t=t.replace(o,function(t,e){return null==n[++e]?S:n[e]})),t||S},z.fullfill=(ce=/\{([^\}]+)\}/g,fe=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,de=function(t,e,n){var a=n;return e.replace(fe,function(t,e,n,i,r){e=e||i,a&&(e in a&&(a=a[e]),"function"==typeof a&&r&&(a=a()))}),a=(null==a||a==n?t:a)+""},function(t,n){return String(t).replace(ce,function(t,e){return de(t,e,n)})}),z.ninja=function(){if(s.was)p.win.Raphael=s.is;else{window.Raphael=undefined;try{delete window.Raphael}catch(t){}}return z},z.st=ge,L.on("raphael.DOMload",function(){i=!0}),function(t,e,n){function i(){/in/.test(t.readyState)?setTimeout(i,9):z.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,n=function(){t.removeEventListener(e,n,!1),t.readyState="complete"},!1),t.readyState="loading"),i()}(document,"DOMContentLoaded"),z}.apply(e,i))===undefined||(t.exports=r)},function(t,e){var n,i,d,p,r,f,g,m,v,x,y,b,w,a,k,M;r="0.5.0",f="hasOwnProperty",g=/[\.\/]/,m=/\s*,\s*/,v="*",x=function(t,e){return t-e},y={n:{}},b=function(){for(var t=0,e=this.length;t<e;t++)if("undefined"!=typeof this[t])return this[t]},w=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},a=Object.prototype.toString,k=String,M=Array.isArray||function(t){return t instanceof Array||"[object Array]"==a.call(t)},eve=function(t,e){var n,i=p,r=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),o=0,s=[],l={},h=[],u=d;h.firstDefined=b,h.lastDefined=w,d=t;for(var c=p=0,f=a.length;c<f;c++)"zIndex"in a[c]&&(s.push(a[c].zIndex),a[c].zIndex<0&&(l[a[c].zIndex]=a[c]));for(s.sort(x);s[o]<0;)if(n=l[s[o++]],h.push(n.apply(e,r)),p)return p=i,h;for(c=0;c<f;c++)if("zIndex"in(n=a[c]))if(n.zIndex==s[o]){if(h.push(n.apply(e,r)),p)break;do{if((n=l[s[++o]])&&h.push(n.apply(e,r)),p)break}while(n)}else l[n.zIndex]=n;else if(h.push(n.apply(e,r)),p)break;return p=i,d=u,h},eve._events=y,eve.listeners=function(t){var e,n,i,r,a,o,s,l,h=M(t)?t:t.split(g),u=y,c=[u],f=[];for(r=0,a=h.length;r<a;r++){for(l=[],o=0,s=c.length;o<s;o++)for(n=[(u=c[o].n)[h[r]],u[v]],i=2;i--;)(e=n[i])&&(l.push(e),f=f.concat(e.f||[]));c=l}return f},eve.separator=function(t){t?(t="["+(t=k(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",g=new RegExp(t)):g=/[\.\/]/},eve.on=function(t,o){if("function"!=typeof o)return function(){};for(var e=M(t)?M(t[0])?t:[t]:k(t).split(m),n=0,i=e.length;n<i;n++)!function(t){for(var e,n=M(t)?t:k(t).split(g),i=y,r=0,a=n.length;r<a;r++)i=(i=i.n).hasOwnProperty(n[r])&&i[n[r]]||(i[n[r]]={n:{}});for(i.f=i.f||[],r=0,a=i.f.length;r<a;r++)if(i.f[r]==o){e=!0;break}!e&&i.f.push(o)}(e[n]);return function(t){+t==+t&&(o.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){p=1},eve.nt=function(t){var e=M(d)?d.join("."):d;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return M(d)?d:d.split(g)},eve.off=eve.unbind=function(t,e){if(t){var n=M(t)?M(t[0])?t:[t]:k(t).split(m);if(1<n.length)for(var i=0,r=n.length;i<r;i++)eve.off(n[i],e);else{n=M(t)?t:k(t).split(g);var a,o,s,l,h,u=[y];for(i=0,r=n.length;i<r;i++)for(l=0;l<u.length;l+=s.length-2){if(s=[l,1],a=u[l].n,n[i]!=v)a[n[i]]&&s.push(a[n[i]]);else for(o in a)a[f](o)&&s.push(a[o]);u.splice.apply(u,s)}for(i=0,r=u.length;i<r;i++)for(a=u[i];a.n;){if(e){if(a.f){for(l=0,h=a.f.length;l<h;l++)if(a.f[l]==e){a.f.splice(l,1);break}!a.f.length&&delete a.f}for(o in a.n)if(a.n[f](o)&&a.n[o].f){var c=a.n[o].f;for(l=0,h=c.length;l<h;l++)if(c[l]==e){c.splice(l,1);break}!c.length&&delete a.n[o].f}}else for(o in delete a.f,a.n)a.n[f](o)&&a.n[o].f&&delete a.n[o].f;a=a.n}}}else eve._events=y={n:{}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version=r,eve.toString=function(){return"You are running Eve "+r},void 0!==t&&t.exports?t.exports=eve:(n=[],(i=function(){return eve}.apply(e,n))===undefined||(t.exports=i))},function(t,e,n){var i,r;i=[n(1)],(r=function(_){if(!_||_.svg){var C="hasOwnProperty",A=String,m=parseFloat,k=parseInt,v=Math,M=v.max,S=v.abs,x=v.pow,T=/[, ]+/,f=_.eve,I="",c=" ",P="http://www.w3.org/1999/xlink",D={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},E={};_.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var F=function(t,e){if(e)for(var n in"string"==typeof t&&(t=F(t)),e)e[C](n)&&("xlink:"==n.substring(0,6)?t.setAttributeNS(P,n.substring(6),A(e[n])):t.setAttribute(n,A(e[n])));else(t=_._g.doc.createElementNS("http://www.w3.org/2000/svg",t)).style&&(t.style.webkitTapHighlightColor="rgba(0,0,0,0)");return t},L=function(t,e){var r="linear",n=t.id+e,a=.5,o=.5,i=t.node,s=t.paper,l=i.style,h=_._g.doc.getElementById(n);if(!h){if(e=(e=A(e).replace(_._radial_gradient,function(t,e,n){if(r="radial",e&&n){a=m(e);var i=2*(.5<(o=m(n)))-1;.25<x(a-.5,2)+x(o-.5,2)&&(o=v.sqrt(.25-x(a-.5,2))*i+.5)&&.5!=o&&(o=o.toFixed(5)-1e-5*i)}return I})).split(/\s*\-\s*/),"linear"==r){var u=e.shift();if(u=-m(u),isNaN(u))return null;var c=[0,0,v.cos(_.rad(u)),v.sin(_.rad(u))],f=1/(M(S(c[2]),S(c[3]))||1);c[2]*=f,c[3]*=f,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0)}var d=_._parseDots(e);if(!d)return null;if(n=n.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&n!=t.gradient.id&&(s.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){h=F(r+"Gradient",{id:n}),t.gradient=h,F(h,"radial"==r?{fx:a,fy:o}:{x1:c[0],y1:c[1],x2:c[2],y2:c[3],gradientTransform:t.matrix.invert()}),s.defs.appendChild(h);for(var p=0,g=d.length;p<g;p++)h.appendChild(F("stop",{offset:d[p].offset?d[p].offset:p?"100%":"0%","stop-color":d[p].color||"#fff","stop-opacity":isFinite(d[p].opacity)?d[p].opacity:1}))}}return F(i,{fill:y(n),opacity:1,"fill-opacity":1}),l.fill=I,l.opacity=1,l.fillOpacity=1},n=function(){var t=document.documentMode;return t&&(9===t||10===t)},y=function(t){if(n())return"url('#"+t+"')";var e=document.location;return"url('"+(e.protocol+"//"+e.host+e.pathname+e.search)+"#"+t+"')"},z=function(t){var e=t.getBBox(1);F(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},R=function(t,e,n){if("path"==t.type){for(var i,r,a,o,s,l=A(e).toLowerCase().split("-"),h=t.paper,u=n?"end":"start",c=t.node,f=t.attrs,d=f["stroke-width"],p=l.length,g="classic",m=3,v=3,x=5;p--;)switch(l[p]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":g=l[p];break;case"wide":v=5;break;case"narrow":v=2;break;case"long":m=5;break;case"short":m=2}if("open"==g?(m+=2,v+=2,x+=2,a=1,o=n?4:1,s={fill:"none",stroke:f.stroke}):(o=a=m/2,s={fill:f.stroke,stroke:"none"}),t._.arrows?n?(t._.arrows.endPath&&E[t._.arrows.endPath]--,t._.arrows.endMarker&&E[t._.arrows.endMarker]--):(t._.arrows.startPath&&E[t._.arrows.startPath]--,t._.arrows.startMarker&&E[t._.arrows.startMarker]--):t._.arrows={},"none"!=g){var y="raphael-marker-"+g,b="raphael-marker-"+u+g+m+v+"-obj"+t.id;_._g.doc.getElementById(y)?E[y]++:(h.defs.appendChild(F(F("path"),{"stroke-linecap":"round",d:D[g],id:y})),E[y]=1);var w,k=_._g.doc.getElementById(b);k?(E[b]++,w=k.getElementsByTagName("use")[0]):(k=F(F("marker"),{id:b,markerHeight:v,markerWidth:m,orient:"auto",refX:o,refY:v/2}),w=F(F("use"),{"xlink:href":"#"+y,transform:(n?"rotate(180 "+m/2+" "+v/2+") ":I)+"scale("+m/x+","+v/x+")","stroke-width":(1/((m/x+v/x)/2)).toFixed(4)}),k.appendChild(w),h.defs.appendChild(k),E[b]=1),F(w,s);var M=a*("diamond"!=g&&"oval"!=g);n?(i=t._.arrows.startdx*d||0,r=_.getTotalLength(f.path)-M*d):(i=M*d,r=_.getTotalLength(f.path)-(t._.arrows.enddx*d||0)),(s={})["marker-"+u]="url(#"+b+")",(r||i)&&(s.d=_.getSubpath(f.path,i,r)),F(c,s),t._.arrows[u+"Path"]=y,t._.arrows[u+"Marker"]=b,t._.arrows[u+"dx"]=M,t._.arrows[u+"Type"]=g,t._.arrows[u+"String"]=e}else n?(i=t._.arrows.startdx*d||0,r=_.getTotalLength(f.path)-i):(i=0,r=_.getTotalLength(f.path)-(t._.arrows.enddx*d||0)),t._.arrows[u+"Path"]&&F(c,{d:_.getSubpath(f.path,i,r)}),delete t._.arrows[u+"Path"],delete t._.arrows[u+"Marker"],delete t._.arrows[u+"dx"],delete t._.arrows[u+"Type"],delete t._.arrows[u+"String"];for(s in E)if(E[C](s)&&!E[s]){var S=_._g.doc.getElementById(s);S&&S.parentNode.removeChild(S)}}},s={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},N=function(t,e,n){if(e=s[A(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",r={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,a=[],o=e.length;o--;)a[o]=e[o]*i+(o%2?1:-1)*r;F(t.node,{"stroke-dasharray":a.join(",")})}else F(t.node,{"stroke-dasharray":"none"})},d=function(t,e){var n=t.node,i=t.attrs,r=n.style.visibility;for(var a in n.style.visibility="hidden",e)if(e[C](a)){if(!_._availableAttrs[C](a))continue;var o=e[a];switch(i[a]=o,a){case"blur":t.blur(o);break;case"title":var s=n.getElementsByTagName("title");if(s.length&&(s=s[0]))s.firstChild.nodeValue=o;else{s=F("title");var l=_._g.doc.createTextNode(o);s.appendChild(l),n.appendChild(s)}break;case"href":case"target":var h=n.parentNode;if("a"!=h.tagName.toLowerCase()){var u=F("a");h.insertBefore(u,n),u.appendChild(n),h=u}"target"==a?h.setAttributeNS(P,"show","blank"==o?"new":o):h.setAttributeNS(P,a,o);break;case"cursor":n.style.cursor=o;break;case"transform":t.transform(o);break;case"arrow-start":R(t,o);break;case"arrow-end":R(t,o,1);break;case"clip-rect":var c=A(o).split(T);if(4==c.length){t.clip&&t.clip.parentNode.parentNode.removeChild(t.clip.parentNode);var f=F("clipPath"),d=F("rect");f.id=_.createUUID(),F(d,{x:c[0],y:c[1],width:c[2],height:c[3]}),f.appendChild(d),t.paper.defs.appendChild(f),F(n,{"clip-path":"url(#"+f.id+")"}),t.clip=d}if(!o){var p=n.getAttribute("clip-path");if(p){var g=_._g.doc.getElementById(p.replace(/(^url\(#|\)$)/g,I));g&&g.parentNode.removeChild(g),F(n,{"clip-path":I}),delete t.clip}}break;case"path":"path"==t.type&&(F(n,{d:o?i.path=_._pathToAbsolute(o):"M0,0"}),t._.dirty=1,t._.arrows&&("startString"in t._.arrows&&R(t,t._.arrows.startString),"endString"in t._.arrows&&R(t,t._.arrows.endString,1)));break;case"width":if(n.setAttribute(a,o),t._.dirty=1,!i.fx)break;a="x",o=i.x;case"x":i.fx&&(o=-i.x-(i.width||0));case"rx":
if("rx"==a&&"rect"==t.type)break;case"cx":n.setAttribute(a,o),t.pattern&&z(t),t._.dirty=1;break;case"height":if(n.setAttribute(a,o),t._.dirty=1,!i.fy)break;a="y",o=i.y;case"y":i.fy&&(o=-i.y-(i.height||0));case"ry":if("ry"==a&&"rect"==t.type)break;case"cy":n.setAttribute(a,o),t.pattern&&z(t),t._.dirty=1;break;case"r":"rect"==t.type?F(n,{rx:o,ry:o}):n.setAttribute(a,o),t._.dirty=1;break;case"src":"image"==t.type&&n.setAttributeNS(P,"href",o);break;case"stroke-width":1==t._.sx&&1==t._.sy||(o/=M(S(t._.sx),S(t._.sy))||1),n.setAttribute(a,o),i["stroke-dasharray"]&&N(t,i["stroke-dasharray"],e),t._.arrows&&("startString"in t._.arrows&&R(t,t._.arrows.startString),"endString"in t._.arrows&&R(t,t._.arrows.endString,1));break;case"stroke-dasharray":N(t,o,e);break;case"fill":var m=A(o).match(_._ISURL);if(m){f=F("pattern");var v=F("image");f.id=_.createUUID(),F(f,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),F(v,{x:0,y:0,"xlink:href":m[1]}),f.appendChild(v),function(n){_._preload(m[1],function(){var t=this.offsetWidth,e=this.offsetHeight;F(n,{width:t,height:e}),F(v,{width:t,height:e})})}(f),t.paper.defs.appendChild(f),F(n,{fill:"url(#"+f.id+")"}),t.pattern=f,t.pattern&&z(t);break}var x=_.getRGB(o);if(x.error){if(("circle"==t.type||"ellipse"==t.type||"r"!=A(o).charAt())&&L(t,o)){if("opacity"in i||"fill-opacity"in i){var y=_._g.doc.getElementById(n.getAttribute("fill").replace(/^url\(#|\)$/g,I));if(y){var b=y.getElementsByTagName("stop");F(b[b.length-1],{"stop-opacity":("opacity"in i?i.opacity:1)*("fill-opacity"in i?i["fill-opacity"]:1)})}}i.gradient=o,i.fill="none";break}}else delete e.gradient,delete i.gradient,!_.is(i.opacity,"undefined")&&_.is(e.opacity,"undefined")&&F(n,{opacity:i.opacity}),!_.is(i["fill-opacity"],"undefined")&&_.is(e["fill-opacity"],"undefined")&&F(n,{"fill-opacity":i["fill-opacity"]});x[C]("opacity")&&F(n,{"fill-opacity":1<x.opacity?x.opacity/100:x.opacity});case"stroke":x=_.getRGB(o),n.setAttribute(a,x.hex),"stroke"==a&&x[C]("opacity")&&F(n,{"stroke-opacity":1<x.opacity?x.opacity/100:x.opacity}),"stroke"==a&&t._.arrows&&("startString"in t._.arrows&&R(t,t._.arrows.startString),"endString"in t._.arrows&&R(t,t._.arrows.endString,1));break;case"gradient":("circle"==t.type||"ellipse"==t.type||"r"!=A(o).charAt())&&L(t,o);break;case"opacity":i.gradient&&!i[C]("stroke-opacity")&&F(n,{"stroke-opacity":1<o?o/100:o});case"fill-opacity":if(i.gradient){(y=_._g.doc.getElementById(n.getAttribute("fill").replace(/^url\(#|\)$/g,I)))&&(b=y.getElementsByTagName("stop"),F(b[b.length-1],{"stop-opacity":o}));break}default:"font-size"==a&&(o=k(o,10)+"px");var w=a.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});n.style[w]=o,t._.dirty=1,n.setAttribute(a,o)}}O(t,e),n.style.visibility=r},p=1.2,O=function(t,e){if("text"==t.type&&(e[C]("text")||e[C]("font")||e[C]("font-size")||e[C]("x")||e[C]("y"))){var n=t.attrs,i=t.node,r=i.firstChild?k(_._g.doc.defaultView.getComputedStyle(i.firstChild,I).getPropertyValue("font-size"),10):10;if(e[C]("text")){for(n.text=e.text;i.firstChild;)i.removeChild(i.firstChild);for(var a,o=A(e.text).split("\n"),s=[],l=0,h=o.length;l<h;l++)a=F("tspan"),l&&F(a,{dy:r*p,x:n.x}),a.appendChild(_._g.doc.createTextNode(o[l])),i.appendChild(a),s[l]=a}else for(l=0,h=(s=i.getElementsByTagName("tspan")).length;l<h;l++)l?F(s[l],{dy:r*p,x:n.x}):F(s[0],{dy:0});F(i,{x:n.x,y:n.y}),t._.dirty=1;var u=t._getBBox(),c=n.y-(u.y+u.height/2);c&&_.is(c,"finite")&&F(s[0],{dy:c})}},i=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},l=function(t,e){function n(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}this[0]=this.node=t,t.raphael=!0,this.id=n(),t.raphaelid=this.id,this.matrix=_.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null},t=_.el;(l.prototype=t).constructor=l,_._engine.path=function(t,e){var n=F("path");e.canvas&&e.canvas.appendChild(n);var i=new l(n,e);return i.type="path",d(i,{fill:"none",stroke:"#000",path:t}),i},t.rotate=function(t,e,n){if(this.removed)return this;if((t=A(t).split(T)).length-1&&(e=m(t[1]),n=m(t[2])),t=m(t[0]),null==n&&(e=n),null==e||null==n){var i=this.getBBox(1);e=i.x+i.width/2,n=i.y+i.height/2}return this.transform(this._.transform.concat([["r",t,e,n]])),this},t.scale=function(t,e,n,i){if(this.removed)return this;if((t=A(t).split(T)).length-1&&(e=m(t[1]),n=m(t[2]),i=m(t[3])),t=m(t[0]),null==e&&(e=t),null==i&&(n=i),null==n||null==i)var r=this.getBBox(1);return n=null==n?r.x+r.width/2:n,i=null==i?r.y+r.height/2:i,this.transform(this._.transform.concat([["s",t,e,n,i]])),this},t.translate=function(t,e){return this.removed||((t=A(t).split(T)).length-1&&(e=m(t[1])),t=m(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]))),this},t.transform=function(t){var e=this._;if(null==t)return e.transform;if(_._extractTransform(this,t),this.clip&&F(this.clip,{transform:this.matrix.invert()}),this.pattern&&z(this),this.node&&F(this.node,{transform:this.matrix}),1!=e.sx||1!=e.sy){var n=this.attrs[C]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":n})}return this},t.hide=function(){return this.removed||(this.node.style.display="none"),this},t.show=function(){return this.removed||(this.node.style.display=""),this},t.remove=function(){var t=i(this.node);if(!this.removed&&t.parentNode){var e=this.paper;for(var n in e.__set__&&e.__set__.exclude(this),f.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),_._tear(this,e),t.parentNode.removeChild(t),this.removeData(),this)this[n]="function"==typeof this[n]?_._removedFactory(n):null;this.removed=!0}},t._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(r){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(e.display="none")}return t&&this.hide(),i},t.attr=function(t,e){if(this.removed)return this;if(null==t){var n={};for(var i in this.attrs)this.attrs[C](i)&&(n[i]=this.attrs[i]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&_.is(t,"string")){if("fill"==t&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==t)return this._.transform;for(var r=t.split(T),a={},o=0,s=r.length;o<s;o++)(t=r[o])in this.attrs?a[t]=this.attrs[t]:_.is(this.paper.customAttributes[t],"function")?a[t]=this.paper.customAttributes[t].def:a[t]=_._availableAttrs[t];return s-1?a:a[r[0]]}if(null==e&&_.is(t,"array")){for(a={},o=0,s=t.length;o<s;o++)a[t[o]]=this.attr(t[o]);return a}if(null!=e){var l={};l[t]=e}else null!=t&&_.is(t,"object")&&(l=t);for(var h in l)f("raphael.attr."+h+"."+this.id,this,l[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[C](h)&&l[C](h)&&_.is(this.paper.customAttributes[h],"function")){var u=this.paper.customAttributes[h].apply(this,[].concat(l[h]));for(var c in this.attrs[h]=l[h],u)u[C](c)&&(l[c]=u[c])}return d(this,l),this},t.toFront=function(){if(this.removed)return this;var t=i(this.node);t.parentNode.appendChild(t);var e=this.paper;return e.top!=this&&_._tofront(this,e),this},t.toBack=function(){if(this.removed)return this;var t=i(this.node),e=t.parentNode;e.insertBefore(t,e.firstChild),_._toback(this,this.paper);this.paper;return this},t.insertAfter=function(t){if(this.removed||!t)return this;var e=i(this.node),n=i(t.node||t[t.length-1].node);return n.nextSibling?n.parentNode.insertBefore(e,n.nextSibling):n.parentNode.appendChild(e),_._insertafter(this,t,this.paper),this},t.insertBefore=function(t){if(this.removed||!t)return this;var e=i(this.node),n=i(t.node||t[0].node);return n.parentNode.insertBefore(e,n),_._insertbefore(this,t,this.paper),this},t.blur=function(t){var e=this;if(0!=+t){var n=F("filter"),i=F("feGaussianBlur");e.attrs.blur=t,n.id=_.createUUID(),F(i,{stdDeviation:+t||1.5}),n.appendChild(i),e.paper.defs.appendChild(n),e._blur=n,F(e.node,{filter:"url(#"+n.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},_._engine.circle=function(t,e,n,i){var r=F("circle");t.canvas&&t.canvas.appendChild(r);var a=new l(r,t);return a.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},a.type="circle",F(r,a.attrs),a},_._engine.rect=function(t,e,n,i,r,a){var o=F("rect");t.canvas&&t.canvas.appendChild(o);var s=new l(o,t);return s.attrs={x:e,y:n,width:i,height:r,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},s.type="rect",F(o,s.attrs),s},_._engine.ellipse=function(t,e,n,i,r){var a=F("ellipse");t.canvas&&t.canvas.appendChild(a);var o=new l(a,t);return o.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},o.type="ellipse",F(a,o.attrs),o},_._engine.image=function(t,e,n,i,r,a){var o=F("image");F(o,{x:n,y:i,width:r,height:a,preserveAspectRatio:"none"}),o.setAttributeNS(P,"href",e),t.canvas&&t.canvas.appendChild(o);var s=new l(o,t);return s.attrs={x:n,y:i,width:r,height:a,src:e},s.type="image",s},_._engine.text=function(t,e,n,i){var r=F("text");t.canvas&&t.canvas.appendChild(r);var a=new l(r,t);return a.attrs={x:e,y:n,"text-anchor":"middle",text:i,"font-family":_._availableAttrs["font-family"],"font-size":_._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",d(a,a.attrs),a},_._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},_._engine.create=function(){var t=_._getContainer.apply(0,arguments),e=t&&t.container,n=t.x,i=t.y,r=t.width,a=t.height;if(!e)throw new Error("SVG container not found.");var o,s=F("svg"),l="overflow:hidden;";return n=n||0,i=i||0,F(s,{height:a=a||342,version:1.1,width:r=r||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==e?(s.style.cssText=l+"position:absolute;left:"+n+"px;top:"+i+"px",_._g.doc.body.appendChild(s),o=1):(s.style.cssText=l+"position:relative",e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s)),(e=new _._Paper).width=r,e.height=a,e.canvas=s,e.clear(),e._left=e._top=0,o&&(e.renderfix=function(){}),e.renderfix(),e},_._engine.setViewBox=function(t,e,n,i,r){f("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var a,o,s=this.getSize(),l=M(n/s.width,i/s.height),h=this.top,u=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,a="0 0 "+this.width+c+this.height):(this._vbSize=l,a=t+c+e+c+n+c+i),F(this.canvas,{viewBox:a,preserveAspectRatio:u});l&&h;)o="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":o}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,n,i,!!r],this},_.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(a){t=e.createSVGMatrix()}var i=-t.e%1,r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},_.prototype.clear=function(){_.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=F("desc")).appendChild(_._g.doc.createTextNode("Created with Rapha\xebl "+_.version)),t.appendChild(this.desc),t.appendChild(this.defs=F("defs"))},_.prototype.remove=function(){for(var t in f("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?_._removedFactory(t):null};var e=_.st;for(var r in t)t[C](r)&&!e[C](r)&&(e[r]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n].apply(t,e)})}}(r))}}.apply(e,i))===undefined||(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],(r=function(F){if(!F||F.vml){var L="hasOwnProperty",z=String,R=parseFloat,c=Math,N=c.round,O=c.max,B=c.min,v=c.abs,H="fill",W=/[, ]+/,f=F.eve,i=" progid:DXImageTransform.Microsoft",V=" ",j="",d={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,u="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",q=21600,Y={path:1,rect:1,image:1},U={circle:1,ellipse:1},G=function(t){var e=/[ahqstv]/gi,n=F._pathToAbsolute;if(z(t).match(e)&&(n=F._path2curve),e=/[clmz]/g,n==F._pathToAbsolute&&!z(t).match(e)){var i=z(t).replace(p,function(t,e,n){var i=[],r="m"==e.toLowerCase(),a=d[e];return n.replace(g,function(t){r&&2==i.length&&(a+=i+d["m"==e?"l":"L"],i=[]),i.push(N(t*q))}),a+i});return i}var r,a,o=n(t);i=[];for(var s=0,l=o.length;s<l;s++){r=o[s],"z"==(a=o[s][0].toLowerCase())&&(a="x");for(var h=1,u=r.length;h<u;h++)a+=N(r[h]*q)+(h!=u-1?",":j);i.push(a)}return i.join(V)},x=function(t,e,n){var i=F.matrix();return i.rotate(-t,.5,.5),{dx:i.x(e,n),dy:i.y(e,n)}},X=function(t,e,n,i,r,a){var o=t._,s=t.matrix,l=o.fillpos,h=t.node,u=h.style,c=1,f="",d=q/e,p=q/n;if(u.visibility="hidden",e&&n){if(h.coordsize=v(d)+V+v(p),u.rotation=a*(e*n<0?-1:1),a){var g=x(a,i,r);i=g.dx,r=g.dy}if(e<0&&(f+="x"),n<0&&(f+=" y")&&(c=-1),u.flip=f,h.coordorigin=i*-d+V+r*-p,l||o.fillsize){var m=h.getElementsByTagName(H);m=m&&m[0],h.removeChild(m),l&&(g=x(a,s.x(l[0],l[1]),s.y(l[0],l[1])),m.position=g.dx*c+V+g.dy*c),o.fillsize&&(m.size=o.fillsize[0]*v(e)+V+o.fillsize[1]*v(n)),h.appendChild(m)}u.visibility="visible"}};F.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var $,Q=function(t,e,n){for(var i=z(e).toLowerCase().split("-"),r=n?"end":"start",a=i.length,o="classic",s="medium",l="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=i[a];break;case"wide":case"narrow":l=i[a];break;case"long":case"short":s=i[a]}var h=t.node.getElementsByTagName("stroke")[0];h[r+"arrow"]=o,h[r+"arrowlength"]=s,h[r+"arrowwidth"]=l},m=function(t,e){t.attrs=t.attrs||{};var n=t.node,i=t.attrs,r=n.style,a=Y[t.type]&&(e.x!=i.x||e.y!=i.y||e.width!=i.width||e.height!=i.height||e.cx!=i.cx||e.cy!=i.cy||e.rx!=i.rx||e.ry!=i.ry||e.r!=i.r),o=U[t.type]&&(i.cx!=e.cx||i.cy!=e.cy||i.r!=e.r||i.rx!=e.rx||i.ry!=e.ry),s=t;for(var l in e)e[L](l)&&(i[l]=e[l]);if(a&&(i.path=F._getPath[t.type](t),t._.dirty=1),e.href&&(n.href=e.href),e.title&&(n.title=e.title),e.target&&(n.target=e.target),e.cursor&&(r.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||a)&&(n.path=G(~z(i.path).toLowerCase().indexOf("r")?F._pathToAbsolute(i.path):i.path),t._.dirty=1,"image"==t.type&&(t._.fillpos=[i.x,i.y],t._.fillsize=[i.width,i.height],X(t,1,1,0,0,0))),"transform"in e&&t.transform(e.transform),o){var h=+i.cx,u=+i.cy,c=+i.rx||+i.r||0,f=+i.ry||+i.r||0;n.path=F.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",N((h-c)*q),N((u-f)*q),N((h+c)*q),N((u+f)*q),N(h*q)),t._.dirty=1}if("clip-rect"in e){var d=z(e["clip-rect"]).split(W);if(4==d.length){d[2]=+d[2]+ +d[0],d[3]=+d[3]+ +d[1];var p=n.clipRect||F._g.doc.createElement("div"),g=p.style;g.clip=F.format("rect({1}px {2}px {3}px {0}px)",d),n.clipRect||(g.position="absolute",g.top=0,g.left=0,g.width=t.paper.width+"px",g.height=t.paper.height+"px",n.parentNode.insertBefore(p,n),p.appendChild(n),n.clipRect=p)}e["clip-rect"]||n.clipRect&&(n.clipRect.style.clip="auto")}if(t.textpath){var m=t.textpath.style;e.font&&(m.font=e.font),e["font-family"]&&(m.fontFamily='"'+e["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,j)+'"'),e["font-size"]&&(m.fontSize=e["font-size"]),e["font-weight"]&&(m.fontWeight=e["font-weight"]),e["font-style"]&&(m.fontStyle=e["font-style"])}if("arrow-start"in e&&Q(s,e["arrow-start"]),"arrow-end"in e&&Q(s,e["arrow-end"],1),null!=e.opacity||null!=e.fill||null!=e.src||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"]){var v=n.getElementsByTagName(H);if(!(v=v&&v[0])&&(v=$(H)),"image"==t.type&&e.src&&(v.src=e.src),e.fill&&(v.on=!0),null!=v.on&&"none"!=e.fill&&null!==e.fill||(v.on=!1),v.on&&e.fill){var x=z(e.fill).match(F._ISURL);if(x){v.parentNode==n&&n.removeChild(v),v.rotate=!0,v.src=x[1],v.type="tile";var y=t.getBBox(1);v.position=y.x+V+y.y,t._.fillpos=[y.x,y.y],F._preload(x[1],function(){t._.fillsize=[this.offsetWidth,this.offsetHeight]})}else v.color=F.getRGB(e.fill).hex,v.src=j,v.type="solid",F.getRGB(e.fill).error&&(s.type in{circle:1,ellipse:1}||"r"!=z(e.fill).charAt())&&Z(s,e.fill,v)&&(i.fill="none",i.gradient=e.fill,v.rotate=!1)}if("fill-opacity"in e||"opacity"in e){var b=((+i["fill-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)*((+F.getRGB(e.fill).o+1||2)-1);b=B(O(b,0),1),v.opacity=b,v.src&&(v.color="none")}n.appendChild(v);var w=n.getElementsByTagName("stroke")&&n.getElementsByTagName("stroke")[0],k=!1;!w&&(k=w=$("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(w.on=!0),("none"==e.stroke||null===e.stroke||null==w.on||0==e.stroke||0==e["stroke-width"])&&(w.on=!1);var M=F.getRGB(e.stroke);w.on&&e.stroke&&(w.color=M.hex),b=((+i["stroke-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)*((+M.o+1||2)-1);var S=.75*(R(e["stroke-width"])||1);if(b=B(O(b,0),1),null==e["stroke-width"]&&(S=i["stroke-width"]),e["stroke-width"]&&(w.weight=S),S&&S<1&&(b*=S)&&(w.weight=1),w.opacity=b,e["stroke-linejoin"]&&(w.joinstyle=e["stroke-linejoin"]||"miter"),w.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(w.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),"stroke-dasharray"in e){var _={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};w.dashstyle=_[L](e["stroke-dasharray"])?_[e["stroke-dasharray"]]:j}k&&n.appendChild(w)}if("text"==s.type){s.paper.canvas.style.display=j;var C=s.paper.span,A=100,T=i.font&&i.font.match(/\d+(?:\.\d*)?(?=px)/);r=C.style,i.font&&(r.font=i.font),i["font-family"]&&(r.fontFamily=i["font-family"]),i["font-weight"]&&(r.fontWeight=i["font-weight"]),i["font-style"]&&(r.fontStyle=i["font-style"]),T=R(i["font-size"]||T&&T[0])||10,r.fontSize=T*A+"px",s.textpath.string&&(C.innerHTML=z(s.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var I=C.getBoundingClientRect();s.W=i.w=(I.right-I.left)/A,s.H=i.h=(I.bottom-I.top)/A,s.X=i.x,s.Y=i.y+s.H/2,("x"in e||"y"in e)&&(s.path.v=F.format("m{0},{1}l{2},{1}",N(i.x*q),N(i.y*q),N(i.x*q)+1));for(var P=["x","y","text","font","font-family","font-weight","font-style","font-size"],D=0,E=P.length;D<E;D++)if(P[D]in e){s._.dirty=1;break}switch(i["text-anchor"]){case"start":s.textpath.style["v-text-align"]="left",s.bbx=s.W/2;break;case"end":s.textpath.style["v-text-align"]="right",s.bbx=-s.W/2;break;default:s.textpath.style["v-text-align"]="center",s.bbx=0}s.textpath.style["v-text-kern"]=!0}},Z=function(t,e,n){t.attrs=t.attrs||{};t.attrs;var i=Math.pow,r="linear",a=".5 .5";if(t.attrs.gradient=e,e=(e=z(e).replace(F._radial_gradient,function(t,e,n){return r="radial",e&&n&&(e=R(e),n=R(n),.25<i(e-.5,2)+i(n-.5,2)&&(n=c.sqrt(.25-i(e-.5,2))*(2*(.5<n)-1)+.5),a=e+V+n),j})).split(/\s*\-\s*/),"linear"==r){var o=e.shift();if(o=-R(o),isNaN(o))return null}var s=F._parseDots(e);if(!s)return null;if(t=t.shape||t.node,s.length){t.removeChild(n),n.on=!0,n.method="none",n.color=s[0].color,n.color2=s[s.length-1].color;for(var l=[],h=0,u=s.length;h<u;h++)s[h].offset&&l.push(s[h].offset+V+s[h].color);n.colors=l.length?l.join():"0% "+n.color,"radial"==r?(n.type="gradientTitle",n.focus="100%",n.focussize="0 0",n.focusposition=a,n.angle=0):(n.type="gradient",n.angle=(270-o)%360),t.appendChild(n)}return 1},y=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=F._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=F.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),(e.top=this).next=null},t=F.el;(y.prototype=t).constructor=y,t.transform=function(t){if(null==t)return this._.transform;var e,n=this.paper._viewBoxShift,i=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:j;n&&(e=t=z(t).replace(/\.{3}|\u2026/g,this._.transform||j)),F._extractTransform(this,i+t);var r,a=this.matrix.clone(),o=this.skew,s=this.node,l=~z(this.attrs.fill).indexOf("-"),h=!z(this.attrs.fill).indexOf("url(");if(a.translate(1,1),h||l||"image"==this.type)if(o.matrix="1 0 0 1",o.offset="0 0",r=a.split(),l&&r.noRotation||!r.isSimple){s.style.filter=a.toFilter();var u=this.getBBox(),c=this.getBBox(1),f=u.x-c.x,d=u.y-c.y;s.coordorigin=f*-q+V+d*-q,X(this,1,1,f,d,0)}else s.style.filter=j,X(this,r.scalex,r.scaley,r.dx,r.dy,r.rotate);else s.style.filter=j,o.matrix=z(a),o.offset=a.offset();return null!==e&&(this._.transform=e,F._extractTransform(this,e)),this},t.rotate=function(t,e,n){if(this.removed)return this;if(null!=t){if((t=z(t).split(W)).length-1&&(e=R(t[1]),n=R(t[2])),t=R(t[0]),null==n&&(e=n),null==e||null==n){var i=this.getBBox(1);e=i.x+i.width/2,n=i.y+i.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,n]])),this}},t.translate=function(t,e){return this.removed||((t=z(t).split(W)).length-1&&(e=R(t[1])),t=R(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},t.scale=function(t,e,n,i){if(this.removed)return this;if((t=z(t).split(W)).length-1&&(e=R(t[1]),n=R(t[2]),i=R(t[3]),isNaN(n)&&(n=null),isNaN(i)&&(i=null)),t=R(t[0]),null==e&&(e=t),null==i&&(n=i),null==n||null==i)var r=this.getBBox(1);return n=null==n?r.x+r.width/2:n,i=null==i?r.y+r.height/2:i,this.transform(this._.transform.concat([["s",t,e,n,i]])),this._.dirtyT=1,this},t.hide=function(){return!this.removed&&(this.node.style.display="none"),this},t.show=function(){return!this.removed&&(this.node.style.display=j),this},t.auxGetBBox=F.el.getBBox,t.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},t._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},t.remove=function(){if(!this.removed&&this.node.parentNode){for(var t in this.paper.__set__&&this.paper.__set__.exclude(this),F.eve.unbind("raphael.*.*."+this.id),F._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[t]="function"==typeof this[t]?F._removedFactory(t):null;this.removed=!0}},t.attr=function(t,e){if(this.removed)return this;if(null==t){var n={};for(var i in this.attrs)this.attrs[L](i)&&(n[i]=this.attrs[i]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==e&&F.is(t,"string")){if(t==H&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var r=t.split(W),a={},o=0,s=r.length;o<s;o++)(t=r[o])in this.attrs?a[t]=this.attrs[t]:F.is(this.paper.customAttributes[t],"function")?a[t]=this.paper.customAttributes[t].def:a[t]=F._availableAttrs[t];return s-1?a:a[r[0]]}if(this.attrs&&null==e&&F.is(t,"array")){for(a={},o=0,s=t.length;o<s;o++)a[t[o]]=this.attr(t[o]);return a}var l;for(var h in null!=e&&((l={})[t]=e),null==e&&F.is(t,"object")&&(l=t),l)f("raphael.attr."+h+"."+this.id,this,l[h]);if(l){for(h in this.paper.customAttributes)if(this.paper.customAttributes[L](h)&&l[L](h)&&F.is(this.paper.customAttributes[h],"function")){var u=this.paper.customAttributes[h].apply(this,[].concat(l[h]));for(var c in this.attrs[h]=l[h],u)u[L](c)&&(l[c]=u[c])}l.text&&"text"==this.type&&(this.textpath.string=l.text),m(this,l)}return this},t.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&F._tofront(this,this.paper),this},t.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),F._toback(this,this.paper)),this},t.insertAfter=function(t){return this.removed||(t.constructor==F.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),F._insertafter(this,t,this.paper)),this},t.insertBefore=function(t){return this.removed||(t.constructor==F.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),F._insertbefore(this,t,this.paper)),this},t.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;return n=n.replace(r,j),0!=+t?(this.attrs.blur=t,e.filter=n+V+i+".Blur(pixelradius="+(+t||1.5)+")",e.margin=F.format("-{0}px 0 0 -{0}px",N(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur),this},F._engine.path=function(t,e){var n=$("shape");n.style.cssText=u,n.coordsize=q+V+q,n.coordorigin=e.coordorigin;var i=new y(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path=j,m(i,r),e.canvas&&e.canvas.appendChild(n);var a=$("skew");return a.on=!0,n.appendChild(a),i.skew=a,i.transform(j),i},F._engine.rect=function(t,e,n,i,r,a){var o=F._rectPath(e,n,i,r,a),s=t.path(o),l=s.attrs;return s.X=l.x=e,s.Y=l.y=n,s.W=l.width=i,s.H=l.height=r,l.r=a,l.path=o,s.type="rect",s},F._engine.ellipse=function(t,e,n,i,r){var a=t.path();a.attrs;return a.X=e-i,a.Y=n-r,a.W=2*i,a.H=2*r,a.type="ellipse",m(a,{cx:e,cy:n,rx:i,ry:r}),a},F._engine.circle=function(t,e,n,i){var r=t.path();r.attrs;return r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",m(r,{cx:e,cy:n,r:i}),r},F._engine.image=function(t,e,n,i,r,a){var o=F._rectPath(n,i,r,a),s=t.path(o).attr({stroke:"none"}),l=s.attrs,h=s.node,u=h.getElementsByTagName(H)[0];return l.src=e,s.X=l.x=n,s.Y=l.y=i,s.W=l.width=r,s.H=l.height=a,l.path=o,s.type="image",u.parentNode==h&&h.removeChild(u),u.rotate=!0,u.src=e,u.type="tile",s._.fillpos=[n,i],s._.fillsize=[r,a],h.appendChild(u),X(s,1,1,0,0,0),s},F._engine.text=function(t,e,n,i){var r=$("shape"),a=$("path"),o=$("textpath");e=e||0,n=n||0,i=i||"",a.v=F.format("m{0},{1}l{2},{1}",N(e*q),N(n*q),N(e*q)+1),a.textpathok=!0,o.string=z(i),o.on=!0,r.style.cssText=u,r.coordsize=q+V+q,r.coordorigin="0 0";var s=new y(r,t),l={fill:"#000",stroke:"none",font:F._availableAttrs.font,text:i};s.shape=r,s.path=a,s.textpath=o,s.type="text",s.attrs.text=z(i),s.attrs.x=e,s.attrs.y=n,s.attrs.w=1,s.attrs.h=1,m(s,l),r.appendChild(o),r.appendChild(a),t.canvas.appendChild(r);var h=$("skew");return h.on=!0,r.appendChild(h),s.skew=h,s.transform(j),s},F._engine.setSize=function(t,e){var n=this.canvas.style;return(this.width=t)==+t&&(t+="px"),(this.height=e)==+e&&(e+="px"),n.width=t,n.height=e,n.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&F._engine.setViewBox.apply(this,this._viewBox),this},F._engine.setViewBox=function(t,e,n,i,r){F.eve("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var a,o,s=this.getSize(),l=s.width,h=s.height;return r&&(n*(a=h/i)<l&&(t-=(l-n*a)/2/a),i*(o=l/n)<h&&(e-=(h-i*o)/2/o)),this._viewBox=[t,e,n,i,!!r],this._viewBoxShift={dx:-t,dy:-e,scale:s},this.forEach(function(t){t.transform("...")}),this},F._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),$=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(n){$=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},F._engine.initWin(F._g.win),F._engine.create=function(){var t=F._getContainer.apply(0,arguments),e=t.container,n=t.height,i=t.width,r=t.x,a=t.y;if(!e)throw new Error("VML container not found.");var o=new F._Paper,s=o.canvas=F._g.doc.createElement("div"),l=s.style;return r=r||0,a=a||0,i=i||512,n=n||342,(o.width=i)==+i&&(i+="px"),(o.height=n)==+n&&(n+="px"),o.coordsize=1e3*q+V+1e3*q,o.coordorigin="0 0",o.span=F._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",s.appendChild(o.span),l.cssText=F.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,n),1==e?(F._g.doc.body.appendChild(s),l.left=r+"px",l.top=a+"px",l.position="absolute"):e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s),o.renderfix=function(){},o},F.prototype.clear=function(){F.eve("raphael.clear",this),this.canvas.innerHTML=j,this.span=F._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},F.prototype.remove=function(){for(var t in F.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[t]="function"==typeof this[t]?F._removedFactory(t):null;return!0};var e=F.st;for(var n in t)t[L](n)&&!e[L](n)&&(e[n]=function(n){return function(){var e=arguments;return this.forEach(function(t){t[n].apply(t,e)})}}(n))}}.apply(e,i))===undefined||(t.exports=r)}])}),function(){var M,S,t,e,l=[].slice,u=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};S=window.Morris={},M=jQuery,S.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(t){var e,n,i,r,a,o,s;if(i=t,e=2<=arguments.length?l.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[i]){for(s=[],r=0,a=(o=this.handlers[i]).length;r<a;r++)n=o[r],s.push(n.apply(null,e));return s}},t}(),S.commas=function(t){var e,n,i,r;return null!=t?(i=t<0?"-":"",e=Math.abs(t),i+=(n=Math.floor(e).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g,","),(r=e.toString()).length>n.length&&(i+=r.slice(n.length)),i):"-"},S.pad2=function(t){return(t<10?"0":"")+t},S.Grid=function(t){function e(t){this.hasToShow=u(this.hasToShow,this),this.resizeHandler=u(this.resizeHandler,this);var a=this;if("string"==typeof t.element?this.el=M(document.getElementById(t.element)):this.el=M(t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=M.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var e,n,i,r;return n=a.el.offset(),r=t.pageX-n.left,a.selectFrom?(e=a.data[a.hitTest(Math.min(r,a.selectFrom))]._x,i=a.data[a.hitTest(Math.max(r,a.selectFrom))]._x-e,a.selectionRect.attr({x:e,width:i})):a.fire("hovermove",r,t.pageY-n.top)}),this.el.bind("mouseleave",function(){return a.selectFrom&&(a.selectionRect.hide(),a.selectFrom=null),a.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var e,n;return n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=a.el.offset(),a.fire("hovermove",n.pageX-e.left,n.pageY-e.top)}),this.el.bind("click",function(t){var e;return e=a.el.offset(),a.fire("gridclick",t.pageX-e.left,t.pageY-e.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(t){var e;return e=a.el.offset(),a.startRange(t.pageX-e.left)}),this.el.bind("mouseup",function(t){var e;return e=a.el.offset(),a.endRange(t.pageX-e.left),a.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})),this.options.resize&&M(window).bind("resize",function(){return null!=a.timeoutId&&window.clearTimeout(a.timeoutId),
a.timeoutId=window.setTimeout(a.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return a(e,t),e.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},e.prototype.setData=function(i,t){var e,n,r,a,o,s,l,h,u,c,f,d,p,g,m,v,x,y,b,w,k;if(null==t&&(t=!0),null==(this.options.data=i)||0===i.length)return this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide());if(m=this.cumulative?0:null,v=this.cumulative?0:null,0<this.options.goals.length&&(l=Math.min.apply(Math,this.options.goals),s=Math.max.apply(Math,this.options.goals),v=null!=v?Math.min(v,l):l,m=null!=m?Math.max(m,s):s),this.data=function(){var t,e,n;for(n=[],o=t=0,e=i.length;t<e;o=++t)u=i[o],(h={src:u}).label=u[this.options.xkey],this.options.parseTime?(h.x=S.parseDate(h.label),this.options.dateFormat?h.label=this.options.dateFormat(h.x):"number"==typeof h.label&&(h.label=new Date(h.label).toString())):(h.x=o,this.options.xLabelFormat&&(h.label=this.options.xLabelFormat(h))),d=0,h.y=function(){var t,e,n,i;for(n=this.options.ykeys,i=[],a=t=0,e=n.length;t<e;a=++t)g=n[a],"string"==typeof(x=u[g])&&(x=parseFloat(x)),null!=x&&"number"!=typeof x&&(x=null),null!=x&&this.hasToShow(a)&&(this.cumulative?d+=x:null!=m?(m=Math.max(x,m),v=Math.min(x,v)):m=v=x),this.cumulative&&null!=d&&(m=Math.max(d,m),v=Math.min(d,v)),i.push(x);return i}.call(this),n.push(h);return n}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],0<this.options.events.length){if(this.options.parseTime)for(y=0,b=(w=this.options.events).length;y<b;y++)(e=w[y])instanceof Array?(r=e[0],f=e[1],this.events.push([S.parseDate(r),S.parseDate(f)])):this.events.push(S.parseDate(e));else this.events=this.options.events;n=M.map(this.events,function(t){return t}),this.xmax=Math.max(this.xmax,Math.max.apply(Math,n)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,n))}return this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",v),this.ymax=this.yboundary("max",m),this.ymin===this.ymax&&(v&&(this.ymin-=1),this.ymax+=1),!0!==(k=this.options.axes)&&"both"!==k&&"y"!==k&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(c=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,n;for(n=[],p=t=this.ymin,e=this.ymax;0<c?t<=e:e<=t;p=t+=c)n.push(p);return n}.call(this))),this.dirty=!0,t?this.redraw():void 0},e.prototype.yboundary=function(t,e){var n,i;return"string"==typeof(n=this.options["y"+t])?"auto"===n.slice(0,4)?5<n.length?(i=parseInt(n.slice(5),10),null==e?i:Math[t](e,i)):null!=e?e:0:parseInt(n,10):n},e.prototype.autoGridLines=function(t,e,n){var i,r,a,o,s,l,h,u,c;return s=e-t,c=Math.floor(Math.log(s)/Math.log(10)),h=Math.pow(10,c),r=Math.floor(t/h)*h,i=Math.ceil(e/h)*h,l=(i-r)/(n-1),1===h&&1<l&&Math.ceil(l)!==l&&(l=Math.ceil(l),i=r+l*(n-1)),r<0&&0<i&&(r=Math.floor(t/l)*l,i=Math.ceil(e/l)*l),l<1?(o=Math.floor(Math.log(l)/Math.log(10)),a=function(){var t,e;for(e=[],u=t=r;0<l?t<=i:i<=t;u=t+=l)e.push(parseFloat(u.toFixed(1-o)));return e}()):a=function(){var t,e;for(e=[],u=t=r;0<l?t<=i:i<=t;u=t+=l)e.push(u);return e}(),a},e.prototype._calc=function(){var i,t,r,e,a,n,o,s,l;if(n=this.el.width(),e=this.el.height(),(this.elementWidth!==n||this.elementHeight!==e||this.dirty)&&(this.elementWidth=n,this.elementHeight=e,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(s=this.options.axes)&&"both"!==s&&"y"!==s||(o=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.grid).length;t<e;t++)r=n[t],i.push(this.measureText(this.yAxisFormat(r)).width);return i}.call(this),this.options.horizontal?this.bottom-=Math.max.apply(Math,o):this.left+=Math.max.apply(Math,o)),!0!==(l=this.options.axes)&&"both"!==l&&"x"!==l||(i=this.options.horizontal?-90:-this.options.xLabelAngle,t=function(){var t,e,n;for(n=[],a=t=0,e=this.data.length;0<=e?t<e:e<t;a=0<=e?++t:--t)n.push(this.measureText(this.data[a].label,i).height);return n}.call(this),this.options.horizontal?this.left+=Math.max.apply(Math,t):this.bottom-=Math.max.apply(Math,t)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.options.horizontal?(this.dx=this.height/(this.xmax-this.xmin),this.dy=this.width/(this.ymax-this.ymin),this.yStart=this.left,this.yEnd=this.right,this.xStart=this.top,this.xEnd=this.bottom,this.xSize=this.height,this.ySize=this.width):(this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.yStart=this.bottom,this.yEnd=this.top,this.xStart=this.left,this.xEnd=this.right,this.xSize=this.width,this.ySize=this.height),this.calc))return this.calc()},e.prototype.transY=function(t){return this.options.horizontal?this.left+(t-this.ymin)*this.dy:this.bottom-(t-this.ymin)*this.dy},e.prototype.transX=function(t){return 1===this.data.length?(this.xStart+this.xEnd)/2:this.xStart+(t-this.xmin)*this.dx},e.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},e.prototype.measureText=function(t,e){var n,i;return null==e&&(e=0),n=(i=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e)).getBBox(),i.remove(),n},e.prototype.yAxisFormat=function(t){return this.yLabelFormat(t,0)},e.prototype.yLabelFormat=function(t,e){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t,e):""+this.options.preUnits+S.commas(t)+this.options.postUnits},e.prototype.getYAxisLabelX=function(){return this.left-this.options.padding/2},e.prototype.drawGrid=function(){var t,e,n,i,r,a,o,s,l;if(!1!==this.options.grid||!0===(a=this.options.axes)||"both"===a||"y"===a){for(t=this.options.horizontal?this.getXAxisLabelY():this.getYAxisLabelX(),l=[],i=0,r=(o=this.grid).length;i<r;i++)e=o[i],n=this.transY(e),!0!==(s=this.options.axes)&&"both"!==s&&"y"!==s||(this.options.horizontal?this.drawXAxisLabel(n,t,this.yAxisFormat(e)):this.drawYAxisLabel(t,n,this.yAxisFormat(e))),this.options.grid?(n=Math.floor(n)+.5,this.options.horizontal?l.push(this.drawGridLine("M"+n+","+this.xStart+"V"+this.xEnd)):l.push(this.drawGridLine("M"+this.xStart+","+n+"H"+this.xEnd))):l.push(void 0);return l}},e.prototype.drawGoals=function(){var t,e,n,i,r,a,o;for(o=[],n=i=0,r=(a=this.options.goals).length;i<r;n=++i)e=a[n],t=this.options.goalLineColors[n%this.options.goalLineColors.length],o.push(this.drawGoal(e,t));return o},e.prototype.drawEvents=function(){var t,e,n,i,r,a,o;for(o=[],n=i=0,r=(a=this.events).length;i<r;n=++i)e=a[n],t=this.options.eventLineColors[n%this.options.eventLineColors.length],o.push(this.drawEvent(e,t));return o},e.prototype.drawGoal=function(t,e){var n,i;return i=Math.floor(this.transY(t))+.5,n=this.options.horizontal?"M"+i+","+this.xStart+"V"+this.xEnd:"M"+this.xStart+","+i+"H"+this.xEnd,this.raphael.path(n).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},e.prototype.drawEvent=function(t,e){var n,i,r,a;return t instanceof Array?(n=t[0],r=t[1],n=Math.floor(this.transX(n))+.5,r=Math.floor(this.transX(r))+.5,this.options.horizontal?this.raphael.rect(this.yStart,n,this.yEnd-this.yStart,r-n).attr({fill:e,stroke:!1}).toBack():this.raphael.rect(n,this.yEnd,r-n,this.yStart-this.yEnd).attr({fill:e,stroke:!1}).toBack()):(a=Math.floor(this.transX(t))+.5,i=this.options.horizontal?"M"+this.yStart+","+a+"H"+this.yEnd:"M"+a+","+this.yStart+"V"+this.yEnd,this.raphael.path(i).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth))},e.prototype.drawYAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},e.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},e.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},e.prototype.endRange=function(t){var e,n;if(this.selectFrom)return n=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},e.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},e.prototype.hasToShow=function(t){return!0===this.options.shown||!0===this.options.shown[t]},e}(S.EventEmitter),S.parseDate=function(t){var e,n,i,r,a,o,s,l,h,u,c;return"number"==typeof t?t:(n=t.match(/^(\d+) Q(\d)$/),r=t.match(/^(\d+)-(\d+)$/),a=t.match(/^(\d+)-(\d+)-(\d+)$/),s=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),n?new Date(parseInt(n[1],10),3*parseInt(n[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():a?new Date(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10)).getTime():s?(4!==(u=new Date(parseInt(s[1],10),0,1)).getDay()&&u.setMonth(0,1+(4-u.getDay()+7)%7),u.getTime()+6048e5*parseInt(s[2],10)):l?l[6]?(o=0,"Z"!==l[6]&&(o=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(o=0-o)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():h?(c=parseFloat(h[6]),e=Math.floor(c),i=Math.round(1e3*(c-e)),h[8]?(o=0,"Z"!==h[8]&&(o=60*parseInt(h[10],10)+parseInt(h[11],10),"+"===h[9]&&(o=0-o)),Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+o,e,i)):new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),e,i).getTime()):new Date(parseInt(t,10),0,1).getTime())},S.Hover=function(){function t(t){null==t&&(t={}),this.options=M.extend({},S.Hover.defaults,t),this.el=M("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return t.defaults={"class":"morris-hover morris-default-style"},t.prototype.update=function(t,e,n,i){return t?(this.html(t),this.show(),this.moveTo(e,n,i)):this.hide()},t.prototype.html=function(t){return this.el.html(t)},t.prototype.moveTo=function(t,e,n){var i,r,a,o,s,l;return s=this.options.parent.innerWidth(),o=this.options.parent.innerHeight(),r=this.el.outerWidth(),i=this.el.outerHeight(),a=Math.min(Math.max(0,t-r/2),s-r),null!=e?!0===n?(l=e-i/2)<0&&(l=0):(l=e-i-10)<0&&o<(l=e+10)+i&&(l=o/2-i/2):l=o/2-i/2,this.el.css({left:a+"px",top:parseInt(l)+"px"})},t.prototype.show=function(){return this.el.show()},t.prototype.hide=function(){return this.el.hide()},t}(),S.Line=function(t){function e(t){if(this.hilight=u(this.hilight,this),this.onHoverOut=u(this.onHoverOut,this),this.onHoverMove=u(this.onHoverMove,this),this.onGridClick=u(this.onGridClick,this),!(this instanceof S.Line))return new S.Line(t);e.__super__.constructor.call(this,t)}return a(e,t),e.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new S.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},e.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,shown:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1,trendLine:!1,trendLineWidth:2,trendLineColors:["#689bc3","#a2b3bf","#64b764"]},e.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},e.prototype.calcPoints=function(){var r,a,t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)(r=n[t])._x=this.transX(r.x),r._y=function(){var t,e,n,i;for(i=[],t=0,e=(n=r.y).length;t<e;t++)null!=(a=n[t])?i.push(this.transY(a)):i.push(a);return i}.call(this),i.push(r._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var t,e,n,i;for(i=[],t=0,e=(n=r._y).length;t<e;t++)null!=(a=n[t])&&i.push(a);return i}())));return i},e.prototype.hitTest=function(t){var e,n,i,r;if(0===this.data.length)return null;for(e=n=0,i=(r=this.data.slice(1)).length;n<i&&!(t<(r[e]._x+this.data[e]._x)/2);e=++n);return e},e.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},e.prototype.onHoverMove=function(t){var e;return e=this.hitTest(t),this.displayHoverForRow(e)},e.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},e.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},e.prototype.hoverContentForRow=function(t){var e,n,i,r,a,o,s;for(i=this.data[t],e=(e=M("<div class='morris-hover-row-label'>").text(i.label)).prop("outerHTML"),n=a=0,o=(s=i.y).length;a<o;n=++a)r=s[n],!1!==this.options.labels[n]&&(e+="<div class='morris-hover-point' style='color: "+this.colorFor(i,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(r,n)+"\n</div>");return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,i.src)),[e,i._x,i._ymax]},e.prototype.generatePaths=function(){var r,a,o,s;return this.paths=function(){var t,e,n,i;for(i=[],a=t=0,e=this.options.ykeys.length;0<=e?t<e:e<t;a=0<=e?++t:--t)s="boolean"==typeof this.options.smooth?this.options.smooth:(n=this.options.ykeys[a],0<=h.call(this.options.smooth,n)),1<(r=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)void 0!==(o=n[t])._y[a]&&i.push({x:o._x,y:o._y[a]});return i}.call(this)).length?i.push(S.Line.createPath(r,s,this.bottom)):i.push(null);return i}.call(this)},e.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},e.prototype.drawXAxis=function(){var t,e,n,s,l,r,h,i,a,o,u=this;for(h=this.bottom+this.options.padding/2,s=l=null,t=function(t,e){var n,i,r,a,o;return o=(n=u.drawXAxisLabel(u.transX(e),h,t)).getBBox(),n.transform("r"+-u.options.xLabelAngle),i=n.getBBox(),n.transform("t0,"+i.height/2+"..."),0!==u.options.xLabelAngle&&(a=-.5*o.width*Math.cos(u.options.xLabelAngle*Math.PI/180),n.transform("t"+a+",0...")),i=n.getBBox(),(null==l||l>=i.x+i.width||null!=s&&s>=i.x)&&0<=i.x&&i.x+i.width<u.el.width()?(0!==u.options.xLabelAngle&&(r=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180),s=i.x-r),l=i.x-u.options.xLabelMargin):n.remove()},(n=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:S.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)r=n[t],i.push([r.label,r.x]);return i}.call(this)).reverse(),o=[],i=0,a=n.length;i<a;i++)e=n[i],o.push(t(e[0],e[1]));return o},e.prototype.drawSeries=function(){var t,e,n,i,r,a;for(this.seriesPoints=[],t=e=i=this.options.ykeys.length-1;i<=0?e<=0:0<=e;t=i<=0?++e:--e)this.hasToShow(t)&&((!1!==this.options.trendLine&&!0===this.options.trendLine||!0===this.options.trendLine[t])&&this._drawTrendLine(t),this._drawLineFor(t));for(a=[],t=n=r=this.options.ykeys.length-1;r<=0?n<=0:0<=n;t=r<=0?++n:--n)this.hasToShow(t)?a.push(this._drawPointFor(t)):a.push(void 0);return a},e.prototype._drawPointFor=function(t){var e,n,i,r,a,o;for(this.seriesPoints[t]=[],o=[],i=0,r=(a=this.data).length;i<r;i++)(e=null)!=(n=a[i])._y[t]&&(e=this.drawLinePoint(n._x,n._y[t],this.colorFor(n,t,"point"),t)),o.push(this.seriesPoints[t].push(e));return o},e.prototype._drawLineFor=function(t){var e;if(null!==(e=this.paths[t]))return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},e.prototype._drawTrendLine=function(t){var e,n,i,r,a,o,s,l,h,u,c,f,d,p,g;for(d=r=l=s=h=o=0,p=(g=this.data).length;d<p;d++)c=(u=g[d]).x,void 0!==(f=u.y[t])&&(r+=1,o+=c,h+=f,s+=c*c,l+=c*f);return n=h/r-(e=(r*l-o*h)/(r*s-o*o))*o/r,(i=[{},{}])[0].x=this.transX(this.data[0].x),i[0].y=this.transY(this.data[0].x*e+n),i[1].x=this.transX(this.data[this.data.length-1].x),i[1].y=this.transY(this.data[this.data.length-1].x*e+n),a=S.Line.createPath(i,!1,this.bottom),this.raphael.path(a).attr("stroke",this.colorFor(null,t,"trendLine")).attr("stroke-width",this.options.trendLineWidth)},e.createPath=function(t,e,n){var i,r,a,o,s,l,h,u,c,f;for(h="",e&&(a=S.Line.gradients(t)),u={y:null},o=c=0,f=t.length;c<f;o=++c)null!=(i=t[o]).y&&(null!=u.y?e?(r=a[o],l=a[o-1],s=(i.x-u.x)/4,h+="C"+(u.x+s)+","+Math.min(n,u.y+s*l)+","+(i.x-s)+","+Math.min(n,i.y-s*r)+","+i.x+","+i.y):h+="L"+i.x+","+i.y:e&&null==a[o]||(h+="M"+i.x+","+i.y)),u=i;return h},e.gradients=function(t){var e,n,i,r,a,o,s,l;for(n=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],i=o=0,s=t.length;o<s;i=++o)null!=(e=t[i]).y?(r=t[i+1]||{y:null},null!=(a=t[i-1]||{y:null}).y&&null!=r.y?l.push(n(a,r)):null!=a.y?l.push(n(a,e)):null!=r.y?l.push(n(e,r)):l.push(null)):l.push(null);return l},e.prototype.hilight=function(t){var e,n,i,r,a;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=n=0,r=this.seriesPoints.length-1;0<=r?n<=r:r<=n;e=0<=r?++n:--n)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=i=0,a=this.seriesPoints.length-1;0<=a?i<=a:a<=i;e=0<=a?++i:--i)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},e.prototype.colorFor=function(t,e,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,n):"point"===n?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:"line"===n?this.options.lineColors[e%this.options.lineColors.length]:this.options.trendLineColors[e%this.options.trendLineColors.length]},e.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},e.prototype.drawLinePath=function(t,e,n){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(n))},e.prototype.drawLinePoint=function(t,e,n,i){return this.raphael.circle(t,e,this.pointSizeForSeries(i)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(i)).attr("stroke",this.pointStrokeColorForSeries(i))},e.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},e.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},e.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},e.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},e.prototype.pointGrowSeries=function(t){if(0!==this.pointSizeForSeries(t))return Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},e.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},e}(S.Grid),S.labelSeries=function(t,e,n,i,r){var a,o,s,l,h,u,c,f,d,p,g;if(s=200*(e-t)/n,o=new Date(t),void 0===(c=S.LABEL_SPECS[i]))for(d=0,p=(g=S.AUTO_LABEL_ORDER).length;d<p;d++)if(l=g[d],s>=(u=S.LABEL_SPECS[l]).span){c=u;break}for(void 0===c&&(c=S.LABEL_SPECS.second),r&&(c=M.extend({},c,{fmt:r})),a=c.start(o),h=[];(f=a.getTime())<=e;)t<=f&&h.push([c.fmt(a),f]),c.incr(a);return h},t=function(e){return{span:60*e*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return S.pad2(t.getHours())+":"+S.pad2(t.getMinutes())},incr:function(t){return t.setUTCMinutes(t.getUTCMinutes()+e)}}},e=function(e){return{span:1e3*e,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return S.pad2(t.getHours())+":"+S.pad2(t.getMinutes())+":"+S.pad2(t.getSeconds())},incr:function(t){return t.setUTCSeconds(t.getUTCSeconds()+e)}}},S.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return t.getFullYear()+"-"+S.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+S.pad2(t.getMonth()+1)+"-"+S.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+S.pad2(t.getMonth()+1)+"-"+S.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:t(60),"30min":t(30),"15min":t(15),"10min":t(10),"5min":t(5),minute:t(1),"30sec":e(30),"15sec":e(15),"10sec":e(10),"5sec":e(5),second:e(1)},S.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],S.Area=function(t){function n(t){var e;if(!(this instanceof S.Area))return new S.Area(t);e=M.extend({},i,t),this.cumulative=!e.behaveLikeLine,"auto"===e.fillOpacity&&(e.fillOpacity=e.behaveLikeLine?.8:1),n.__super__.constructor.call(this,e)}var i;return a(n,t),i={fillOpacity:"auto",behaveLikeLine:!1},n.prototype.calcPoints=function(){var r,a,o,t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)(r=n[t])._x=this.transX(r.x),a=0,r._y=function(){var t,e,n,i;for(i=[],t=0,e=(n=r.y).length;t<e;t++)o=n[t],this.options.behaveLikeLine?i.push(this.transY(o)):(a+=o||0,i.push(this.transY(a)));return i}.call(this),i.push(r._ymax=Math.max.apply(Math,r._y));return i},n.prototype.drawSeries=function(){var t,e,n,i,r,a,o,s;for(this.seriesPoints=[],s=[],n=0,i=(e=this.options.behaveLikeLine?function(){a=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:e<=t;0<=e?t++:t--)a.push(t);return a}.apply(this):function(){o=[];for(var t=r=this.options.ykeys.length-1;r<=0?t<=0:0<=t;r<=0?t++:t--)o.push(t);return o}.apply(this)).length;n<i;n++)t=e[n],this._drawFillFor(t),this._drawLineFor(t),s.push(this._drawPointFor(t));return s},n.prototype._drawFillFor=function(t){var e;if(null!==(e=this.paths[t]))return e=e+"L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))},n.prototype.fillForSeries=function(t){var e;return e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line")),Raphael.hsl(e.h,this.options.behaveLikeLine?.9*e.s:.75*e.s,Math.min(.98,this.options.behaveLikeLine?1.2*e.l:1.25*e.l))},n.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},n}(S.Line),S.Bar=function(t){function e(t){if(this.onHoverOut=u(this.onHoverOut,this),this.onHoverMove=u(this.onHoverMove,this),this.onGridClick=u(this.onGridClick,this),!(this instanceof S.Bar))return new S.Bar(t);e.__super__.constructor.call(this,M.extend({},t,{parseTime:!1}))}return a(e,t),e.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new S.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},e.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50,horizontal:!1,shown:!0},e.prototype.calc=function(){var t;if(this.calcBars(),!1===this.options.hideHover)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},e.prototype.calcBars=function(){var t,r,a,e,n,i,o;for(o=[],t=e=0,n=(i=this.data).length;e<n;t=++e)(r=i[t])._x=this.xStart+this.xSize*(t+.5)/this.data.length,o.push(r._y=function(){var t,e,n,i;for(i=[],t=0,e=(n=r.y).length;t<e;t++)null!=(a=n[t])?i.push(this.transY(a)):i.push(null);return i}.call(this));return o},e.prototype.draw=function(){var t;return!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries()},e.prototype.drawXAxis=function(){var t,e,n,i,r,a,o,s,l,h,u,c,f,d,p,g;for(e=this.options.horizontal?this.getYAxisLabelX():this.getXAxisLabelY(),s=l=null,g=[],n=d=0,p=this.data.length;0<=p?d<p:p<d;n=0<=p?++d:--d)h=this.data[this.data.length-1-n],i=this.options.horizontal?this.drawYAxisLabel(e,h._x-.5*this.options.gridTextSize,h.label):this.drawXAxisLabel(h._x,e,h.label),t=this.options.horizontal?0:this.options.xLabelAngle,f=i.getBBox(),i.transform("r"+-t),r=i.getBBox(),i.transform("t0,"+r.height/2+"..."),0!==t&&(o=-.5*f.width*Math.cos(t*Math.PI/180),i.transform("t"+o+",0...")),this.options.horizontal?(c=r.y,u=r.height,a=this.el.height()):(c=r.x,u=r.width,a=this.el.width()),(null==l||c+u<=l||null!=s&&c<=s)&&0<=c&&c+u<a?(0!==t&&(s=c-1.25*this.options.gridTextSize/Math.sin(t*Math.PI/180)),this.options.horizontal?g.push(l=c):g.push(l=c-this.options.xLabelMargin)):g.push(i.remove());return g},e.prototype.getXAxisLabelY=function(){return this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2)},e.prototype.drawSeries=function(){var r,a,o,t,s,l,h,u,e,c,f,d,n,p,g,m,i,v;if(o=this.xSize/this.options.data.length,this.options.stacked)e=1;else for(t=i=e=0,v=this.options.ykeys.length-1;0<=v?i<=v:v<=i;t=0<=v?++i:--i)this.hasToShow(t)&&(e+=1);return r=(o*this.options.barSizeRatio-this.options.barGap*(e-1))/e,this.options.barSize&&(r=Math.min(r,this.options.barSize)),n=o-r*e-this.options.barGap*(e-1),u=n/2,m=this.ymin<=0&&0<=this.ymax?this.transY(0):null,this.bars=function(){var t,e,n,i;for(n=this.data,i=[],s=t=0,e=n.length;t<e;s=++t)c=n[s],l=0,i.push(function(){var t,e,n,i;for(n=c._y,i=[],f=t=0,e=n.length;t<e;f=++t)g=n[f],this.hasToShow(f)&&(null!==g?(m?(p=Math.min(g,m),a=Math.max(g,m)):(p=g,a=this.bottom),h=this.xStart+s*o+u,this.options.stacked||(h+=f*(r+this.options.barGap)),d=a-p,this.options.verticalGridCondition&&this.options.verticalGridCondition(c.x)&&(this.options.horizontal?this.drawBar(this.yStart,this.xStart+s*o,this.ySize,o,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius):this.drawBar(this.xStart+s*o,this.yEnd,o,this.ySize,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)),this.options.stacked&&(p-=l),this.options.horizontal?(this.drawBar(p,h,d,r,this.colorFor(c,f,"bar"),this.options.barOpacity,this.options.barRadius),i.push(l-=d)):(this.drawBar(h,p,r,d,this.colorFor(c,f,"bar"),this.options.barOpacity,this.options.barRadius),i.push(l+=d))):i.push(null));return i}.call(this));return i}.call(this)},e.prototype.colorFor=function(t,e,n){var i,r;return"function"==typeof this.options.barColors?(i={x:t.x,y:t.y[e],label:t.label},r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,i,r,n)):this.options.barColors[e%this.options.barColors.length]},e.prototype.hitTest=function(t,e){var n;return 0===this.data.length?null:(n=this.options.horizontal?e:t,n=Math.max(Math.min(n,this.xEnd),this.xStart),Math.min(this.data.length-1,Math.floor((n-this.xStart)/(this.xSize/this.data.length))))},e.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t,e),this.fire("click",n,this.data[n].src,t,e)},e.prototype.onHoverMove=function(t,e){var n,i;return n=this.hitTest(t,e),(i=this.hover).update.apply(i,this.hoverContentForRow(n))},e.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.hover.hide()},e.prototype.hoverContentForRow=function(t){var e,n,i,r,a,o,s;for(i=this.data[t],e=(e=M("<div class='morris-hover-row-label'>").text(i.label)).prop("outerHTML"),n=a=0,o=(s=i.y).length;a<o;n=++a)r=s[n],!1!==this.options.labels[n]&&(e+="<div class='morris-hover-point' style='color: "+this.colorFor(i,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(r,n)+"\n</div>");return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,i.src)),this.options.horizontal?[e,this.left+.5*this.width,r=this.top+(t+.5)*this.height/this.data.length,!0]:[e,this.left+(t+.5)*this.width/this.data.length]},e.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},e.prototype.drawBar=function(t,e,n,i,r,a,o){var s;return(0===(s=Math.max.apply(Math,o))||i<s?this.raphael.rect(t,e,n,i):this.raphael.path(this.roundedRect(t,e,n,i,o))).attr("fill",r).attr("fill-opacity",a).attr("stroke","none")},e.prototype.roundedRect=function(t,e,n,i,r){return null==r&&(r=[0,0,0,0]),["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+n-r[1],e,"Q",t+n,e,t+n,e+r[1],"L",t+n,e+i-r[2],"Q",t+n,e+i,t+n-r[2],e+i,"L",t+r[3],e+i,"Q",t,e+i,t,e+i-r[3],"Z"]},e}(S.Grid),S.Donut=function(t){function e(t){this.resizeHandler=u(this.resizeHandler,this),this.select=u(this.select,this),this.click=u(this.click,this);var e=this;if(!(this instanceof S.Donut))return new S.Donut(t);if(this.options=M.extend({},this.defaults,t),"string"==typeof t.element?this.el=M(document.getElementById(t.element)):this.el=M(t.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==t.data&&0!==t.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&M(window).bind("resize",function(){return null!=e.timeoutId&&window.clearTimeout(e.timeoutId),e.timeoutId=window.setTimeout(e.resizeHandler,100)}),this.setData(t.data))}return a(e,t),e.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:S.commas,resize:!1},e.prototype.redraw=function(){var t,e,n,i,r,a,o,s,l,h,u,c,f,d,p,g,m,v,x,y,b,w;for(this.raphael.clear(),e=this.el.width()/2,n=this.el.height()/2,c=(Math.min(e,n)-10)/3,f=u=0,g=(x=this.values).length;f<g;f++)u+=x[f];for(s=5/(2*c),t=1.9999*Math.PI-s*this.data.length,r=a=0,this.segments=[],i=d=0,m=(y=this.values).length;d<m;i=++d)l=a+s+t*(y[i]/u),(h=new S.DonutSegment(e,n,2*c,c,a,l,this.data[i].color||this.options.colors[r%this.options.colors.length],this.options.backgroundColor,r,this.raphael)).render(),this.segments.push(h),h.on("hover",this.select),h.on("click",this.click),a=l,r+=1;for(this.text1=this.drawEmptyDonutLabel(e,n-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(e,n+10,this.options.labelColor,14),o=Math.max.apply(Math,this.values),w=[],p=r=0,v=(b=this.values).length;p<v;p++){if(b[p]===o){this.select(r);break}w.push(r+=1)}return w},e.prototype.setData=function(t){var r;return this.data=t,this.values=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)r=n[t],i.push(parseFloat(r.value));return i}.call(this),this.redraw()},e.prototype.click=function(t){
return this.fire("click",t,this.data[t])},e.prototype.select=function(t){var e,n,i,r;for(n=0,i=(r=this.segments).length;n<i;n++)r[n].deselect();return this.segments[t].select(),e=this.data[t],this.setLabels(e.label,this.options.formatter(e.value,e))},e.prototype.setLabels=function(t,e){var n,i,r,a,o,s,l,h;return a=1.8*(n=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3),r=n/2,i=n/3,this.text1.attr({text:t,transform:""}),o=this.text1.getBBox(),s=Math.min(a/o.width,r/o.height),this.text1.attr({transform:"S"+s+","+s+","+(o.x+o.width/2)+","+(o.y+o.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),h=Math.min(a/l.width,i/l.height),this.text2.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+l.y})},e.prototype.drawEmptyDonutLabel=function(t,e,n,i,r){var a;return a=this.raphael.text(t,e,"").attr("font-size",i).attr("fill",n),null!=r&&a.attr("font-weight",r),a},e.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},e}(S.EventEmitter),S.DonutSegment=function(t){function e(t,e,n,i,r,a,o,s,l,h){this.cx=t,this.cy=e,this.inner=n,this.outer=i,this.color=o,this.backgroundColor=s,this.index=l,this.raphael=h,this.deselect=u(this.deselect,this),this.select=u(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(a),this.cos_p1=Math.cos(a),this.is_long=a-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return a(e,t),e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},e.prototype.calcSegment=function(t,e){var n,i,r,a,o,s,l,h,u,c;return n=(u=this.calcArcPoints(t))[0],r=u[1],i=u[2],a=u[3],o=(c=this.calcArcPoints(e))[0],l=c[1],s=c[2],h=c[3],"M"+n+","+r+"A"+t+","+t+",0,"+this.is_long+",0,"+i+","+a+"L"+s+","+h+"A"+e+","+e+",0,"+this.is_long+",1,"+o+","+l+"Z"},e.prototype.calcArc=function(t){var e,n,i,r,a;return e=(a=this.calcArcPoints(t))[0],i=a[1],n=a[2],r=a[3],"M"+e+","+i+"A"+t+","+t+",0,"+this.is_long+",0,"+n+","+r},e.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})},e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},e.prototype.drawDonutSegment=function(t,e,n,i,r){return this.raphael.path(t).attr({fill:e,stroke:n,"stroke-width":3}).hover(i).click(r)},e.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},e.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},e}(S.EventEmitter)}.call(this),function(){function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function L(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function o(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function h(t){return null===t?NaN:+t}function u(t){return!isNaN(t)}function t(a){return{left:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;a(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=t.length);n<i;){var r=n+i>>>1;0<a(t[r],e)?i=r:n=r+1}return n}}}function l(t){return t.length}function c(t){for(var e=1;t*e%1;)e*=10;return e}function e(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function x(){this._=Object.create(null)}function n(t){return(t+="")===yo||t[0]===bo?bo+t:t}function i(t){return(t+="")[0]===bo?t.slice(1):t}function r(t){return n(t)in this._}function a(t){return(t=n(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(i(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function z(t){return t}function m(e,n,i){return function(){var t=i.apply(n,arguments);return t===n?e:t}}function v(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=wo.length;n<i;++n){var r=wo[n]+e;if(r in t)return r}}function b(){}function y(){}function w(r){function t(){for(var t,e=a,n=-1,i=e.length;++n<i;)(t=e[n].on)&&t.apply(this,arguments);return r}var a=[],o=new x;return t.on=function(t,e){var n,i=o.get(t);return arguments.length<2?i&&i.on:(i&&(i.on=null,a=a.slice(0,n=a.indexOf(i)).concat(a.slice(n+1)),o.remove(t)),e&&a.push(o.set(t,{on:e})),r)},t}function R(){so.event.preventDefault()}function k(){for(var t,e=so.event;t=e.sourceEvent;)e=t;return e}function N(r){for(var a=new y,t=0,e=arguments.length;++t<e;)a[arguments[t]]=w(a);return a.of=function(n,i){return function(t){try{var e=t.sourceEvent=so.event;t.target=r,so.event=t,a[t.type].apply(n,i)}finally{so.event=e}}},a}function M(t){return Mo(t,Ao),t}function S(t){return"function"==typeof t?t:function(){return So(t,this)}}function _(t){return"function"==typeof t?t:function(){return _o(t,this)}}function C(e,n){function t(){this.removeAttribute(e)}function i(){this.removeAttributeNS(e.space,e.local)}function r(){this.setAttribute(e,n)}function a(){this.setAttributeNS(e.space,e.local,n)}function o(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}function s(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}return e=so.ns.qualify(e),null==n?e.local?i:t:"function"==typeof n?e.local?s:o:e.local?a:r}function A(t){return t.trim().replace(/\s+/g," ")}function T(t){return new RegExp("(?:^|\\s+)"+so.requote(t)+"(?:\\s+|$)","g")}function I(t){return(t+"").trim().split(/^|\s+/)}function P(n,i){function t(){for(var t=-1;++t<r;)n[t](this,i)}function e(){for(var t=-1,e=i.apply(this,arguments);++t<r;)n[t](this,e)}var r=(n=I(n).map(D)).length;return"function"==typeof i?e:t}function D(i){var r=T(i);return function(t,e){if(n=t.classList)return e?n.add(i):n.remove(i);var n=t.getAttribute("class")||"";e?(r.lastIndex=0,r.test(n)||t.setAttribute("class",A(n+" "+i))):t.setAttribute("class",A(n.replace(r," ")))}}function E(e,n,i){function t(){this.style.removeProperty(e)}function r(){this.style.setProperty(e,n,i)}function a(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,i)}return null==n?t:"function"==typeof n?a:r}function F(e,n){function t(){delete this[e]}function i(){this[e]=n}function r(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}return null==n?t:"function"==typeof n?r:i}function O(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===To&&t.documentElement.namespaceURI===To?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=so.ns.qualify(n)).local?e:t}function B(){var t=this.parentNode;t&&t.removeChild(this)}function H(t){return{__data__:t}}function W(t){return function(){return Co(this,t)}}function V(n){return arguments.length||(n=o),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function j(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,a=t[n],o=0,s=a.length;o<s;o++)(r=a[o])&&e(r,o,n);return t}function q(t){return Mo(t,Po),t}function Y(o){var s,l;return function(t,e,n){var i,r=o[n].update,a=r.length;for(n!=l&&(l=n,s=0),s<=e&&(s=e+1);!(i=r[s])&&++s<a;);return i}}function U(r,e,n){function i(){var t=this[o];t&&(this.removeEventListener(r,t,t.$),delete this[o])}function t(){var t=l(e,ho(arguments));i.call(this),this.addEventListener(r,this[o]=t,t.$=n),t._=e}function a(){var t,e=new RegExp("^__on([^.]+)"+so.requote(r)+"$");for(var n in this)if(t=n.match(e)){var i=this[n];this.removeEventListener(t[1],i,i.$),delete this[n]}}var o="__on"+r,s=r.indexOf("."),l=G;0<s&&(r=r.slice(0,s));var h=Do.get(r);return h&&(r=h,l=X),s?e?t:i:e?b:a}function G(n,i){return function(t){var e=so.event;so.event=t,i[0]=this.__data__;try{n.apply(this,i)}finally{so.event=e}}}function X(t,e){var i=G(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function $(t){var n=".dragsuppress-"+ ++Fo,i="click"+n,r=so.select(L(t)).on("touchmove"+n,R).on("dragstart"+n,R).on("selectstart"+n,R);if(null==Eo&&(Eo=!("onselectstart"in t)&&v(t.style,"userSelect")),Eo){var a=s(t).style,o=a[Eo];a[Eo]="none"}return function(t){if(r.on(n,null),Eo&&(a[Eo]=o),t){var e=function(){r.on(i,null)};r.on(i,function(){R(),e()},!0),setTimeout(e,0)}}}function Q(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Lo<0){var r=L(t);if(r.scrollX||r.scrollY){var a=(n=so.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Lo=!(a.f||a.e),n.remove()}}return Lo?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function Z(){return so.event.changedTouches[0].identifier}function J(t){return 0<t?1:t<0?-1:0}function K(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return 1<t?0:t<-1?No:Math.acos(t)}function et(t){return 1<t?Ho:t<-1?-Ho:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function at(t){return(t=Math.sin(t/2))*t}function ot(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):wt(""+t,kt,st):new st(t,e,n)}function lt(t,e,n){function i(t){return 360<t?t-=360:t<0&&(t+=360),t<60?a+(o-a)*t/60:t<180?o:t<240?a+(o-a)*(240-t)/60:a}function r(t){return Math.round(255*i(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:1<e?1:e,a=2*(n=n<0?0:1<n?1:n)-(o=n<=.5?n*(1+e):n+e-n*e),new vt(r(t+120),r(t),r(t-120))}function ht(t,e,n){return this instanceof ht?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ht?new ht(t.h,t.c,t.l):dt(t instanceof ct?t.l:(t=Mt((t=so.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ht(t,e,n)}function ut(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ct(n,Math.cos(t*=Wo)*e,Math.sin(t)*e)}function ct(t,e,n){return this instanceof ct?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ct?new ct(t.l,t.a,t.b):t instanceof ht?ut(t.h,t.c,t.l):Mt((t=vt(t)).r,t.g,t.b):new ct(t,e,n)}function ft(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return new vt(mt(3.2404542*(r=pt(r)*Jo)-1.5371385*(i=pt(i)*Ko)-.4985314*(a=pt(a)*ts)),mt(-.969266*r+1.8760108*i+.041556*a),mt(.0556434*r-.2040259*i+1.0572252*a))}function dt(t,e,n){return 0<t?new ht(Math.atan2(n,e)*Vo,Math.sqrt(e*e+n*n),t):new ht(NaN,NaN,t)}function pt(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function gt(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):wt(""+t,vt,lt):new vt(t,e,n)}function xt(t){return new vt(t>>16,t>>8&255,255&t)}function yt(t){return xt(t)+""}function bt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function wt(t,e,n){var i,r,a,o=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(_t(r[0]),_t(r[1]),_t(r[2]))}return(a=is.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function kt(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(r=l<.5?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=0<l&&l<1?0:i),new st(i,r,l)}function Mt(t,e,n){var i=gt((.4124564*(t=St(t))+.3575761*(e=St(e))+.1804375*(n=St(n)))/Jo),r=gt((.2126729*t+.7151522*e+.072175*n)/Ko);return ct(116*r-16,500*(i-r),200*(r-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function St(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _t(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function At(i){return function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=null),Tt(t,e,i,n)}}function Tt(r,a,i,t){function e(){var t,e=h.status;if(!e&&Pt(h)||200<=e&&e<300||304===e){try{t=i.call(o,h)}catch(n){return void s.error.call(o,n)}s.load.call(o,t)}else s.error.call(o,h)}var o={},s=so.dispatch("beforesend","progress","load","error"),l={},h=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(r)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=e:h.onreadystatechange=function(){3<h.readyState&&e()},h.onprogress=function(t){var e=so.event;so.event=t;try{s.progress.call(o,h)}finally{so.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(a=null==t?null:t+"",o):a},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return i=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ho(arguments)))}}),o.send=function(t,e,n){if(2===arguments.length&&"function"==typeof e&&(n=e,e=null),h.open(t,r,!0),null==a||"accept"in l||(l.accept=a+",*/*"),h.setRequestHeader)for(var i in l)h.setRequestHeader(i,l[i]);return null!=a&&h.overrideMimeType&&h.overrideMimeType(a),null!=u&&(h.responseType=u),null!=n&&o.on("error",n).on("load",function(t){n(null,t)}),s.beforesend.call(o,h),h.send(null==e?null:e),o},o.abort=function(){return h.abort(),o},so.rebind(o,s,"on"),null==t?o:o.get(It(t))}function It(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Pt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Dt(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r={c:t,t:n+e,n:null};return as?as.n=r:rs=r,as=r,os||(ss=clearTimeout(ss),os=1,ls(Et)),r}function Et(){var t=Ft(),e=Lt()-t;24<e?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Et,e)),os=0):(os=1,ls(Et))}function Ft(){for(var t=Date.now(),e=rs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Lt(){for(var t,e=rs,n=Infinity;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:rs=e.n;return as=t,n}function zt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Rt(t,e){var n=Math.pow(10,3*xo(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}function Nt(t){var S=t.decimal,s=t.thousands,l=t.grouping,i=t.currency,_=l&&s?function(t,e){for(var n=t.length,i=[],r=0,a=l[0],o=0;0<n&&0<a&&(e<o+a+1&&(a=Math.max(1,e-o)),i.push(t.substring(n-=a,n+a)),!((o+=a+1)>e));)a=l[r=(r+1)%l.length];return i.reverse().join(s)}:z;return function(t){var e=us.exec(t),u=e[1]||" ",c=e[2]||">",f=e[3]||"-",n=e[4]||"",d=e[5],p=+e[6],g=e[7],m=e[8],v=e[9],x=1,y="",b="",w=!1,k=!0;switch(m&&(m=+m.substring(1)),(d||"0"===u&&"="===c)&&(d=u="0",c="="),v){case"n":g=!0,v="g";break;case"%":x=100,b="%",v="f";break;case"p":x=100,b="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(y="0"+v.toLowerCase());case"c":k=!1;case"d":w=!0,m=0;break;case"s":x=-1,v="r"}"$"===n&&(y=i[0],b=i[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=cs.get(v)||Ot;var M=d&&g;return function(t){var e=b;if(w&&t%1)return"";var n=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===f?"":f;if(x<0){var i=so.formatPrefix(t,m);t=i.scale(t),e=i.symbol+b}else t*=x;var r,a,o=(t=v(t,m)).lastIndexOf(".");if(o<0){var s=k?t.lastIndexOf("e"):-1;s<0?(r=t,a=""):(r=t.substring(0,s),a=t.substring(s))}else r=t.substring(0,o),a=S+t.substring(o+1);!d&&g&&(r=_(r,Infinity));var l=y.length+r.length+a.length+(M?0:n.length),h=l<p?new Array(l=p-l+1).join(u):"";return M&&(r=_(h+r,h.length?p-a.length:Infinity)),n+=y,t=r+a,("<"===c?n+t+h:">"===c?h+n+t:"^"===c?h.substring(0,l>>=1)+n+t+h.substring(l):n+(M?t:h+t))+e}}}function Ot(t){return t+""}function Bt(t){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):t)}function Ht(i,a,o){function t(t){var e=i(t),n=r(e,1);return t-e<n-t?e:n}function s(t){return a(t=i(new ds(t-1)),1),t}function r(t,e){return a(t=new ds(+t),e),t}function l(t,e,n){var i=s(t),r=[];if(1<n)for(;i<e;)o(i)%n||r.push(new Date(+i)),a(i,1);else for(;i<e;)r.push(new Date(+i)),a(i,1);return r}function e(t,e,n){try{var i=new(ds=Bt);return i._=t,l(i,e,n)}finally{ds=Date}}(i.floor=i).round=t,i.ceil=s,i.offset=r,i.range=l;var n=i.utc=Wt(i);return(n.floor=n).round=Wt(t),n.ceil=Wt(s),n.offset=Wt(r),n.range=e,i}function Wt(i){return function(t,e){try{var n=new(ds=Bt);return n._=t,i(n,e)._}finally{ds=Date}}}function Vt(t){function i(s){function t(t){for(var e,n,i,r=[],a=-1,o=0;++a<l;)37===s.charCodeAt(a)&&(r.push(s.slice(o,a)),null!=(n=gs[e=s.charAt(++a)])&&(e=s.charAt(++a)),(i=T[e])&&(e=i(t,null==n?"e"===e?" ":"0":n)),r.push(e),o=a+1);return r.push(s.slice(o,a)),r.join("")}var l=s.length;return t.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(r(e,s,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var n=null!=e.Z&&ds!==Bt,i=new(n?Bt:ds);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),n?i._:i},t.toString=function(){return s},t}function r(t,e,n,i){for(var r,a,o,s=0,l=e.length,h=n.length;s<l;){if(h<=i)return-1;if(37===(r=e.charCodeAt(s++))){if(o=e.charAt(s++),!(a=I[o in gs?e.charAt(s++):o])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function e(t,e,n){k.lastIndex=0;var i=k.exec(e.slice(n));return i?(t.w=M.get(i[0].toLowerCase()),n+i[0].length):-1}function n(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=w.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=A.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){S.lastIndex=0;var i=S.exec(e.slice(n));return i?(t.m=_.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,n){return r(t,T.c.toString(),e,n)}function l(t,e,n){return r(t,T.x.toString(),e,n)}function h(t,e,n){return r(t,T.X.toString(),e,n)}function u(t,e,n){var i=y.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var c=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,x=t.shortMonths;i.utc=function(t){function e(t){try{var e=new(ds=Bt);return e._=t,n(e)}finally{ds=Date}}var n=i(t);return e.parse=function(t){try{ds=Bt;var e=n.parse(t);return e&&e._}finally{ds=Date}},e.toString=n.toString,e},i.multi=i.utc.multi=le;var y=so.map(),b=qt(g),w=Yt(g),k=qt(m),M=Yt(m),S=qt(v),_=Yt(v),C=qt(x),A=Yt(x);p.forEach(function(t,e){y.set(t.toLowerCase(),e)});var T={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return x[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:i(c),d:function(t,e){return jt(t.getDate(),e,2)},e:function(t,e){return jt(t.getDate(),e,2)},H:function(t,e){return jt(t.getHours(),e,2)},I:function(t,e){return jt(t.getHours()%12||12,e,2)},j:function(t,e){return jt(1+fs.dayOfYear(t),e,3)},L:function(t,e){return jt(t.getMilliseconds(),e,3)},m:function(t,e){return jt(t.getMonth()+1,e,2)},M:function(t,e){return jt(t.getMinutes(),e,2)},p:function(t){return p[+(12<=t.getHours())]},S:function(t,e){return jt(t.getSeconds(),e,2)},U:function(t,e){return jt(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return jt(fs.mondayOfYear(t),e,2)},x:i(f),X:i(d),y:function(t,e){return jt(t.getFullYear()%100,e,2)},Y:function(t,e){return jt(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},I={a:e,A:n,b:a,B:o,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:ae,m:Kt,M:ie,p:u,S:re,U:Gt,w:Ut,W:Xt,x:l,X:h,y:Qt,Y:$t,Z:Zt,"%":se};return i}function jt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function qt(t){return new RegExp("^(?:"+t.map(so.requote).join("|")+")","i")}function Yt(t){for(var e=new x,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Ut(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Gt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Xt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function $t(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Qt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.y=Jt(+i[0]),n+i[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(68<t?1900:2e3)}function Kt(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ae(t,e,n){ms.lastIndex=0;var i=ms.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=0<e?"-":"+",i=xo(e)/60|0,r=xo(e)%60;return n+jt(i,"0",2)+jt(r,"0",2)}function se(t,e,n){vs.lastIndex=0;var i=vs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function le(i){for(var t=i.length,e=-1;++e<t;)i[e][0]=this(i[e][0]);return function(t){for(var e=0,n=i[e];!n[1](t);)n=i[++e];return n[0](t)}}function he(){}function ue(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function ce(t,e){t&&ws.hasOwnProperty(t.type)&&ws[t.type](t,e)}function fe(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)fe(t[n],e,1);e.polygonEnd()}function pe(){function n(t,e){e=e*Wo/2+No/4;var n=(t*=Wo)-u,i=0<=n?1:-1,r=i*n,a=Math.cos(e),o=Math.sin(e),s=f*o,l=c*a+s*Math.cos(r),h=s*i*Math.sin(r);Ls.add(Math.atan2(h,l)),u=t,c=a,f=o}var i,r,u,c,f;zs.point=function(t,e){zs.point=n,u=(i=t)*Wo,c=Math.cos(e=(r=e)*Wo/2+No/4),f=Math.sin(e)},zs.lineEnd=function(){n(i,r)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function xe(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function ke(t,e){return xo(t[0]-e[0])<zo&&xo(t[1]-e[1])<zo}function Me(t,e){t*=Wo;var n=Math.cos(e*=Wo);Se(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Se(t,e,n){_s+=(t-_s)/++Ms,Cs+=(e-Cs)/Ms,As+=(n-As)/Ms}function _e(){function i(t,e){t*=Wo;var n=Math.cos(e*=Wo),i=n*Math.cos(t),r=n*Math.sin(t),a=Math.sin(e),o=Math.atan2(Math.sqrt((o=l*a-h*r)*o+(o=h*i-s*a)*o+(o=s*r-l*i)*o),s*i+l*r+h*a);Ss+=o,Ts+=o*(s+(s=i)),Is+=o*(l+(l=r)),Ps+=o*(h+(h=a)),Se(s,l,h)}var s,l,h;Rs.point=function(t,e){t*=Wo;var n=Math.cos(e*=Wo);s=n*Math.cos(t),l=n*Math.sin(t),h=Math.sin(e),Rs.point=i,Se(s,l,h)}}function Ce(){Rs.point=Me}function Ae(){function i(t,e){t*=Wo;var n=Math.cos(e*=Wo),i=n*Math.cos(t),r=n*Math.sin(t),a=Math.sin(e),o=p*a-g*r,s=g*i-d*a,l=d*r-p*i,h=Math.sqrt(o*o+s*s+l*l),u=d*i+p*r+g*a,c=h&&-tt(u)/h,f=Math.atan2(h,u);Ds+=c*o,Es+=c*s,Fs+=c*l,Ss+=f,Ts+=f*(d+(d=i)),Is+=f*(p+(p=r)),Ps+=f*(g+(g=a)),Se(d,p,g)}var r,a,d,p,g;Rs.point=function(t,e){r=t,a=e,Rs.point=i,t*=Wo;var n=Math.cos(e*=Wo);d=n*Math.cos(t),p=n*Math.sin(t),g=Math.sin(e),Se(d,p,g)},Rs.lineEnd=function(){i(r,a),Rs.lineEnd=Ce,Rs.point=Me}}function Te(n,i){function t(t,e){return t=n(t,e),i(t[0],t[1])}return n.invert&&i.invert&&(t.invert=function(t,e){return(t=i.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ie(){return!0}function Pe(t,e,n,i,s){var l=[],h=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(ke(n,i)){s.lineStart();for(var r=0;r<e;++r)s.point((n=t[r])[0],n[1]);s.lineEnd()}else{var a=new Ee(n,t,null,!0),o=new Ee(n,null,a,!1);a.o=o,l.push(a),h.push(o),o=new Ee(i,null,a=new Ee(i,t,null,!1),!0),a.o=o,l.push(a),h.push(o)}}}),h.sort(e),De(l),De(h),l.length){for(var r=0,a=n,o=h.length;r<o;++r)h[r].e=a=!a;for(var u,c,f=l[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;u=d.z,s.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(r=0,o=u.length;r<o;++r)s.point((c=u[r])[0],c[1]);else i(d.x,d.n.x,1,s);d=d.n}else{if(p)for(r=(u=d.p.z).length-1;0<=r;--r)s.point((c=u[r])[0],c[1]);else i(d.x,d.p.x,-1,s);d=d.p}u=(d=d.o).z,p=!p}while(!d.v);s.lineEnd()}}}function De(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ee(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Fe(x,y,b,w){return function(i,o){function e(t,e){var n=i(t,e);x(t=n[0],e=n[1])&&o.point(t,e)}function t(t,e){var n=i(t,e);f.point(n[0],n[1])}function n(){p.point=t,f.lineStart()}function r(){p.point=e,f.lineEnd()}function s(t,e){c.push([t,e]);var n=i(t,e);m.point(n[0],n[1])}function a(){m.lineStart(),c=[]}function l(){s(c[0][0],c[0][1]),m.lineEnd();var t,e=m.clean(),n=g.buffer(),i=n.length;if(c.pop(),u.push(c),c=null,i)if(1&e){var r,a=-1;if(0<(i=(t=n[0]).length-1)){for(v||(o.polygonStart(),v=!0),o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}}else 1<i&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Le))}var h,u,c,f=y(o),d=i.invert(w[0],w[1]),p={point:e,lineStart:n,lineEnd:r,polygonStart:function(){p.point=s,p.lineStart=a,p.lineEnd=l,h=[],u=[]},polygonEnd:function(){p.point=e,p.lineStart=n,p.lineEnd=r,h=so.merge(h);var t=He(d,u);h.length?(v||(o.polygonStart(),v=!0),Pe(h,Re,t,b,o)):t&&(v||(o.polygonStart(),v=!0),o.lineStart(),b(null,null,1,o),o.lineEnd()),v&&(o.polygonEnd(),v=!1),h=u=null},sphere:function(){o.polygonStart(),o.lineStart(),b(null,null,1,o),o.lineEnd(),o.polygonEnd()}},g=ze(),m=y(g),v=!1;return p}}function Le(t){return 1<t.length}function ze(){var n,e=[];return{lineStart:function(){e.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var t=e;return e=[],n=null,t},rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))}}}function Re(t,e){return((t=t.x)[0]<0?t[1]-Ho-zo:Ho-t[1])-((e=e.x)[0]<0?e[1]-Ho-zo:Ho-e[1])}function Ne(r){var a,o=NaN,s=NaN,l=NaN;return{lineStart:function(){r.lineStart(),a=1},point:function(t,e){var n=0<t?No:-No,i=xo(t-o);xo(i-No)<zo?(r.point(o,s=0<(s+e)/2?Ho:-Ho),r.point(l,s),r.lineEnd(),r.lineStart(),r.point(n,s),r.point(t,s),a=0):l!==n&&No<=i&&(xo(o-l)<zo&&(o-=l*zo),xo(t-n)<zo&&(t-=n*zo),s=Oe(o,s,t,e),r.point(l,s),r.lineEnd(),r.lineStart(),r.point(n,s),a=0),r.point(o=t,s=e),l=n},lineEnd:function(){r.lineEnd(),o=s=NaN},clean:function(){return 2-a}}}function Oe(t,e,n,i){var r,a,o=Math.sin(t-n);return xo(o)>zo?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}function Be(t,e,n,i){var r;if(null==t)r=n*Ho,i.point(-No,r),i.point(0,r),i.point(No,r),i.point(No,0),i.point(No,-r),i.point(0,-r),i.point(-No,-r),i.point(-No,0),i.point(-No,r);else if(xo(t[0]-e[0])>zo){var a=t[0]<e[0]?No:-No;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function He(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Ls.reset();for(var s=0,l=e.length;s<l;++s){var h=e[s],u=h.length;if(u)for(var c=h[0],f=c[0],d=c[1]/2+No/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===u&&(m=0);var v=(t=h[m])[0],x=t[1]/2+No/4,y=Math.sin(x),b=Math.cos(x),w=v-f,k=0<=w?1:-1,M=k*w,S=No<M,_=p*y;if(Ls.add(Math.atan2(_*k*Math.sin(M),g*b+_*Math.cos(M))),a+=S?w+k*Oo:w,S^n<=f^n<=v){var C=ve(ge(c),ge(t));be(C);var A=ve(r,C);be(A);var T=(S^0<=w?-1:1)*et(A[2]);(T<i||i===T&&(C[0]||C[1]))&&(o+=S^0<=w?1:-1)}if(!m++)break;f=v,p=y,g=b,c=t}}return(a<-zo||a<zo&&Ls<0)^1&o}function We(r){function d(t,e){return Math.cos(t)*Math.cos(e)>C}function t(s){var l,h,u,c,f;return{lineStart:function(){c=u=!1,f=1},point:function(t,e){var n,i=[t,e],r=d(t,e),a=m?r?0:g(t,e):r?g(t+(t<0?No:-No),e):0;if(!l&&(c=u=r)&&s.lineStart(),r!==u&&(n=p(l,i),(ke(l,n)||ke(i,n))&&(i[0]+=zo,i[1]+=zo,r=d(i[0],i[1]))),r!==u)f=0,r?(s.lineStart(),n=p(i,l),s.point(n[0],n[1])):(n=p(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(v&&l&&m^r){var o;a&h||!(o=p(i,l,!0))||(f=0,m?(s.lineStart(),s.point(o[0][0],o[0][1]),s.point(o[1][0],o[1][1]),s.lineEnd()):(s.point(o[1][0],o[1][1]),s.lineEnd(),s.lineStart(),s.point(o[0][0],o[0][1])))}!r||l&&ke(l,i)||s.point(i[0],i[1]),l=i,u=r,h=a},lineEnd:function(){u&&s.lineEnd(),l=null},clean:function(){return f|(c&&u)<<1}}}function p(t,e,n){var i=[1,0,0],r=ve(ge(t),ge(e)),a=me(r,r),o=r[0],s=a-o*o;if(!s)return!n&&t;var l=C*a/s,h=-C*o/s,u=ve(i,r),c=ye(i,l);xe(c,ye(r,h));var f=u,d=me(c,f),p=me(f,f),g=d*d-p*(me(c,c)-1);if(!(g<0)){var m=Math.sqrt(g),v=ye(f,(-d-m)/p);if(xe(v,c),v=we(v),!n)return v;var x,y=t[0],b=e[0],w=t[1],k=e[1];b<y&&(x=y,y=b,b=x);var M=b-y,S=xo(M-No)<zo;if(!S&&k<w&&(x=w,w=k,k=x),S||M<zo?S?0<w+k^v[1]<(xo(v[0]-y)<zo?w:k):w<=v[1]&&v[1]<=k:No<M^(y<=v[0]&&v[0]<=b)){var _=ye(f,(-d+m)/p);return xe(_,c),[v,we(_)]}}}function g(t,e){var n=m?r:No-r,i=0;return t<-n?i|=1:n<t&&(i|=2),e<-n?i|=4:n<e&&(i|=8),i}var C=Math.cos(r),m=0<C,v=xo(C)>zo;return Fe(d,t,gn(r,6*Wo),m?[0,-r]:[-No,r-No])}function Ve(u,c,f,d){return function(t){var e,n=t.a,i=t.b,r=n.x,a=n.y,o=0,s=1,l=i.x-r,h=i.y-a;if(e=u-r,l||!(0<e)){if(e/=l,l<0){if(e<o)return;e<s&&(s=e)}else if(0<l){if(s<e)return;o<e&&(o=e)}if(e=f-r,l||!(e<0)){if(e/=l,l<0){if(s<e)return;o<e&&(o=e)}else if(0<l){if(e<o)return;e<s&&(s=e)}if(e=c-a,h||!(0<e)){if(e/=h,h<0){if(e<o)return;e<s&&(s=e)}else if(0<h){if(s<e)return;o<e&&(o=e)}if(e=d-a,h||!(e<0)){if(e/=h,h<0){if(s<e)return;o<e&&(o=e)}else if(0<h){if(e<o)return;e<s&&(s=e)}return 0<o&&(t.a={x:r+o*l,y:a+o*h}),s<1&&(t.b={x:r+s*l,y:a+s*h}),t}}}}}}function je(M,S,_,C){function A(t,e){return xo(t[0]-M)<zo?0<e?0:3:xo(t[0]-_)<zo?0<e?2:1:xo(t[1]-S)<zo?0<e?1:0:0<e?3:2}function T(t,e){return I(t.x,e.x)}function I(t,e){var n=A(t,1),i=A(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){function i(t){for(var e=0,n=u.length,i=t[1],r=0;r<n;++r)for(var a,o=1,s=u[r],l=s.length,h=s[0];o<l;++o)a=s[o],h[1]<=i?a[1]>i&&0<K(h,a,t)&&++e:a[1]<=i&&K(h,a,t)<0&&--e,h=a;return 0!==e}function a(t,e,n,i){var r=0,a=0;if(null==t||(r=A(t,n))!==(a=A(e,n))||I(t,e)<0^0<n)for(;i.point(0===r||3===r?M:_,1<r?C:S),(r=(r+n+4)%4)!==a;);else i.point(e[0],e[1])}function o(t,e){return M<=t&&t<=_&&S<=e&&e<=C}function t(t,e){o(t,e)&&r.point(t,e)}function e(){k.point=s,u&&u.push(h=[]),v=!0,m=!1,p=g=NaN}function n(){l&&(s(c,f),d&&m&&b.rejoin(),l.push(b.buffer())),k.point=t,m&&r.lineEnd()}function s(t,e){var n=o(t=Math.max(-Os,Math.min(Os,t)),e=Math.max(-Os,Math.min(Os,e)));if(u&&h.push([t,e]),v)c=t,f=e,v=!1,(d=n)&&(r.lineStart(),r.point(t,e));else if(n&&m)r.point(t,e);else{var i={a:{x:p,y:g},b:{x:t,y:e}};w(i)?(m||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),x=!1):n&&(r.lineStart(),r.point(t,e),x=!1)}p=t,g=e,m=n}var l,u,h,c,f,d,p,g,m,v,x,y=r,b=ze(),w=Ve(M,S,_,C),k={point:t,lineStart:e,lineEnd:n,polygonStart:function(){r=b,l=[],u=[],x=!0},polygonEnd:function(){r=y,l=so.merge(l);var t=i([M,C]),e=x&&t,n=l.length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),a(null,null,1,r),r.lineEnd()),n&&Pe(l,T,t,a,r),r.polygonEnd()),l=u=h=null}};return k}}function qe(t){var e=0,n=No/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*No/180,n=t[1]*No/180):[e/No*180,n/No*180]},r}function Ye(t,e){function n(t,e){
var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,et((a-(t*t+n*n)*r*r)/(2*r))]},n}function Ue(){function n(t,e){Hs+=o*t-a*e,a=t,o=e}var i,r,a,o;Us.point=function(t,e){Us.point=n,i=a=t,r=o=e},Us.lineEnd=function(){n(i,r)}}function Ge(t,e){t<Ws&&(Ws=t),js<t&&(js=t),e<Vs&&(Vs=e),qs<e&&(qs=e)}function Xe(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function i(){s.point=t}function r(){o.push("Z")}var a=$e(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=$e(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function $e(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qe(t,e){_s+=t,Cs+=e,++As}function Ze(){function n(t,e){var n=t-a,i=e-o,r=Math.sqrt(n*n+i*i);Ts+=r*(a+t)/2,Is+=r*(o+e)/2,Ps+=r,Qe(a=t,o=e)}var a,o;Xs.point=function(t,e){Xs.point=n,Qe(a=t,o=e)}}function Je(){Xs.point=Qe}function Ke(){function n(t,e){var n=t-a,i=e-o,r=Math.sqrt(n*n+i*i);Ts+=r*(a+t)/2,Is+=r*(o+e)/2,Ps+=r,Ds+=(r=o*t-a*e)*(a+t),Es+=r*(o+e),Fs+=3*r,Qe(a=t,o=e)}var i,r,a,o;Xs.point=function(t,e){Xs.point=n,Qe(i=a=t,r=o=e)},Xs.lineEnd=function(){n(i,r)}}function tn(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,Oo)}function e(t,e){n.moveTo(t,e),s.point=i}function i(t,e){n.lineTo(t,e)}function r(){s.point=t}function a(){n.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=t,s},result:b};return s}function en(I){function e(t){return(w?i:n)(t)}function n(n){return an(n,function(t,e){t=I(t,e),n.point(t[0],t[1])})}function i(r){function t(t,e){t=I(t,e),r.point(t[0],t[1])}function e(){g=NaN,b.point=n,r.lineStart()}function n(t,e){var n=ge([t,e]),i=I(t,e);P(g,m,p,v,x,y,g=i[0],m=i[1],p=t,v=n[0],x=n[1],y=n[2],w,r),r.point(g,m)}function i(){b.point=t,r.lineEnd()}function a(){e(),b.point=o,b.lineEnd=s}function o(t,e){n(l=t,e),h=g,u=m,c=v,f=x,d=y,b.point=n}function s(){P(g,m,p,v,x,y,h,u,l,c,f,d,w,r),(b.lineEnd=i)()}var l,h,u,c,f,d,p,g,m,v,x,y,b={point:t,lineStart:e,lineEnd:i,polygonStart:function(){r.polygonStart(),b.lineStart=a},polygonEnd:function(){r.polygonEnd(),b.lineStart=e}};return b}function P(t,e,n,i,r,a,o,s,l,h,u,c,f,d){var p=o-t,g=s-e,m=p*p+g*g;if(4*D<m&&f--){var v=i+h,x=r+u,y=a+c,b=Math.sqrt(v*v+x*x+y*y),w=Math.asin(y/=b),k=xo(xo(y)-1)<zo||xo(n-l)<zo?(n+l)/2:Math.atan2(x,v),M=I(k,w),S=M[0],_=M[1],C=S-t,A=_-e,T=g*C-p*A;(D<T*T/m||.3<xo((p*C+g*A)/m-.5)||i*h+r*u+a*c<E)&&(P(t,e,n,i,r,a,S,_,k,v/=b,x/=b,y,f,d),d.point(S,_),P(S,_,k,v,x,y,o,s,l,h,u,c,f,d))}}var D=.5,E=Math.cos(30*Wo),w=16;return e.precision=function(t){return arguments.length?(w=0<(D=t*t)&&16,e):Math.sqrt(D)},e}function nn(n){var e=en(function(t,e){return n([t*Vo,e*Vo])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function an(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return sn(function(){return t})()}function sn(t){function e(t){return[(t=s(t[0]*Wo,t[1]*Wo))[0]*f+l,h-t[1]*f]}function n(t){return(t=s.invert((t[0]-l)/f,(h-t[1])/f))&&[t[0]*Vo,t[1]*Vo]}function i(){s=Te(o=cn(v,x,y),a);var t=a(g,m);return l=d-t[0]*f,h=p+t[1]*f,r()}function r(){return u&&(u.valid=!1,u=null),e}var a,o,s,l,h,u,c=en(function(t,e){return[(t=a(t,e))[0]*f+l,h-t[1]*f]}),f=150,d=480,p=250,g=0,m=0,v=0,x=0,y=0,b=Ns,w=z,k=null,M=null;return e.stream=function(t){return u&&(u.valid=!1),(u=ln(b(o,c(w(t))))).valid=!0,u},e.clipAngle=function(t){return arguments.length?(b=null==t?(k=t,Ns):We((k=+t)*Wo),r()):k},e.clipExtent=function(t){return arguments.length?(w=(M=t)?je(t[0][0],t[0][1],t[1][0],t[1][1]):z,r()):M},e.scale=function(t){return arguments.length?(f=+t,i()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Wo,m=t[1]%360*Wo,i()):[g*Vo,m*Vo]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Wo,x=t[1]%360*Wo,y=2<t.length?t[2]%360*Wo:0,i()):[v*Vo,x*Vo,y*Vo]},so.rebind(e,c,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function ln(n){return an(n,function(t,e){n.point(t*Wo,e*Wo)})}function hn(t,e){return[t,e]}function un(t,e){return[No<t?t-Oo:t<-No?t+Oo:t,e]}function cn(t,e,n){return t?e||n?Te(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):un}function fn(n){return function(t,e){return[No<(t+=n)?t-Oo:t<-No?t+Oo:t,e]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,a=Math.sin(e),o=a*s+i*l;return[Math.atan2(r*h-o*u,i*s-a*l),et(o*h+r*u)]}var s=Math.cos(t),l=Math.sin(t),h=Math.cos(e),u=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),i=Math.cos(t)*n,r=Math.sin(t)*n,a=Math.sin(e),o=a*h-r*u;return[Math.atan2(r*h+a*u,i*s+o*l),et(o*s-i*l)]},n}function gn(s,l){var h=Math.cos(s),u=Math.sin(s);return function(t,e,n,i){var r=n*l;null!=t?(t=mn(h,t),e=mn(h,e),(0<n?t<e:e<t)&&(t+=n*Oo)):(t=s+n*Oo,e=s-.5*r);for(var a,o=t;0<n?e<o:o<e;o-=r)i.point((a=we([h,-u*Math.cos(o),-u*Math.sin(o)]))[0],a[1])}}function mn(t,e){var n=ge(e);n[0]-=t,be(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-zo)%(2*Math.PI)}function vn(t,e,n){var i=so.range(t,e-zo,n).concat(e);return function(e){return i.map(function(t){return[e,t]})}}function xn(t,e,n){var i=so.range(t,e-zo,n).concat(e);return function(e){return i.map(function(t){return[t,e]})}}function yn(t){return t.source}function bn(t){return t.target}function wn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(t),h=r*Math.sin(t),u=a*Math.cos(n),c=a*Math.sin(n),f=2*Math.asin(Math.sqrt(at(i-e)+r*a*at(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,i=n*l+e*u,r=n*h+e*c,a=n*o+e*s;return[Math.atan2(r,i)*Vo,Math.atan2(a,Math.sqrt(i*i+r*r))*Vo]}:function(){return[t*Vo,e*Vo]};return p.distance=f,p}function kn(){function n(t,e){var n=Math.sin(e*=Wo),i=Math.cos(e),r=xo((t*=Wo)-o),a=Math.cos(r);Ys+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=l*n-s*i*a)*r),s*n+l*i*a),o=t,s=n,l=i}var o,s,l;$s.point=function(t,e){o=t*Wo,s=Math.sin(e*=Wo),l=Math.cos(e),$s.point=n},$s.lineEnd=function(){$s.point=$s.lineEnd=b}}function Mn(a,o){function t(t,e){var n=Math.cos(t),i=Math.cos(e),r=a(n*i);return[r*i*Math.sin(t),r*Math.sin(e)]}return t.invert=function(t,e){var n=Math.sqrt(t*t+e*e),i=o(n),r=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*r,n*a),Math.asin(n&&e*r/n)]},t}function Sn(t,e){function n(t,e){0<o?e<-Ho+zo&&(e=-Ho+zo):Ho-zo<e&&(e=Ho-zo);var n=o/Math.pow(r(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var i=Math.cos(t),r=function(t){return Math.tan(No/4+t/2)},a=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,i=J(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/i,1/a))-Ho]},n):Cn}function _n(t,e){function n(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),a=i/r+t;return xo(r)<zo?hn:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-J(r)*Math.sqrt(t*t+n*n)]},n)}function Cn(t,e){return[t,Math.log(Math.tan(No/4+e/2))]}function An(t){var r,a=on(t),o=a.scale,s=a.translate,l=a.clipExtent;return a.scale=function(){var t=o.apply(a,arguments);return t===a?r?a.clipExtent(null):a:t},a.translate=function(){var t=s.apply(a,arguments);return t===a?r?a.clipExtent(null):a:t},a.clipExtent=function(t){var e=l.apply(a,arguments);if(e===a){if(r=null==t){var n=No*o(),i=s();l([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(e=null);return e},a.clipExtent(null)}function Tn(t,e){return[Math.log(Math.tan(No/4+e/2)),-t]}function In(t){return t[0]}function Pn(t){return t[1]}function Dn(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;1<i&&K(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function En(t,e){return t[0]-e[0]||t[1]-e[1]}function Fn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ln(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,l=t[1],h=n[1],u=e[1]-l,c=i[1]-h,f=(s*(l-h)-c*(r-a))/(c*o-s*u);return[r+f*o,l+f*u]}function zn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Rn(){ii(this),this.edge=this.site=this.circle=null}function Nn(t){var e=sl.pop()||new Rn;return e.site=t,e}function On(t){Xn(t),rl.remove(t),sl.push(t),ii(t)}function Bn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];On(t);for(var l=a;l.circle&&xo(n-l.circle.x)<zo&&xo(i-l.circle.cy)<zo;)a=l.P,s.unshift(l),On(l),l=a;s.unshift(l),Xn(l);for(var h=o;h.circle&&xo(n-h.circle.x)<zo&&xo(i-h.circle.cy)<zo;)o=h.N,s.push(h),On(h),h=o;s.push(h),Xn(h);var u,c=s.length;for(u=1;u<c;++u)h=s[u],l=s[u-1],ti(h.edge,l.site,h.site,r);l=s[0],(h=s[c-1]).edge=Jn(l.site,h.site,null,r),Gn(l),Gn(h)}function Hn(t){for(var e,n,i,r,a=t.x,o=t.y,s=rl._;s;)if(i=Wn(s,o)-a,zo<i)s=s.L;else{if(r=a-Vn(s,o),!(zo<r)){-zo<i?(e=s.P,n=s):-zo<r?n=(e=s).N:e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Nn(t);if(rl.insert(e,l),e||n){if(e===n)return Xn(e),n=Nn(e.site),rl.insert(l,n),l.edge=n.edge=Jn(e.site,l.site),Gn(e),void Gn(n);if(n){Xn(e),Xn(n);var h=e.site,u=h.x,c=h.y,f=t.x-u,d=t.y-c,p=n.site,g=p.x-u,m=p.y-c,v=2*(f*m-d*g),x=f*f+d*d,y=g*g+m*m,b={x:(m*x-d*y)/v+u,y:(f*y-g*x)/v+c};ti(n.edge,h,p,b),l.edge=Jn(h,t,null,b),n.edge=Jn(t,p,null,b),Gn(e),Gn(n)}else l.edge=Jn(e.site,l.site)}}function Wn(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-Infinity;var s=(n=o.site).x,l=n.y,h=l-e;if(!h)return s;var u=s-i,c=1/a-1/h,f=u/h;return c?(-f+Math.sqrt(f*f-2*c*(u*u/(-2*h)-l+h/2+r-a/2)))/c+i:(i+s)/2}function Vn(t,e){var n=t.N;if(n)return Wn(n,e);var i=t.site;return i.y===e?i.x:Infinity}function jn(t){this.site=t,this.edges=[]}function qn(t){for(var e,n,i,r,a,o,s,l,h,u,c=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=il,m=g.length;m--;)if((a=g[m])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)i=(u=s[o].end()).x,r=u.y,e=(h=s[++o%l].start()).x,n=h.y,(xo(i-e)>zo||xo(r-n)>zo)&&(s.splice(o,0,new ei(Kn(a.site,u,xo(i-c)<zo&&zo<p-r?{x:c,y:xo(e-c)<zo?n:p}:xo(r-p)<zo&&zo<f-i?{x:xo(n-p)<zo?e:f,y:p}:xo(i-f)<zo&&zo<r-d?{x:f,y:xo(e-f)<zo?n:d}:xo(r-d)<zo&&zo<i-c?{x:xo(n-d)<zo?e:c,y:d}:null),a.site,null)),++l)}function Yn(t,e){return e.angle-t.angle}function Un(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,l=i.x-o,h=i.y-s,u=a.x-o,c=2*(l*(m=a.y-s)-h*u);if(!(-Ro<=c)){var f=l*l+h*h,d=u*u+m*m,p=(m*f-h*d)/c,g=(l*d-u*f)/c,m=g+s,v=ll.pop()||new Un;v.arc=t,v.site=r,v.x=p+o,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var x=null,y=ol._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){x=y.P;break}y=y.L}else{if(!y.R){x=y;break}y=y.R}ol.insert(x,v),x||(al=v)}}}}function Xn(t){var e=t.circle;e&&(e.P||(al=e.N),ol.remove(e),ll.push(e),ii(e),t.circle=null)}function $n(t){for(var e,n=nl,i=Ve(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)(!Qn(e=n[r],t)||!i(e)||xo(e.a.x-e.b.x)<zo&&xo(e.a.y-e.b.y)<zo)&&(e.a=e.b=null,n.splice(r,1))}function Qn(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],h=e[1][1],u=t.l,c=t.r,f=u.x,d=u.y,p=c.x,g=c.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(m<o||s<=m)return;if(p<f){if(a){if(a.y>=h)return}else a={x:m,y:l};n={x:m,y:h}}else{if(a){if(a.y<l)return}else a={x:m,y:h};n={x:m,y:l}}}else if(r=v-(i=(f-p)/(g-d))*m,i<-1||1<i)if(p<f){if(a){if(a.y>=h)return}else a={x:(l-r)/i,y:l};n={x:(h-r)/i,y:h}}else{if(a){if(a.y<l)return}else a={x:(h-r)/i,y:h};n={x:(l-r)/i,y:l}}else if(d<g){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,i){var r=new Zn(t,e);return nl.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),il[t.i].edges.push(new ei(r,t,e)),il[e.i].edges.push(new ei(r,e,t)),r}function Kn(t,e,n){var i=new Zn(t,null);return i.a=e,i.b=n,nl.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ai(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function oi(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,a=t.sort(li).pop();for(nl=[],il=new Array(t.length),rl=new ni,ol=new ni;;)if(r=al,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(il[a.i]=new jn(a),Hn(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;Bn(r.arc)}e&&($n(e),qn(e));var o={cells:il,edges:nl};return rl=ol=nl=il=null,o}function li(t,e){return e.y-t.y||e.x-t.x}function hi(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ui(t){return t.x}function ci(t){return t.y}function fi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),l=e.nodes;l[0]&&di(t,l[0],n,i,o,s),l[1]&&di(t,l[1],o,i,r,s),l[2]&&di(t,l[2],n,s,o,a),l[3]&&di(t,l[3],o,s,r,a)}}function pi(e,m,v,x,y,b,w){var k,M=Infinity;return function t(e,n,i,r,a){if(!(b<n||w<i||r<x||a<y)){if(o=e.point){var o,s=m-e.x,l=v-e.y,h=s*s+l*l;if(h<M){var u=Math.sqrt(M=h);x=m-u,y=v-u,b=m+u,w=v+u,k=o}}for(var c=e.nodes,f=.5*(n+r),d=.5*(i+a),p=(d<=v)<<1|f<=m,g=p+4;p<g;++p)if(e=c[3&p])switch(3&p){case 0:t(e,n,i,f,d);break;case 1:t(e,f,i,r,d);break;case 2:t(e,n,d,f,a);break;case 3:t(e,f,d,r,a)}}}(e,x,y,b,w),k}function gi(t,e){t=so.rgb(t),e=so.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+bt(Math.round(n+a*t))+bt(Math.round(i+o*t))+bt(Math.round(r+s*t))}}function mi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=yi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function vi(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function xi(t,i){var e,n,r,a=ul.lastIndex=cl.lastIndex=0,o=-1,s=[],l=[];for(t+="",i+="";(e=ul.exec(t))&&(n=cl.exec(i));)(r=n.index)>a&&(r=i.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(e=e[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:vi(e,n)})),a=cl.lastIndex;return a<i.length&&(r=i.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?(i=l[0].x,function(t){return i(t)+""}):function(){return i}:(i=l.length,function(t){for(var e,n=0;n<i;++n)s[(e=l[n]).i]=e.x(t);return s.join("")})}function yi(t,e){for(var n,i=so.interpolators.length;0<=--i&&!(n=so.interpolators[i](t,e)););return n}function bi(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(yi(t[n],e[n]));for(;n<a;++n)r[n]=t[n];for(;n<o;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function wi(e){return function(t){return t<=0?0:1<=t?1:e(t)}}function ki(e){return function(t){return 1-e(1-t)}}function Mi(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Si(t){return t*t}function _i(t){return t*t*t}function Ci(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ai(e){return function(t){return Math.pow(t,e)}}function Ti(t){return 1-Math.cos(t*Ho)}function Ii(t){return Math.pow(2,10*(t-1))}function Pi(t){return 1-Math.sqrt(1-t*t)}function Di(e,n){var i;return arguments.length<2&&(n=.45),arguments.length?i=n/Oo*Math.asin(1/e):(e=1,i=n/4),function(t){return 1+e*Math.pow(2,-10*t)*Math.sin((t-i)*Oo/n)}}function Ei(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Fi(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Li(t,e){t=so.hcl(t),e=so.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):180<a?a-=360:a<-180&&(a+=360),function(t){return ut(n+a*t,i+o*t,r+s*t)+""}}function zi(t,e){t=so.hsl(t),e=so.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):180<a?a-=360:a<-180&&(a+=360),function(t){return lt(n+a*t,i+o*t,r+s*t)+""}}function Ri(t,e){t=so.lab(t),e=so.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return ft(n+a*t,i+o*t,r+s*t)+""}}function Ni(e,n){return n-=e,function(t){return Math.round(e+n*t)}}function Oi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Hi(e),r=Bi(e,n),a=Hi(Wi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Vo,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Vo:0}function Bi(t,e){return t[0]*e[0]+t[1]*e[1]}function Hi(t){var e=Math.sqrt(Bi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Wi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Vi(t){return t.length?t.pop()+",":""}function ji(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function qi(t,e,n,i){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),i.push({i:n.push(Vi(n)+"rotate(",null,")")-2,x:vi(t,e)})):e&&n.push(Vi(n)+"rotate("+e+")")}function Yi(t,e,n,i){t!==e?i.push({i:n.push(Vi(n)+"skewX(",null,")")-2,x:vi(t,e)}):e&&n.push(Vi(n)+"skewX("+e+")")}function Ui(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Vi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Vi(n)+"scale("+e+")")}function Gi(t,e){var r=[],a=[];return t=so.transform(t),e=so.transform(e),ji(t.translate,e.translate,r,a),qi(t.rotate,e.rotate,r,a),Yi(t.skew,e.skew,r,a),Ui(t.scale,e.scale,r,a),t=e=null,function(t){for(var e,n=-1,i=a.length;++n<i;)r[(e=a[n]).i]=e.x(t);return r.join("")}}function Xi(e,n){return n=(n-=e=+e)||1/n,function(t){return(t-e)/n}}function $i(e,n){return n=(n-=e=+e)||1/n,function(t){return Math.max(0,Math.min(1,(t-e)/n))}}function Qi(t){for(var e=t.source,n=t.target,i=Ji(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function Zi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),n=(t=n).parent;return e.push(t),e}function Ji(t,e){if(t===e)return t;for(var n=Zi(t),i=Zi(e),r=n.pop(),a=i.pop(),o=null;r===a;)o=r,r=n.pop(),a=i.pop();return o}function Ki(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(ir(a,e,n),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var h=e*n[t.point.index];t.charge+=t.pointCharge=h,i+=h*t.point.x,r+=h*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return so.rebind(t,e,"sort","children","value"),(t.nodes=t).links=ur,t}function ar(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function or(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function lr(t){return t.value}function hr(t,e){return e.value-t.value}function ur(t){return so.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function cr(t){return t.x}function fr(t){return t.y}function dr(t,e,n){t.y0=e,t.y=n}function pr(t){return so.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function mr(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function vr(t){return t.reduce(xr,0)}function xr(t,e){return t+e[1]}function yr(t,e){return br(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function br(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function wr(t){return[so.min(t),so.max(t)]}function kr(t,e){return t.value-e.value}function Mr(t,e){var n=t._pack_next;(t._pack_next=e)._pack_prev=t,(e._pack_next=n)._pack_prev=e}function Sr(t,e){(t._pack_next=e)._pack_prev=t}function _r(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return n*n+i*i<.999*r*r}function Cr(t){function e(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(h=n.length)){var n,i,r,a,o,s,l,h,u=Infinity,c=-Infinity,f=Infinity,d=-Infinity;if(n.forEach(Ar),(i=n[0]).x=-i.r,i.y=0,e(i),1<h&&((r=n[1]).x=r.r,r.y=0,e(r),2<h))for(Pr(i,r,a=n[2]),e(a),Mr(i,a),Mr(i._pack_prev=a,r),r=i._pack_next,o=3;o<h;o++){Pr(i,r,a=n[o]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(_r(s,a)){p=1;break}if(1==p)for(l=i._pack_prev;l!==s._pack_prev&&!_r(l,a);l=l._pack_prev,m++);p?(g<m||g==m&&r.r<i.r?Sr(i,r=s):Sr(i=l,r),o--):(Mr(i,a),e(r=a))}var v=(u+c)/2,x=(f+d)/2,y=0;for(o=0;o<h;o++)(a=n[o]).x-=v,a.y-=x,y=Math.max(y,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=y,n.forEach(Tr)}}function Ar(t){t._pack_next=t._pack_prev=t}function Tr(t){delete t._pack_next,delete t._pack_prev}function Ir(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)Ir(r[a],e,n,i)}function Pr(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a,l=.5+((i*=i)-(o*=o))/(2*s),h=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+l*r+h*a,n.y=t.y+l*a-h*r}else n.x=t.x+i,n.y=t.y}function Dr(t,e){return t.parent==e.parent?1:2}function Er(t){var e=t.children;return e.length?e[0]:t.t}function Fr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Lr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function zr(t){for(var e,n=0,i=0,r=t.children,a=r.length;0<=--a;)(e=r[a]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Rr(t,e,n){return t.a.parent===e.parent?t.a:n}function Nr(t){return 1+so.max(t,function(t){return t.y})}function Or(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Br(t){var e=t.children;return e&&e.length?Br(e[0]):t}function Hr(t){var e,n=t.children;return n&&(e=n.length)?Hr(n[e-1]):t}function Wr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Vr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),a<0&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function jr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function qr(t){return t.rangeExtent?t.rangeExtent():jr(t.range())}function Yr(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function Ur(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function Gr(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:kl}function Xr(n,t,e,i){var r=[],a=[],o=0,s=Math.min(n.length,t.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=s;)r.push(e(n[o-1],n[o])),a.push(i(t[o-1],t[o]));return function(t){var e=so.bisect(n,t,1,s)-1;return a[e](r[e](t))}}function $r(n,i,r,a){function e(){var t=2<Math.min(n.length,i.length)?Xr:Yr,e=a?$i:Xi;return s=t(n,i,e,r),l=t(i,n,e,yi),o}function o(t){return s(t)}var s,l;return o.invert=function(t){return l(t)},o.domain=function(t){return arguments.length?(n=t.map(Number),e()):n},o.range=function(t){return arguments.length?(i=t,e()):i},o.rangeRound=function(t){return o.range(t).interpolate(Ni)},o.clamp=function(t){return arguments.length?(a=t,e()):a},o.interpolate=function(t){return arguments.length?(r=t,e()):r},o.ticks=function(t){return Kr(n,t)},o.tickFormat=function(t,e){return ta(n,t,e)},o.nice=function(t){return Zr(n,t),e()},o.copy=function(){return $r(n,i,r,a)},e()}function Qr(t,e){return so.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Zr(t,e){return Ur(t,Gr(Jr(t,e)[2])),Ur(t,Gr(Jr(t,e)[2])),t}function Jr(t,e){null==e&&(e=10);var n=jr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return a<=.15?r*=10:a<=.35?r*=5:a<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Kr(t,e){return so.range.apply(so,Jr(t,e))}function ta(t,e,n){var i=Jr(t,e);if(n){var r=us.exec(n);if(r.shift(),"s"===r[8]){var a=so.formatPrefix(Math.max(xo(i[0]),xo(i[1])));return r[7]||(r[7]="."+ea(a.scale(i[2]))),r[8]="f",n=so.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+na(r[8],i)),n=r.join("")}else n=",."+ea(i[2])+"f";return so.format(n)}function ea(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function na(t,e){var n=ea(e[2]);return t in Ml?Math.abs(n-ea(Math.max(xo(e[0]),xo(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ia(e,l,h,u){function c(t){return(h?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(l)}function f(t){return h?Math.pow(l,t):-Math.pow(l,-t)}function r(t){return e(c(t))}return r.invert=function(t){return f(e.invert(t))},r.domain=function(t){return arguments.length?(h=0<=t[0],e.domain((u=t.map(Number)).map(c)),r):u},r.base=function(t){return arguments.length?(l=+t,e.domain(u.map(c)),r):l},r.nice=function(){var t=Ur(u.map(c),h?Math:_l);return e.domain(t),u=t.map(f),r},r.ticks=function(){var t=jr(u),e=[],n=t[0],i=t[1],r=Math.floor(c(n)),a=Math.ceil(c(i)),o=l%1?2:l;if(isFinite(a-r)){if(h){for(;r<a;r++)for(var s=1;s<o;s++)e.push(f(r)*s);e.push(f(r))}else for(e.push(f(r));r++<a;)for(s=o-1;0<s;s--)e.push(f(r)*s);for(r=0;e[r]<n;r++);for(a=e.length;e[a-1]>i;a--);e=e.slice(r,a)}return e},r.tickFormat=function(t,n){if(!arguments.length)return Sl;arguments.length<2?n=Sl:"function"!=typeof n&&(n=so.format(n));var i=Math.max(1,l*t/r.ticks().length);return function(t){var e=t/f(Math.round(c(t)));return e*l<l-.5&&(e*=l),e<=i?n(t):""}},r.copy=function(){return ia(e.copy(),l,h,u)},Qr(r,e)}function ra(e,n,i){function r(t){return e(a(t))}var a=aa(n),o=aa(1/n);return r.invert=function(t){return o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((i=t.map(Number)).map(a)),r):i},r.ticks=function(t){return Kr(i,t)},r.tickFormat=function(t,e){return ta(i,t,e)},r.nice=function(t){return r.domain(Zr(i,t))},r.exponent=function(t){return arguments.length?(a=aa(n=t),o=aa(1/n),e.domain(i.map(a)),r):n},r.copy=function(){return ra(e.copy(),n,i)},Qr(r,e)}function aa(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oa(s,l){function h(t){return c[((r.get(t)||("range"===l.t?r.set(t,s.push(t)):NaN))-1)%c.length]}function u(e,n){return so.range(s.length).map(function(t){return e+n*t})}var r,c,f;return h.domain=function(t){if(!arguments.length)return s;s=[],r=new x;for(var e,n=-1,i=t.length;++n<i;)r.has(e=t[n])||r.set(e,s.push(e));return h[l.t].apply(h,l.a)},h.range=function(t){return arguments.length?(c=t,f=0,l={t:"range",a:arguments},h):c},h.rangePoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+e);return c=u(n+r*e/2,r),f=0,l={t:"rangePoints",a:arguments},h},h.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var n=t[0],i=t[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+e)|0;return c=u(n+Math.round(r*e/2+(i-n-(s.length-1+e)*r)/2),r),f=0,l={t:"rangeRoundPoints",a:arguments},h},h.rangeBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],a=(t[1-i]-r)/(s.length-e+2*n);return c=u(r+a*n,a),i&&c.reverse(),f=a*(1-e),l={t:"rangeBands",a:arguments},h},h.rangeRoundBands=function(t,e,n){arguments.length<2&&(e=0),arguments.length<3&&(n=e);var i=t[1]<t[0],r=t[i-0],a=t[1-i],o=Math.floor((a-r)/(s.length-e+2*n));return c=u(r+Math.round((a-r-(s.length-e)*o)/2),o),i&&c.reverse(),f=Math.round(o*(1-e)),l={t:"rangeRoundBands",a:arguments},h},h.rangeBand=function(){return f},h.rangeExtent=function(){return jr(l.a[0])},h.copy=function(){return oa(s,l)},h.domain(s)}function sa(n,i){function e(){var t=0,e=i.length;for(a=[];++t<e;)a[t-1]=so.quantile(n,t/e);return r}function r(t){if(!isNaN(t=+t))return i[so.bisect(a,t)]}var a;return r.domain=function(t){return arguments.length?(n=t.map(h).filter(u).sort(o),e()):n},r.range=function(t){return arguments.length?(i=t,e()):i},r.quantiles=function(){return a},r.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[0<t?a[t-1]:n[0],t<a.length?a[t]:n[n.length-1]]},r.copy=function(){return sa(n,i)},e()}function la(e,n,i){function t(t){return i[Math.max(0,Math.min(o,Math.floor(a*(t-e))))]}function r(){return a=i.length/(n-e),o=i.length-1,t}var a,o;return t.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],r()):[e,n]},t.range=function(t){return arguments.length?(i=t,r()):i},t.invertExtent=function(t){return[t=(t=i.indexOf(t))<0?NaN:t/a+e,t+1/a]},t.copy=function(){return la(e,n,i)},r()}function ha(e,n){function i(t){if(t<=t)return n[so.bisect(e,t)]}return i.domain=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},i.copy=function(){return ha(e,n)},i}function ua(n){function e(t){return+t}return(e.invert=e).domain=e.range=function(t){return arguments.length?(n=t.map(e),e):n},e.ticks=function(t){return Kr(n,t)},e.tickFormat=function(t,e){return ta(n,t,e)},e.copy=function(){return ua(n)},e}function ca(){return 0}function fa(t){return t.innerRadius}function da(t){return t.outerRadius}function pa(t){return t.startAngle}function ga(t){return t.endAngle}function ma(t){return t&&t.padAngle}function va(t,e,n,i){return 0<(t-n)*e-(e-i)*t?0:1}function xa(t,e,n,i,r){var a=t[0]-e[0],o=t[1]-e[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),l=s*o,h=-s*a,u=t[0]+l,c=t[1]+h,f=e[0]+l,d=e[1]+h,p=(u+f)/2,g=(c+d)/2,m=f-u,v=d-c,x=m*m+v*v,y=n-i,b=u*d-f*c,w=(v<0?-1:1)*Math.sqrt(Math.max(0,y*y*x-b*b)),k=(b*v-m*w)/x,M=(-b*m-v*w)/x,S=(b*v+m*w)/x,_=(-b*m+v*w)/x,C=k-p,A=M-g,T=S-p,I=_-g;return T*T+I*I<C*C+A*A&&(k=S,M=_),[[k-l,M-h],[k*n/y,M*n/y]]}function ya(h){function e(t){function e(){i.push("M",d(h(r),p))}for(var n,i=[],r=[],a=-1,o=t.length,s=Ct(u),l=Ct(c);++a<o;)f.call(this,n=t[a],a)?r.push([+s.call(this,n,a),+l.call(this,n,a)]):r.length&&(e(),r=[]);return r.length&&e(),i.length?i.join(""):null}var u=In,c=Pn,f=Ie,d=ba,n=d.key,p=.7;return e.x=function(t){return arguments.length?(u=t,e):u},e.y=function(t){return arguments.length?(c=t,e):c},e.defined=function(t){return arguments.length?(f=t,e):f},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?d=t:(d=Dl.get(t)||ba).key,e):n},e.tension=function(t){return arguments.length?(p=t,e):p},e}function ba(t){return 1<t.length?t.join("L"):t+"Z"}function wa(t){return t.join("L")+"Z"}function ka(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return 1<n&&r.push("H",i[0]),r.join("")}function Ma(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Sa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function _a(t,e){return t.length<4?ba(t):t[1]+Ta(t.slice(1,-1),Ia(t,e))}function Ca(t,e){return t.length<3?wa(t):t[0]+Ta((t.push(t[0]),t),Ia([t[t.length-2]].concat(t,[t[1]]),e))}function Aa(t,e){return t.length<3?ba(t):t[0]+Ta(t,Ia(t,e))}function Ta(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ba(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],l=2),1<e.length){s=e[1],a=t[l],l++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var h=2;h<e.length;h++,l++)a=t[l],s=e[h],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[l];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function Ia(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function Pa(t){if(t.length<3)return ba(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],l=[r,",",a,"L",La(Ll,o),",",La(Ll,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),za(l,o,s);return t.pop(),l.push("L",i),l.join("")}function Da(t){if(t.length<4)return ba(t);for(var e,n=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);for(n.push(La(Ll,a)+","+La(Ll,o)),
--i;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),za(n,a,o);return n.join("")}function Ea(t){for(var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);for(e=[La(Ll,o),",",La(Ll,s)],--i;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),za(e,o,s);return e.join("")}function Fa(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,h=-1;++h<=n;)r=h/n,(i=t[h])[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*l);return Pa(t)}function La(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function za(t,e,n){t.push("C",La(El,e),",",La(El,n),",",La(Fl,e),",",La(Fl,n),",",La(Ll,e),",",La(Ll,n))}function Ra(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Na(t){for(var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Ra(r,a);++e<n;)i[e]=(o+(o=Ra(r=a,a=t[e+1])))/2;return i[e]=o,i}function Oa(t){for(var e,n,i,r,a=[],o=Na(t),s=-1,l=t.length-1;++s<l;)e=Ra(t[s],t[s+1]),xo(e)<zo?o[s]=o[s+1]=0:9<(r=(n=o[s]/e)*n+(i=o[s+1]/e)*i)&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i);for(s=-1;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}function Ba(t){return t.length<3?ba(t):t[0]+Ta(t,Oa(t))}function Ha(t){for(var e,n,i,r=-1,a=t.length;++r<a;)n=(e=t[r])[0],i=e[1]-Ho,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Wa(p){function e(t){function e(){a.push("M",b(p(s),M),k,w(p(o.reverse()),M),"Z")}for(var n,i,r,a=[],o=[],s=[],l=-1,h=t.length,u=Ct(g),c=Ct(v),f=g===m?function(){return i}:Ct(m),d=v===x?function(){return r}:Ct(x);++l<h;)y.call(this,n=t[l],l)?(o.push([i=+u.call(this,n,l),r=+c.call(this,n,l)]),s.push([+f.call(this,n,l),+d.call(this,n,l)])):o.length&&(e(),o=[],s=[]);return o.length&&e(),a.length?a.join(""):null}var g=In,m=In,v=0,x=Pn,y=Ie,b=ba,n=b.key,w=b,k="L",M=.7;return e.x=function(t){return arguments.length?(g=m=t,e):m},e.x0=function(t){return arguments.length?(g=t,e):g},e.x1=function(t){return arguments.length?(m=t,e):m},e.y=function(t){return arguments.length?(v=x=t,e):x},e.y0=function(t){return arguments.length?(v=t,e):v},e.y1=function(t){return arguments.length?(x=t,e):x},e.defined=function(t){return arguments.length?(y=t,e):y},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?b=t:(b=Dl.get(t)||ba).key,w=b.reverse||b,k=b.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(M=t,e):M},e}function Va(t){return t.radius}function ja(t){return[t.x,t.y]}function qa(i){return function(){var t=i.apply(this,arguments),e=t[0],n=t[1]-Ho;return[e*Math.cos(n),e*Math.sin(n)]}}function Ya(){return 64}function Ua(){return"circle"}function Ga(t){var e=Math.sqrt(t/No);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Xa(i){return function(){var t,e,n;(t=this[i])&&(n=t[e=t.active])&&(n.timer.c=null,n.timer.t=NaN,--t.count?delete t[e]:delete this[i],t.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function $a(t,e,n){return Mo(t,Wl),t.namespace=e,t.id=n,t}function Qa(t,i,r,a){var o=t.id,s=t.namespace;return j(t,"function"==typeof r?function(t,e,n){t[s][o].tween.set(i,a(r.call(t,t.__data__,e,n)))}:(r=a(r),function(t){t[s][o].tween.set(i,r)}))}function Za(t){return null==t&&(t=""),function(){this.textContent=t}}function Ja(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ka(a,o,r,s,t){function e(t){var e=g.delay;if(u.t=e+h,e<=t)return n(t-e);u.c=n}function n(t){var e=p.active,n=p[e];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[e],n.event&&n.event.interrupt.call(a,a.__data__,n.index)),p)if(+i<s){var r=p[i];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i]}u.c=l,Dt(function(){return u.c&&l(t||1)&&(u.c=null,u.t=NaN),1},0,h),p.active=s,g.event&&g.event.start.call(a,a.__data__,o),d=[],g.tween.forEach(function(t,e){(e=e.call(a,a.__data__,o))&&d.push(e)}),f=g.ease,c=g.duration}function l(t){for(var e=t/c,n=f(e),i=d.length;0<i;)d[--i].call(a,n);if(1<=e)return g.event&&g.event.end.call(a,a.__data__,o),--p.count?delete p[s]:delete a[r],1}var h,u,c,f,d,p=a[r]||(a[r]={active:0,count:0}),g=p[s];g||(h=t.time,u=Dt(e,0,h),g=p[s]={tween:new x,time:h,timer:u,delay:t.delay,duration:t.duration,ease:t.ease,index:o},t=null,++p.count)}function to(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:i(t))+",0)"})}function eo(t,n,i){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:i(t))+")"})}function no(t){return t.toISOString()}function io(e,r,t){function o(t){return e(t)}function s(t,e){var n=(t[1]-t[0])/e,i=so.bisect(Ql,n);return i==Ql.length?[r.year,Jr(t.map(function(t){return t/31536e6}),e)[2]]:i?r[n/Ql[i-1]<Ql[i]/n?i-1:i]:[Kl,Jr(t,e)[2]]}return o.invert=function(t){return ro(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain().map(ro)},o.nice=function(e,n){function i(t){return!isNaN(t)&&!e.range(t,ro(+t+1),n).length}var t=o.domain(),r=jr(t),a=null==e?s(r,10):"number"==typeof e&&s(r,e);return a&&(e=a[0],n=a[1]),o.domain(Ur(t,1<n?{floor:function(t){for(;i(t=e.floor(t));)t=ro(t-1);return t},ceil:function(t){for(;i(t=e.ceil(t));)t=ro(+t+1);return t}}:e))},o.ticks=function(t,e){var n=jr(o.domain()),i=null==t?s(n,10):"number"==typeof t?s(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],ro(+n[1]+1),e<1?1:e)},o.tickFormat=function(){return t},o.copy=function(){return io(e.copy(),r,t)},Qr(o,e)}function ro(t){return new Date(t)}function ao(t){return JSON.parse(t.responseText)}function oo(t){var e=uo.createRange();return e.selectNode(uo.body),e.createContextualFragment(t.responseText)}var so={version:"3.5.16"},lo=[].slice,ho=function(t){return lo.call(t)},uo=this.document;if(uo)try{ho(uo.documentElement.childNodes)[0].nodeType}catch(nh){ho=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),uo)try{uo.createElement("DIV").style.setProperty("opacity",0,"")}catch(ih){var co=this.Element.prototype,fo=co.setAttribute,po=co.setAttributeNS,go=this.CSSStyleDeclaration.prototype,mo=go.setProperty;co.setAttribute=function(t,e){fo.call(this,t,e+"")},co.setAttributeNS=function(t,e,n){po.call(this,t,e,n+"")},go.setProperty=function(t,e,n){mo.call(this,t,e+"",n)}}so.ascending=o,so.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},so.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&i<n&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i<n&&(n=i)}return n},so.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i<=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&n<i&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i<=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n<i&&(n=i)}return n},so.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i<=i){n=r=i;break}for(;++a<o;)null!=(i=t[a])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++a<o;)if(null!=(i=e.call(t,t[a],a))&&i<=i){n=r=i;break}for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},so.sum=function(t,e){var n,i=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)u(n=+t[a])&&(i+=n);else for(;++a<r;)u(n=+e.call(t,t[a],a))&&(i+=n);return i},so.mean=function(t,e){var n,i=0,r=t.length,a=-1,o=r;if(1===arguments.length)for(;++a<r;)u(n=h(t[a]))?i+=n:--o;else for(;++a<r;)u(n=h(e.call(t,t[a],a)))?i+=n:--o;if(o)return i/o},so.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},so.median=function(t,e){var n,i=[],r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)u(n=h(t[a]))&&i.push(n);else for(;++a<r;)u(n=h(e.call(t,t[a],a)))&&i.push(n);if(i.length)return so.quantile(i.sort(o),.5)},so.variance=function(t,e){var n,i,r=t.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)u(n=h(t[s]))&&(o+=(i=n-a)*(n-(a+=i/++l)));else for(;++s<r;)u(n=h(e.call(t,t[s],s)))&&(o+=(i=n-a)*(n-(a+=i/++l)));if(1<l)return o/(l-1)},so.deviation=function(){var t=so.variance.apply(this,arguments);return t?Math.sqrt(t):t};var vo=t(o);so.bisectLeft=vo.left,so.bisect=so.bisectRight=vo.right,so.bisector=function(n){return t(1===n.length?function(t,e){return o(n(t),e)}:n)},so.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var i,r,a=n-e;a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},so.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},so.pairs=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},so.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=so.min(t,l),i=new Array(n);++e<n;)for(var r,a=-1,o=i[e]=new Array(r);++a<r;)o[a]=t[a][e];return i},so.zip=function(){return so.transpose(arguments)},so.keys=function(t){var e=[];for(var n in t)e.push(n);return e},so.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},so.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},so.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);0<=--r;)for(e=(i=t[r]).length;0<=--e;)n[--o]=i[e];return n};var xo=Math.abs;so.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===Infinity)throw new Error("infinite range");var i,r=[],a=c(xo(n)),o=-1;if(t*=a,e*=a,(n*=a)<0)for(;(i=t+n*++o)>e;)r.push(i/a);else for(;(i=t+n*++o)<e;)r.push(i/a);return r},so.map=function(t,e){var n=new x;if(t instanceof x)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};var yo="__proto__",bo="\0";e(x,{has:r,get:function(t){return this._[n(t)]},set:function(t,e){return this._[n(t)]=e},remove:a,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:i(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e),this._[e])}}),so.nest=function(){function c(n,t,i){if(i>=g.length)return d?d.call(p,t):f?t.sort(f):t;for(var e,r,a,o,s=-1,l=t.length,h=g[i++],u=new x;++s<l;)(o=u.get(e=h(r=t[s])))?o.push(r):u.set(e,[r]);return n?(r=n(),a=function(t,e){r.set(t,c(n,e,i))}):(r={},a=function(t,e){r[t]=c(n,e,i)}),u.forEach(a),r}function a(t,n){if(n>=g.length)return t;var i=[],r=e[n++];return t.forEach(function(t,e){i.push({key:t,values:a(e,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var f,d,p={},g=[],e=[];return p.map=function(t,e){return c(e,t,0)},p.entries=function(t){return a(c(so.map,t,0),0)},p.key=function(t){return g.push(t),p},p.sortKeys=function(t){return e[g.length-1]=t,p},p.sortValues=function(t){return f=t,p},p.rollup=function(t){return d=t,p},p},so.set=function(t){var e=new g;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},e(g,{has:r,add:function(t){return this._[n(t+="")]=!0,t},remove:a,values:f,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,i(e))}}),so.behavior={},so.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=m(t,e,e[n]);return t};var wo=["webkit","ms","moz","Moz","o","O"];so.dispatch=function(){for(var t=new y,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=w(t);return t},y.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(0<=n&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},so.event=null,so.requote=function(t){return t.replace(ko,"\\$&")};var ko=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Mo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},So=function(t,e){return e.querySelector(t)},_o=function(t,e){return e.querySelectorAll(t)},Co=function(t,e){var n=t.matches||t[v(t,"matchesSelector")];return(Co=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(So=function(t,e){return Sizzle(t,e)[0]||null},_o=Sizzle,Co=Sizzle.matchesSelector),so.selection=function(){return so.select(uo.documentElement)};var Ao=so.selection.prototype=[];Ao.select=function(t){var e,n,i,r,a=[];t=S(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var l=-1,h=i.length;++l<h;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return M(a)},Ao.selectAll=function(t){var e,n,i=[];t=_(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,l=o.length;++s<l;)(n=o[s])&&(i.push(e=ho(t.call(n,n.__data__,s,r))),e.parentNode=n);return M(i)};var To="http://www.w3.org/1999/xhtml",Io={svg:"http://www.w3.org/2000/svg",xhtml:To,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};so.ns={prefix:Io,qualify:function(t){var e=t.indexOf(":"),n=t;return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Io.hasOwnProperty(n)?{space:Io[n],local:t}:t}},Ao.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=so.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},Ao.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=I(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!T(t[r]).test(e))return!1;return!0}for(e in t)this.each(P(e,t[e]));return this}return this.each(P(t,e))},Ao.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=""),t)this.each(E(n,t[n],e));return this}if(i<2){var r=this.node();return L(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(E(t,e,n))},Ao.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(F(e,t[e]));return this}return this.each(F(t,e))},Ao.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Ao.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Ao.append=function(t){return t=O(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ao.insert=function(t,e){return t=O(t),e=S(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ao.remove=function(){return this.each(B)},Ao.data=function(t,p){function e(t,e){var n,i,r,a=t.length,o=e.length,s=Math.min(a,o),l=new Array(o),h=new Array(o),u=new Array(a);if(p){var c,f=new x,d=new Array(a);for(n=-1;++n<a;)(i=t[n])&&(f.has(c=p.call(i,i.__data__,n))?u[n]=i:f.set(c,i),d[n]=c);for(n=-1;++n<o;)(i=f.get(c=p.call(e,r=e[n],n)))?!0!==i&&((l[n]=i).__data__=r):h[n]=H(r),f.set(c,!0);for(n=-1;++n<a;)n in d&&!0!==f.get(d[n])&&(u[n]=t[n])}else{for(n=-1;++n<s;)i=t[n],r=e[n],i?(i.__data__=r,l[n]=i):h[n]=H(r);for(;n<o;++n)h[n]=H(e[n]);for(;n<a;++n)u[n]=t[n]}h.update=l,h.parentNode=l.parentNode=u.parentNode=t.parentNode,g.push(h),m.push(l),v.push(u)}var n,i,r=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++r<a;)(i=n[r])&&(t[r]=i.__data__);return t}var g=q([]),m=M([]),v=M([]);if("function"==typeof t)for(;++r<a;)e(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<a;)e(n=this[r],t);return m.enter=function(){return g},m.exit=function(){return v},m},Ao.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ao.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=W(t));for(var a=0,o=this.length;a<o;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return M(r)},Ao.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];0<=--r;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Ao.sort=function(t){t=V.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ao.each=function(i){return j(this,function(t,e,n){i.call(t,t.__data__,e,n)})},Ao.call=function(t){var e=ho(arguments);return t.apply(e[0]=this,e),this},Ao.empty=function(){return!this.node()},Ao.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}return null},Ao.size=function(){var t=0;return j(this,function(){++t}),t};var Po=[];so.selection.enter=q,(so.selection.enter.prototype=Po).append=Ao.append,Po.empty=Ao.empty,Po.node=Ao.node,Po.call=Ao.call,Po.size=Ao.size,Po.select=function(t){for(var e,n,i,r,a,o=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var h=-1,u=r.length;++h<u;)(a=r[h])?(e.push(i[h]=n=t.call(r.parentNode,a.__data__,h,s)),n.__data__=a.__data__):e.push(null)}return M(o)},Po.insert=function(t,e){return arguments.length<2&&(e=Y(this)),Ao.insert.call(this,t,e)},so.select=function(t){var e;return"string"==typeof t?(e=[So(t,uo)]).parentNode=uo.documentElement:(e=[t]).parentNode=s(t),M([e])},so.selectAll=function(t){var e;return"string"==typeof t?(e=ho(_o(t,uo))).parentNode=uo.documentElement:(e=ho(t)).parentNode=null,M([e])},Ao.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){for(n in i<2&&(e=!1),t)this.each(U(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(U(t,e,n))};var Do=so.map({mouseenter:"mouseover",mouseleave:"mouseout"});uo&&Do.forEach(function(t){"on"+t in uo&&Do.remove(t)});var Eo,Fo=0;so.mouse=function(t){return Q(t,k())};var Lo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;so.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=k().changedTouches),e)for(var i,r=0,a=e.length;r<a;++r)if((i=e[r]).identifier===n)return Q(t,i)},so.behavior.drag=function(){function e(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function t(d,p,g,m,v){return function(){function t(){var t,e,n=p(a,l);n&&(t=n[0]-f[0],e=n[1]-f[1],s|=t|e,o({type:"drag",x:(f=n)[0]+i[0],y:n[1]+i[1],dx:t,dy:e}))}function e(){p(a,l)&&(u.on(m+h,null).on(v+h,null),c(s),o({type:"dragend"}))}var i,n=this,r=so.event.target.correspondingElement||so.event.target,a=n.parentNode,o=x.of(n,arguments),s=0,l=d(),h=".drag"+(null==l?"":"-"+l),u=so.select(g(r)).on(m+h,t).on(v+h,e),c=$(r),f=p(a,l);i=y?[(i=y.apply(n,arguments)).x-f[0],i.y-f[1]]:[0,0],o({type:"dragstart"})}}var x=N(e,"drag","dragstart","dragend"),y=null,n=t(b,so.mouse,L,"mousemove","mouseup"),i=t(Z,so.touch,z,"touchmove","touchend");return e.origin=function(t){return arguments.length?(y=t,e):y},so.rebind(e,x,"on")},so.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?ho(t).map(function(t){var e=Q(n,t);return e.identifier=t.identifier,e}):[]};var zo=1e-6,Ro=zo*zo,No=Math.PI,Oo=2*No,Bo=Oo-zo,Ho=No/2,Wo=No/180,Vo=180/No,jo=Math.SQRT2,qo=2,Yo=4;so.interpolateZoom=function(t,e){var n,r,a=t[0],o=t[1],s=t[2],i=e[0],l=e[1],h=e[2],u=i-a,c=l-o,f=u*u+c*c;if(f<Ro)r=Math.log(h/s)/jo,n=function(t){return[a+t*u,o+t*c,s*Math.exp(jo*t*r)]};else{var d=Math.sqrt(f),p=(h*h-s*s+Yo*f)/(2*s*qo*d),g=(h*h-s*s-Yo*f)/(2*h*qo*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/jo,n=function(t){var e=t*r,n=it(m),i=s/(qo*d)*(n*rt(jo*e+m)-nt(m));return[a+i*u,o+i*c,s*n/it(jo*e+m)]}}return n.duration=1e3*r,n},so.behavior.zoom=function(){function r(t){t.on(I,s).on(Go+".zoom",i).on("dblclick.zoom",a).on(E,C)}function l(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function n(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function b(t){T.k=Math.max(v[0],Math.min(v[1],t))}function w(t,e){e=n(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function k(t,e,n,i){t.__chart__={x:T.x,y:T.y,k:T.k},b(Math.pow(2,i)),w(h=e,n),t=so.select(t),0<x&&(t=t.transition().duration(x)),t.call(r.event)}function e(){d&&d.domain(f.range().map(function(t){return(t-T.x)/T.k}).map(f.invert)),g&&g.domain(p.range().map(function(t){return(t-T.y)/T.k}).map(p.invert))}function M(t){y++||t({type:"zoomstart"})}function S(t){e(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function _(t){--y||(t({type:"zoomend"}),h=null)}function s(){function t(){r=1,w(so.mouse(n),o),S(i)}function e(){a.on(P,null).on(D,null),s(r),_(i)}var n=this,i=F.of(n,arguments),r=0,a=so.select(L(n)).on(P,t).on(D,e),o=l(so.mouse(n)),s=$(n);Hl.call(n),M(i)}function C(){function u(){var t=so.touches(d);return h=T.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=l(t))}),t}function t(){var t=so.event.target;so.select(t).on(v,c).on(x,f),y.push(t);for(var e=so.event.changedTouches,n=0,i=e.length;n<i;++n)g[e[n].identifier]=null;var r=u(),a=Date.now();if(1===r.length){if(a-A<500){var o=r[0];k(d,o,g[o.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),R()}A=a}else if(1<r.length){o=r[0];var s=r[1],l=o[0]-s[0],h=o[1]-s[1];m=l*l+h*h}}function c(){var t,e,n,i,r=so.touches(d);Hl.call(d);for(var a=0,o=r.length;a<o;++a,i=null)if(n=r[a],i=g[n.identifier]){if(e)break;t=n,e=i}if(i){var s=(s=n[0]-t[0])*s+(s=n[1]-t[1])*s,l=m&&Math.sqrt(s/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],b(l*h)}A=null,w(t,e),S(p)}function f(){if(so.event.touches.length){for(var t=so.event.changedTouches,e=0,n=t.length;e<n;++e)delete g[t[e].identifier];for(var i in g)return void u()}so.selectAll(y).on(r,null),a.on(I,s).on(E,C),o(),_(p)}var h,d=this,p=F.of(d,arguments),g={},m=0,r=".zoom-"+so.event.changedTouches[0].identifier,v="touchmove"+r,x="touchend"+r,y=[],a=so.select(d),o=$(d);t(),M(p),a.on(I,null).on(E,t)}function i(){var t=F.of(this,arguments);c?clearTimeout(c):(Hl.call(this),o=l(h=u||so.mouse(this)),M(t)),c=setTimeout(function(){c=null,_(t)},50),R(),b(Math.pow(2,.002*Uo())*T.k),w(h,o),S(t)}function a(){var t=so.mouse(this),e=Math.log(T.k)/Math.LN2;k(this,t,l(t),so.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var o,h,u,c,A,f,d,p,g,T={x:0,y:0,k:1},m=[960,500],v=Xo,x=250,y=0,I="mousedown.zoom",P="mousemove.zoom",D="mouseup.zoom",E="touchstart.zoom",F=N(r,"zoomstart","zoom","zoomend");return Go||(Go="onwheel"in uo?(Uo=function(){return-so.event.deltaY*(so.event.deltaMode?120:1)},"wheel"):"onmousewheel"in uo?(Uo=function(){return so.event.wheelDelta},"mousewheel"):(Uo=function(){return-so.event.detail},"MozMousePixelScroll")),r.event=function(t){t.each(function(){var s=F.of(this,arguments),e=T;Ol?so.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},M(s)}).tween("zoom:zoom",function(){var i=m[0],t=m[1],r=h?h[0]:i/2,a=h?h[1]:t/2,o=so.interpolateZoom([(r-T.x)/T.k,(a-T.y)/T.k,i/T.k],[(r-e.x)/e.k,(a-e.y)/e.k,i/e.k]);return function(t){var e=o(t),n=i/e[2];this.__chart__=T={x:r-e[0]*n,y:a-e[1]*n,k:n},S(s)}}).each("interrupt.zoom",function(){_(s)}).each("end.zoom",function(){_(s)}):(this.__chart__=T,M(s),S(s),_(s))})},r.translate=function(t){return arguments.length?(T={x:+t[0],y:+t[1],k:T.k},e(),r):[T.x,T.y]},r.scale=function(t){return arguments.length?(T={x:T.x,y:T.y,k:null},b(+t),e(),r):T.k},r.scaleExtent=function(t){return arguments.length?(v=null==t?Xo:[+t[0],+t[1]],r):v},r.center=function(t){return arguments.length?(u=t&&[+t[0],+t[1]],r):u},r.size=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],r):m},r.duration=function(t){return arguments.length?(x=+t,r):x},r.x=function(t){return arguments.length?(f=(d=t).copy(),T={x:0,y:0,k:1},r):d},r.y=function(t){return arguments.length?(p=(g=t).copy(),T={x:0,y:0,k:1},r):g},so.rebind(r,F,"on")};var Uo,Go,Xo=[0,Infinity];(so.color=ot).prototype.toString=function(){return this.rgb()+""};var $o=(so.hsl=st).prototype=new ot;$o.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},$o.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},$o.rgb=function(){return lt(this.h,this.s,this.l)};var Qo=(so.hcl=ht).prototype=new ot;Qo.brighter=function(t){return new ht(this.h,this.c,Math.min(100,this.l+Zo*(arguments.length?t:1)))},Qo.darker=function(t){return new ht(this.h,this.c,Math.max(0,this.l-Zo*(arguments.length?t:1)))},Qo.rgb=function(){return ut(this.h,this.c,this.l).rgb()},so.lab=ct;var Zo=18,Jo=.95047,Ko=1,ts=1.08883,es=ct.prototype=new ot;es.brighter=function(t){return new ct(Math.min(100,this.l+Zo*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ct(Math.max(0,this.l-Zo*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ft(this.l,this.a,this.b)};var ns=(so.rgb=vt).prototype=new ot;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},ns.darker=function(t){return new vt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ns.hsl=function(){return kt(this.r,this.g,this.b)},ns.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var is=so.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});is.forEach(function(t,e){is.set(t,xt(e))}),so.functor=Ct,so.xhr=At(z),so.dsv=function(r,a){function o(t,e,n){arguments.length<3&&(n=e,e=null);var i=Tt(t,a,null==e?s:l(e),n);return i.row=function(t){return arguments.length?i.response(null==(e=t)?s:l(t)):e},i}function s(t){return o.parse(t.responseText)}function l(e){return function(t){return o.parse(t.responseText,e)}}function e(t){return t.map(h).join(r)}function h(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var n=new RegExp('["'+r+"\n]"),f=r.charCodeAt(0);return o.parse=function(t,i){var r;return o.parseRows(t,function(t,e){if(r)return r(t,e-1);var n=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=i?function(t,e){return i(n(t),e)}:n})},o.parseRows=function(r,t){function e(){if(l<=h)return s;if(a)return a=!1,o;var t=h;if(34===r.charCodeAt(t)){for(var e=t;e++<l;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return h=e+2,13===(n=r.charCodeAt(e+1))?(a=!0,10===r.charCodeAt(e+2)&&++h):10===n&&(a=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;h<l;){var n,i=1;if(10===(n=r.charCodeAt(h++)))a=!0;else if(13===n)a=!0,10===r.charCodeAt(h)&&(++h,++i);else if(n!==f)continue;return r.slice(t,h-i)}return r.slice(t)}for(var n,a,o={},s={},i=[],l=r.length,h=0,u=0;(n=e())!==s;){for(var c=[];n!==o&&n!==s;)c.push(n),n=e();t&&null==(c=t(c,u++))||i.push(c)}return i},o.format=function(t){if(Array.isArray(t[0]))return o.formatRows(t);var n=new g,i=[];return t.forEach(function(t){for(var e in t)n.has(e)||i.push(n.add(e))}),[i.map(h).join(r)].concat(t.map(function(e){return i.map(function(t){return h(e[t])}).join(r)})).join("\n")},o.formatRows=function(t){return t.map(e).join("\n")},o},so.csv=so.dsv(",","text/csv"),so.tsv=so.dsv("\t","text/tab-separated-values");var rs,as,os,ss,ls=this[v(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};so.timer=function(){Dt.apply(this,arguments)},so.timer.flush=function(){Ft(),Lt()},so.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var hs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Rt);so.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=so.round(t,zt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),hs[8+n/3]};var us=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,cs=so.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=so.round(t,zt(t,e))).toFixed(Math.max(0,Math.min(20,zt(t*(1+1e-15),e))))}}),fs=so.time={},ds=Date;Bt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;fs.year=Ht(function(t){return(t=fs.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=Ht(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=fs[t]=Ht(function(t){
return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});fs[t+"s"]=e.range,fs[t+"s"].utc=e.utc.range,fs[t+"OfYear"]=function(t){var e=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(e+n)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,vs=/^%/;so.locale=function(t){return{numberFormat:Nt(t),timeFormat:Vt(t)}};var xs=so.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});so.format=xs.numberFormat,so.geo={},he.prototype={s:0,t:0,add:function(t){ue(t,this.t,ys),ue(ys.s,this.s,this),this.s?this.t+=ys.t:this.s=ys.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ys=new he;so.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):ce(t,e)};var bs={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ce(n[i].geometry,e)}},ws={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)fe(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ce(n[i],e)}};so.geo.area=function(t){return ks=0,so.geo.stream(t,zs),ks};var ks,Ms,Ss,_s,Cs,As,Ts,Is,Ps,Ds,Es,Fs,Ls=new he,zs={sphere:function(){ks+=4*No},point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ls.reset(),zs.lineStart=pe},polygonEnd:function(){var t=2*Ls;ks+=t<0?4*No+t:t,zs.lineStart=zs.lineEnd=zs.point=b}};so.geo.bounds=function(){function u(t,e){y.push(b=[f=t,p=t]),e<d&&(d=e),g<e&&(g=e)}function i(t,e){var n=ge([t*Wo,e*Wo]);if(v){var i=ve(v,n),r=ve([i[1],-i[0],0],i);be(r),r=we(r);var a=t-m,o=0<a?1:-1,s=r[0]*Vo*o,l=180<xo(a);if(l^(o*m<s&&s<o*t)){var h=r[1]*Vo;g<h&&(g=h)}else if(l^(o*m<(s=(s+360)%360-180)&&s<o*t)){(h=-r[1]*Vo)<d&&(d=h)}else e<d&&(d=e),g<e&&(g=e);l?t<m?c(f,t)>c(f,p)&&(p=t):c(t,p)>c(f,p)&&(f=t):f<=p?(t<f&&(f=t),p<t&&(p=t)):m<t?c(f,t)>c(f,p)&&(p=t):c(t,p)>c(f,p)&&(f=t)}else u(t,e);v=n,m=t}function t(){w.point=i}function e(){b[0]=f,b[1]=p,w.point=u,v=null}function n(t,e){if(v){var n=t-m;x+=180<xo(n)?n+(0<n?360:-360):n}else o=t,s=e;zs.point(t,e),i(t,e)}function r(){zs.lineStart()}function a(){n(o,s),zs.lineEnd(),xo(x)>zo&&(f=-(p=180)),b[0]=f,b[1]=p,v=null}function c(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function h(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var f,d,p,g,m,o,s,v,x,y,b,w={point:u,lineStart:t,lineEnd:e,polygonStart:function(){w.point=n,w.lineStart=r,w.lineEnd=a,x=0,zs.polygonStart()},polygonEnd:function(){zs.polygonEnd(),w.point=u,w.lineStart=t,w.lineEnd=e,Ls<0?(f=-(p=180),d=-(g=90)):zo<x?g=90:x<-zo&&(d=-90),b[0]=f,b[1]=p}};return function(t){if(g=p=-(f=d=Infinity),y=[],so.geo.stream(t,w),r=y.length){y.sort(l);for(var e=1,n=[s=y[0]];e<r;++e)h((a=y[e])[0],s)||h(a[1],s)?(c(s[0],a[1])>c(s[0],s[1])&&(s[1]=a[1]),c(a[0],s[1])>c(s[0],s[1])&&(s[0]=a[0])):n.push(s=a);for(var i,r,a,o=-Infinity,s=(e=0,n[r=n.length-1]);e<=r;s=a,++e)a=n[e],(i=c(s[1],a[0]))>o&&(o=i,f=a[0],p=s[1])}return y=b=null,f===Infinity||d===Infinity?[[NaN,NaN],[NaN,NaN]]:[[f,d],[p,g]]}}(),so.geo.centroid=function(t){Ms=Ss=_s=Cs=As=Ts=Is=Ps=Ds=Es=Fs=0,so.geo.stream(t,Rs);var e=Ds,n=Es,i=Fs,r=e*e+n*n+i*i;return r<Ro&&(e=Ts,n=Is,i=Ps,Ss<zo&&(e=_s,n=Cs,i=As),(r=e*e+n*n+i*i)<Ro)?[NaN,NaN]:[Math.atan2(n,e)*Vo,et(i/Math.sqrt(r))*Vo]};var Rs={sphere:b,point:Me,lineStart:_e,lineEnd:Ce,polygonStart:function(){Rs.lineStart=Ae},polygonEnd:function(){Rs.lineStart=_e}},Ns=Fe(Ie,Ne,Be,[-No,-No/2]),Os=1e9;so.geo.clipExtent=function(){var e,n,i,r,a,o,s={stream:function(t){return a&&(a.valid=!1),(a=o(t)).valid=!0,a},extent:function(t){return arguments.length?(o=je(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a&&(a.valid=!1,a=null),s):[[e,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(so.geo.conicEqualArea=function(){return qe(Ye)}).raw=Ye,so.geo.albers=function(){return so.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},so.geo.albersUsa=function(){function r(t){var e=t[0],n=t[1];return i=null,a(e,n),i||(o(e,n),i)||s(e,n),i}var i,a,o,s,l=so.geo.albers(),h=so.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=so.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){i=[t,e]}};return r.invert=function(t){var e=l.scale(),n=l.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?h:.166<=r&&r<.234&&-.214<=i&&i<-.115?u:l).invert(t)},r.stream=function(t){var n=l.stream(t),i=h.stream(t),r=u.stream(t);return{point:function(t,e){n.point(t,e),i.point(t,e),r.point(t,e)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},r.precision=function(t){return arguments.length?(l.precision(t),h.precision(t),u.precision(t),r):l.precision()},r.scale=function(t){return arguments.length?(l.scale(t),h.scale(.35*t),u.scale(t),r.translate(l.translate())):l.scale()},r.translate=function(t){if(!arguments.length)return l.translate();var e=l.scale(),n=+t[0],i=+t[1];return a=l.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(c).point,o=h.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+zo,i+.12*e+zo],[n-.214*e-zo,i+.234*e-zo]]).stream(c).point,s=u.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+zo,i+.166*e+zo],[n-.115*e-zo,i+.234*e-zo]]).stream(c).point,r},r.scale(1070)};var Bs,Hs,Ws,Vs,js,qs,Ys,Us={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Hs=0,Us.lineStart=Ue},polygonEnd:function(){Us.lineStart=Us.lineEnd=Us.point=b,Bs+=xo(Hs/2)}},Gs={point:Ge,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Xs={point:Qe,lineStart:Ze,lineEnd:Je,polygonStart:function(){Xs.lineStart=Ke},polygonEnd:function(){Xs.point=Qe,Xs.lineStart=Ze,Xs.lineEnd=Je}};so.geo.path=function(){function e(t){return t&&("function"==typeof l&&o.pointRadius(+l.apply(this,arguments)),s&&s.valid||(s=a(o)),so.geo.stream(t,s)),o.result()}function n(){return s=null,e}var i,r,a,o,s,l=4.5;return e.area=function(t){return Bs=0,so.geo.stream(t,a(Us)),Bs},e.centroid=function(t){return _s=Cs=As=Ts=Is=Ps=Ds=Es=Fs=0,so.geo.stream(t,a(Xs)),Fs?[Ds/Fs,Es/Fs]:Ps?[Ts/Ps,Is/Ps]:As?[_s/As,Cs/As]:[NaN,NaN]},e.bounds=function(t){return js=qs=-(Ws=Vs=Infinity),so.geo.stream(t,a(Gs)),[[Ws,Vs],[js,qs]]},e.projection=function(t){return arguments.length?(a=(i=t)?t.stream||nn(t):z,n()):i},e.context=function(t){return arguments.length?(o=null==(r=t)?new Xe:new tn(t),"function"!=typeof l&&o.pointRadius(l),n()):r},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(o.pointRadius(+t),+t),e):l},e.projection(so.geo.albersUsa()).context(null)},so.geo.transform=function(i){return{stream:function(t){var e=new rn(t);for(var n in i)e[n]=i[n];return e}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},so.geo.projection=on,so.geo.projectionMutator=sn,(so.geo.equirectangular=function(){return on(hn)}).raw=hn.invert=hn,so.geo.rotation=function(e){function t(t){return(t=e(t[0]*Wo,t[1]*Wo))[0]*=Vo,t[1]*=Vo,t}return e=cn(e[0]%360*Wo,e[1]*Wo,2<e.length?e[2]*Wo:0),t.invert=function(t){return(t=e.invert(t[0]*Wo,t[1]*Wo))[0]*=Vo,t[1]*=Vo,t},t},un.invert=hn,so.geo.circle=function(){function e(){var t="function"==typeof a?a.apply(this,arguments):a,n=cn(-t[0]*Wo,-t[1]*Wo,0).invert,i=[];return r(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=Vo,t[1]*=Vo}}),{type:"Polygon",coordinates:[i]}}var n,r,a=[0,0],i=6;return e.origin=function(t){return arguments.length?(a=t,e):a},e.angle=function(t){return arguments.length?(r=gn((n=+t)*Wo,i*Wo),e):n},e.precision=function(t){return arguments.length?(r=gn(n*Wo,(i=+t)*Wo),e):i},e.angle(90)},so.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Wo,r=t[1]*Wo,a=e[1]*Wo,o=Math.sin(i),s=Math.cos(i),l=Math.sin(r),h=Math.cos(r),u=Math.sin(a),c=Math.cos(a);return Math.atan2(Math.sqrt((n=c*o)*n+(n=h*u-l*c*s)*n),l*u+h*c*s)},so.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return so.range(Math.ceil(a/m)*m,r,m).map(f).concat(so.range(Math.ceil(h/v)*v,l,v).map(d)).concat(so.range(Math.ceil(i/p)*p,n,p).filter(function(t){return xo(t%m)>zo}).map(u)).concat(so.range(Math.ceil(s/g)*g,o,g).filter(function(t){return xo(t%v)>zo}).map(c))}var n,i,r,a,o,s,l,h,u,c,f,d,p=10,g=p,m=90,v=360,x=2.5;return e.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},e.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(d(l).slice(1),f(r).reverse().slice(1),d(h).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],r=+t[1][0],h=+t[0][1],l=+t[1][1],r<a&&(t=a,a=r,r=t),l<h&&(t=h,h=l,l=t),e.precision(x)):[[a,h],[r,l]]},e.minorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],n<i&&(t=i,i=n,n=t),o<s&&(t=s,s=o,o=t),e.precision(x)):[[i,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(x=+t,u=vn(s,o,90),c=xn(i,n,x),f=vn(h,l,90),d=xn(a,r,x),e):x},e.majorExtent([[-180,-90+zo],[180,90-zo]]).minorExtent([[-180,-80-zo],[180,80+zo]])},so.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),i||a.apply(this,arguments)]}}var n,i,r=yn,a=bn;return e.distance=function(){return so.geo.distance(n||r.apply(this,arguments),i||a.apply(this,arguments))},e.source=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,e):r},e.target=function(t){return arguments.length?(i="function"==typeof(a=t)?null:t,e):a},e.precision=function(){return arguments.length?e:0},e},so.geo.interpolate=function(t,e){return wn(t[0]*Wo,t[1]*Wo,e[0]*Wo,e[1]*Wo)},so.geo.length=function(t){return Ys=0,so.geo.stream(t,$s),Ys};var $s={sphere:b,point:b,lineStart:kn,lineEnd:b,polygonStart:b,polygonEnd:b},Qs=Mn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(so.geo.azimuthalEqualArea=function(){return on(Qs)}).raw=Qs;var Zs=Mn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},z);(so.geo.azimuthalEquidistant=function(){return on(Zs)}).raw=Zs,(so.geo.conicConformal=function(){return qe(Sn)}).raw=Sn,(so.geo.conicEquidistant=function(){return qe(_n)}).raw=_n;var Js=Mn(function(t){return 1/t},Math.atan);(so.geo.gnomonic=function(){return on(Js)}).raw=Js,Cn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ho]},(so.geo.mercator=function(){return An(Cn)}).raw=Cn;var Ks=Mn(function(){return 1},Math.asin);(so.geo.orthographic=function(){return on(Ks)}).raw=Ks;var tl=Mn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(so.geo.stereographic=function(){return on(tl)}).raw=tl,Tn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ho]},(so.geo.transverseMercator=function(){var t=An(Tn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Tn,so.geom={},so.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,n=Ct(f),i=Ct(d),r=t.length,a=[],o=[];for(e=0;e<r;e++)a.push([+n.call(this,t[e],e),+i.call(this,t[e],e),e]);for(a.sort(En),e=0;e<r;e++)o.push([a[e][0],-a[e][1]]);var s=Dn(a),l=Dn(o),h=l[0]===s[0],u=l[l.length-1]===s[s.length-1],c=[];for(e=s.length-1;0<=e;--e)c.push(t[a[s[e]][2]]);for(e=+h;e<l.length-u;++e)c.push(t[a[l[e]][2]]);return c}var f=In,d=Pn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(f=t,e):f},e.y=function(t){return arguments.length?(d=t,e):d},e)},so.geom.polygon=function(t){return Mo(t,el),t};var el=so.geom.polygon.prototype=[];el.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},el.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},el.clip=function(t){for(var e,n,i,r,a,o,s=zn(t),l=-1,h=this.length-zn(this),u=this[h-1];++l<h;){for(e=t.slice(),t.length=0,r=this[l],a=e[(i=e.length-s)-1],n=-1;++n<i;)Fn(o=e[n],u,r)?(Fn(a,u,r)||t.push(Ln(a,o,u,r)),t.push(o)):Fn(a,u,r)&&t.push(Ln(a,o,u,r)),a=o;s&&t.push(t[0]),u=r}return t};var nl,il,rl,al,ol,sl=[],ll=[];jn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Yn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=oi(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),n=(t=n).U),n.C=!1,i.C=!0,ai(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ai(this,n),n=(t=n).U),n.C=!1,i.C=!0,ri(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?oi(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,((n.L=a).U=n)!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,(n.R=o).U=n):(n.U=r,t=(r=n).R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ai(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,ai(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ai(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}},so.geom.voronoi=function(t){function e(r){var a=new Array(r.length),o=u[0][0],s=u[0][1],l=u[1][0],h=u[1][1];return si(n(r),u).cells.forEach(function(t,e){var n=t.edges,i=t.site;(a[e]=n.length?n.map(function(t){var e=t.start();return[e.x,e.y]}):i.x>=o&&i.x<=l&&i.y>=s&&i.y<=h?[[o,h],[l,h],[l,s],[o,s]]:[]).point=r[e]}),a}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/zo)*zo,y:Math.round(o(t,e)/zo)*zo,i:e}})}var i=In,r=Pn,a=i,o=r,u=hl;return t?e(t):(e.links=function(e){return si(n(e)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},e.triangles=function(h){var u=[];return si(n(h)).cells.forEach(function(t,e){for(var n,i=t.site,r=t.edges.sort(Yn),a=-1,o=r.length,s=r[o-1].edge,l=s.l===i?s.r:s.l;++a<o;)s,n=l,l=(s=r[a].edge).l===i?s.r:s.l,e<n.i&&e<l.i&&hi(i,n,l)<0&&u.push([h[e],h[n.i],h[l.i]])}),u},e.x=function(t){return arguments.length?(a=Ct(i=t),e):i},e.y=function(t){return arguments.length?(o=Ct(r=t),e):r},e.clipExtent=function(t){return arguments.length?(u=null==t?hl:t,e):u===hl?null:u},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):u===hl?null:u&&u[1]},e)};var hl=[[-1e6,-1e6],[1e6,1e6]];so.geom.delaunay=function(t){return so.geom.voronoi().triangles(t)},so.geom.quadtree=function(t,y,b,w,k){function e(t){function d(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,h=t.y;if(null!=l)if(xo(l-n)+xo(h-i)<.01)c(t,e,n,i,r,a,o,s);else{var u=t.point;t.x=t.y=t.point=null,c(t,u,l,h,r,a,o,s),c(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else c(t,e,n,i,r,a,o,s)}function c(t,e,n,i,r,a,o,s){var l=.5*(r+o),h=.5*(a+s),u=l<=n,c=h<=i,f=c<<1|u;t.leaf=!1,u?r=l:o=l,c?a=h:s=h,d(t=t.nodes[f]||(t.nodes[f]=fi()),e,n,i,r,a,o,s)}var e,n,i,r,a,o,s,l,h,u=Ct(S),f=Ct(_);if(null!=y)o=y,s=b,l=w,h=k;else if(l=h=-(o=s=Infinity),n=[],i=[],a=t.length,M)for(r=0;r<a;++r)(e=t[r]).x<o&&(o=e.x),e.y<s&&(s=e.y),e.x>l&&(l=e.x),e.y>h&&(h=e.y),n.push(e.x),i.push(e.y);else for(r=0;r<a;++r){var p=+u(e=t[r],r),g=+f(e,r);p<o&&(o=p),g<s&&(s=g),l<p&&(l=p),h<g&&(h=g),n.push(p),i.push(g)}var m=l-o,v=h-s;v<m?h=s+m:l=o+v;var x=fi();if(x.add=function(t){d(x,t,+u(t,++r),+f(t,r),o,s,l,h)},x.visit=function(t){di(t,x,o,s,l,h)},x.find=function(t){return pi(x,t[0],t[1],o,s,l,h)},r=-1,null==y){for(;++r<a;)d(x,t[r],n[r],i[r],o,s,l,h);--r}else t.forEach(x.add);return n=i=t=e=null,x}var M,S=In,_=Pn;return(M=arguments.length)?(S=ui,_=ci,3===M&&(k=b,w=y,b=y=0),e(t)):(e.x=function(t){return arguments.length?(S=t,e):S},e.y=function(t){return arguments.length?(_=t,e):_},e.extent=function(t){return arguments.length?(null==t?y=b=w=k=null:(y=+t[0][0],b=+t[0][1],w=+t[1][0],k=+t[1][1]),e):null==y?null:[[y,b],[w,k]]},e.size=function(t){return arguments.length?(null==t?y=b=w=k=null:(y=b=0,w=+t[0],k=+t[1]),e):null==y?null:[w-y,k-b]},e)},so.interpolateRgb=gi,so.interpolateObject=mi,so.interpolateNumber=vi,so.interpolateString=xi;var ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cl=new RegExp(ul.source,"g");so.interpolate=yi,so.interpolators=[function(t,e){var n=typeof e;return("string"===n?is.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:xi:e instanceof ot?gi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?mi:vi)(t,e)}],so.interpolateArray=bi;var fl=function(){return z},dl=so.map({linear:fl,poly:Ai,quad:function(){return Si},cubic:function(){return _i},sin:function(){return Ti},exp:function(){return Ii},circle:function(){return Pi},elastic:Di,back:Ei,bounce:function(){return Fi}}),pl=so.map({"in":z,out:ki,"in-out":Mi,"out-in":function(t){return Mi(ki(t))}});so.ease=function(t){var e=t.indexOf("-"),n=0<=e?t.slice(0,e):t,i=0<=e?t.slice(e+1):"in";return n=dl.get(n)||fl,wi((i=pl.get(i)||z)(n.apply(null,lo.call(arguments,1))))},so.interpolateHcl=Li,so.interpolateHsl=zi,so.interpolateLab=Ri,so.interpolateRound=Ni,so.transform=function(t){var n=uo.createElementNS(so.ns.prefix.svg,"g");return(so.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Oi(e?e.matrix:gl)})(t)},Oi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};so.interpolateTransform=Gi,so.layout={},so.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Qi(t[n]));return e}},so.layout.chord=function(){function t(){var t,e,n,i,r,a={},o=[],s=so.range(b),l=[];for(v=[],x=[],t=0,i=-1;++i<b;){for(e=0,r=-1;++r<b;)e+=y[i][r];o.push(e),l.push(so.range(b)),t+=e}for(w&&s.sort(function(t,e){return w(o[t],o[e])}),k&&l.forEach(function(t,n){t.sort(function(t,e){return k(y[n][t],y[n][e])})}),t=(Oo-S*b)/t,e=0,i=-1;++i<b;){for(n=e,r=-1;++r<b;){var h=s[i],u=l[h][r],c=y[h][u],f=e,d=e+=c*t;a[h+"-"+u]={index:h,subindex:u,startAngle:f,endAngle:d,value:c}}x[h]={index:h,startAngle:n,endAngle:e,value:o[h]},e+=S}for(i=-1;++i<b;)for(r=i-1;++r<b;){var p=a[i+"-"+r],g=a[r+"-"+i];(p.value||g.value)&&v.push(p.value<g.value?{source:g,target:p}:{source:p,target:g})}M&&m()}function m(){v.sort(function(t,e){return M((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var v,x,y,b,w,k,M,e={},S=0;return e.matrix=function(t){return arguments.length?(b=(y=t)&&y.length,v=x=null,e):y},e.padding=function(t){return arguments.length?(S=t,v=x=null,e):S},e.sortGroups=function(t){return arguments.length?(w=t,v=x=null,e):w},e.sortSubgroups=function(t){return arguments.length?(k=t,v=null,e):k},e.sortChords=function(t){return arguments.length?(M=t,v&&m(),e):M},e.chords=function(){return v||t(),v},e.groups=function(){return x||t(),x},e},so.layout.force=function(){function c(h){return function(t,e,n,i){if(t.point!==h){var r=t.cx-h.x,a=t.cy-h.y,o=i-e,s=r*r+a*a;if(o*o/k<s){if(s<u){var l=t.charge/s;h.px-=r*l,h.py-=a*l}return!0}if(t.point&&s&&s<u){l=t.pointCharge/s;h.px-=r*l,h.py-=a*l}}return!t.charge}}function t(t){t.px=so.event.x,t.py=so.event.y,r.resume()}var f,e,d,p,g,m,r={},v=so.dispatch("start","tick","end"),x=[1,1],y=.9,a=ml,o=vl,b=-30,u=xl,w=.1,k=.64,M=[],S=[];return r.tick=function(){if((d*=.99)<.005)return f=null,v.end({type:"end",alpha:d=0}),!0;var t,e,n,i,r,a,o,s,l,h=M.length,u=S.length;for(e=0;e<u;++e)i=(n=S[e]).source,(a=(s=(r=n.target).x-i.x)*s+(l=r.y-i.y)*l)&&(s*=a=d*g[e]*((a=Math.sqrt(a))-p[e])/a,l*=a,r.x-=s*(o=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=l*o,i.x+=s*(o=1-o),i.y+=l*o);if((o=d*w)&&(s=x[0]/2,l=x[1]/2,e=-1,o))for(;++e<h;)(n=M[e]).x+=(s-n.x)*o,n.y+=(l-n.y)*o;if(b)for(ir(t=so.geom.quadtree(M),d,m),e=-1;++e<h;)(n=M[e]).fixed||t.visit(c(n));for(e=-1;++e<h;)(n=M[e]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*y,n.y-=(n.py-(n.py=n.y))*y);v.tick({type:"tick",alpha:d})},r.nodes=function(t){return arguments.length?(M=t,r):M},r.links=function(t){return arguments.length?(S=t,r):S},r.size=function(t){return arguments.length?(x=t,r):x},r.linkDistance=function(t){return arguments.length?(a="function"==typeof t?t:+t,r):a},r.distance=r.linkDistance,r.linkStrength=function(t){return arguments.length?(o="function"==typeof t?t:+t,r):o},r.friction=function(t){return arguments.length?(y=+t,r):y},r.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,r):b},r.chargeDistance=function(t){return arguments.length?(u=t*t,r):Math.sqrt(u)},r.gravity=function(t){return arguments.length?(w=+t,r):w},r.theta=function(t){return arguments.length?(k=t*t,r):Math.sqrt(k)},r.alpha=function(t){return arguments.length?(t=+t,d?0<t?d=t:(f.c=null,f.t=NaN,f=null,v.end({type:"end",alpha:d=0})):0<t&&(v.start({type:"start",alpha:d=t}),f=Dt(r.tick)),r):d},r.start=function(){function t(t,e){if(!l){for(l=new Array(h),a=0;a<h;++a)l[a]=[];for(a=0;a<u;++a){var n=S[a];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var i,r=l[s],a=-1,o=r.length;++a<o;)if(!isNaN(i=r[a][t]))return i;return Math.random()*e}var s,l,e,h=M.length,u=S.length,n=x[0],i=x[1];for(s=0;s<h;++s)(e=M[s]).index=s,e.weight=0;for(s=0;s<u;++s)"number"==typeof(e=S[s]).source&&(e.source=M[e.source]),"number"==typeof e.target&&(e.target=M[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<h;++s)e=M[s],isNaN(e.x)&&(e.x=t("x",n)),isNaN(e.y)&&(e.y=t("y",i)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof a)for(s=0;s<u;++s)p[s]=+a.call(this,S[s],s);else for(s=0;s<u;++s)p[s]=a;if(g=[],"function"==typeof o)for(s=0;s<u;++s)g[s]=+o.call(this,S[s],s);else for(s=0;s<u;++s)g[s]=o;if(m=[],"function"==typeof b)for(s=0;s<h;++s)m[s]=+b.call(this,M[s],s);else for(s=0;s<h;++s)m[s]=b;return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(e||(e=so.behavior.drag().origin(z).on("dragstart.force",Ki).on("drag.force",t).on("dragend.force",tr)),!arguments.length)return e;this.on("mouseover.force",er).on("mouseout.force",nr).call(e)},so.rebind(r,v,"on")};var ml=20,vl=1,xl=Infinity;so.layout.hierarchy=function(){function s(t){var e,n=[t],i=[];for(t.depth=0;null!=(e=n.pop());)if(i.push(e),(a=h.call(s,e,e.depth))&&(r=a.length)){for(var r,a,o;0<=--r;)n.push(o=a[r]),o.parent=e,o.depth=e.depth+1;u&&(e.value=0),e.children=a}else u&&(e.value=+u.call(s,e,e.depth)||0),delete e.children;return or(t,function(t){var e,n;l&&(e=t.children)&&e.sort(l),u&&(n=t.parent)&&(n.value+=t.value)}),i}var l=hr,h=sr,u=lr;return s.sort=function(t){return arguments.length?(l=t,s):l},s.children=function(t){return arguments.length?(h=t,s):h},s.value=function(t){return arguments.length?(u=t,s):u},s.revalue=function(t){return u&&(ar(t,function(t){t.children&&(t.value=0)}),or(t,function(t){var e;t.children||(t.value=+u.call(s,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},s},so.layout.partition=function(){function h(t,e,n,i){var r=t.children;if(t.x=e,t.y=t.depth*i,t.dx=n,t.dy=i,r&&(a=r.length)){var a,o,s,l=-1;for(n=t.value?n/t.value:0;++l<a;)h(o=r[l],e,s=o.value*n,i),e+=s}}function a(t){var e=t.children,n=0;if(e&&(i=e.length))for(var i,r=-1;++r<i;)n=Math.max(n,a(e[r]));return 1+n}function e(t,e){var n=i.call(this,t,e);return h(n[0],0,r[0],r[1]/a(n[0])),n}var i=so.layout.hierarchy(),r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},rr(e,i)},so.layout.pie=function(){function f(n){var e,t=n.length,i=n.map(function(t,e){return+d.call(f,t,e)}),r=+("function"==typeof g?g.apply(this,arguments):g),a=("function"==typeof m?m.apply(this,arguments):m)-r,o=Math.min(Math.abs(a)/t,+("function"==typeof v?v.apply(this,arguments):v)),s=o*(a<0?-1:1),l=so.sum(i),h=l?(a-t*s)/l:0,u=so.range(t),c=[];return null!=p&&u.sort(p===yl?function(t,e){return i[e]-i[t]}:function(t,e){return p(n[t],n[e])}),u.forEach(function(t){c[t]={data:n[t],value:e=i[t],startAngle:r,endAngle:r+=e*h+s,padAngle:o}}),c}var d=Number,p=yl,g=0,m=Oo,v=0;return f.value=function(t){return arguments.length?(d=t,f):d},f.sort=function(t){return arguments.length?(p=t,f):p},f.startAngle=function(t){return arguments.length?(g=t,f):g},f.endAngle=function(t){return arguments.length?(m=t,f):m},f.padAngle=function(t){return arguments.length?(v=t,f):v},f};var yl={};so.layout.stack=function(){function c(t,e){if(!(a=t.length))return t;var n=t.map(function(t,e){return f.call(c,t,e)}),i=n.map(function(t){return t.map(function(t,e){return[m.call(c,t,e),v.call(c,t,e)]})}),r=d.call(c,i,e);n=so.permute(n,r),i=so.permute(i,r);var a,o,s,l,h=p.call(c,i,e),u=n[0].length;for(s=0;s<u;++s)for(g.call(c,n[0][s],l=h[s],i[0][s][1]),o=1;o<a;++o)g.call(c,n[o][s],l+=i[o-1][s][1],i[o][s][1]);return t}var f=z,d=pr,p=gr,g=dr,m=cr,v=fr;return c.values=function(t){return arguments.length?(f=t,c):f},c.order=function(t){return arguments.length?(d="function"==typeof t?t:bl.get(t)||pr,c):d},c.offset=function(t){return arguments.length?(p="function"==typeof t?t:wl.get(t)||gr,c):p},c.x=function(t){return arguments.length?(m=t,c):m},c.y=function(t){return arguments.length?(v=t,c):v},c.out=function(t){return arguments.length?(g=t,c):g},c};var bl=so.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(mr),a=t.map(vr),o=so.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,h=[],u=[];for(e=0;e<i;++e)n=o[e],s<l?(s+=a[n],h.push(n)):(l+=a[n],u.push(n));return u.reverse().concat(h)},reverse:function(t){return so.range(t.length).reverse()},"default":pr}),wl=so.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];s<i&&(s=i),o.push(i)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,i,r,a,o,s,l,h,u=t.length,c=t[0],f=c.length,d=[];for(d[0]=l=h=0,n=1;n<f;++n){for(r=e=0;e<u;++e)r+=t[e][n][1];for(a=e=0,s=c[n][0]-c[n-1][0];e<u;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}d[n]=l-=r?a/r*s:0,l<h&&(h=l)}for(n=0;n<f;++n)d[n]-=h;return d},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;n<a;++n){for(i=e=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:gr});so.layout.histogram=function(){function n(t,e){for(var n,i,r=[],a=t.map(f,this),o=d.call(this,a,e),s=p.call(this,o,a,e),l=(e=-1,a.length),h=s.length-1,u=c?1:1/l;++e<h;)(n=r[e]=[]).dx=s[e+1]-(n.x=s[e]),n.y=0;if(0<h)for(e=-1;++e<l;)(i=a[e])>=o[0]&&i<=o[1]&&((n=r[so.bisect(s,i,1,h)-1]).y+=u,n.push(t[e]));return r}var c=!0,f=Number,d=wr,p=yr;return n.value=function(t){return arguments.length?(f=t,n):f},n.range=function(t){return arguments.length?(d=Ct(t),n):d},n.bins=function(e){return arguments.length?(p="number"==typeof e?function(t){return br(t,e)}:Ct(e),n):p},n.frequency=function(t){return arguments.length?(c=!!t,n):c},n},so.layout.pack=function(){function e(t,e){var n=h.call(this,t,e),i=n[0],r=c[0],a=c[1],o=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(i.x=i.y=0,or(i,function(t){t.r=+o(t.value)}),or(i,Cr),u){var s=u*(l?1:Math.max(2*i.r/r,2*i.r/a))/2;or(i,function(t){t.r+=s}),or(i,Cr),or(i,function(t){t.r-=s})}return Ir(i,r/2,a/2,l?1:1/Math.max(2*i.r/r,2*i.r/a)),n}var l,h=so.layout.hierarchy().sort(kr),u=0,c=[1,1];return e.size=function(t){return arguments.length?(c=t,e):c},e.radius=function(t){return arguments.length?(l=null==t||"function"==typeof t?t:+t,e):l},e.padding=function(t){return arguments.length?(u=+t,e):u},rr(e,h)},so.layout.tree=function(){function e(t,e){var n=g.call(this,t,e),i=n[0],r=c(i);if(or(r,f),r.parent.m=-r.z,ar(r,d),x)ar(i,p);else{var a=i,o=i,s=i;ar(i,function(t){t.x<a.x&&(a=t),t.x>o.x&&(o=t),t.depth>s.depth&&(s=t)});var l=m(a,o)/2-a.x,h=v[0]/(o.x+m(o,a)/2+l),u=v[1]/(s.depth||1);ar(i,function(t){t.x=(t.x+l)*h,t.y=t.depth*u})}return n}function c(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;o<s;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function f(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){zr(t);var r=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+m(t._,i._),t.m=t.z-r):t.z=r}else i&&(t.z=i.z+m(t._,i._));t.parent.A=a(t,i,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t,e,n){if(e){for(var i,r=t,a=t,o=e,s=r.parent.children[0],l=r.m,h=a.m,u=o.m,c=s.m;o=Fr(o),r=Er(r),o&&r;)s=Er(s),(a=Fr(a)).a=t,0<(i=o.z+u-r.z-l+m(o._,r._))&&(Lr(Rr(o,t,n),t,i),l+=i,h+=i),u+=o.m,l+=r.m,c+=s.m,h+=a.m;o&&!Fr(a)&&(a.t=o,a.m+=u-h),r&&!Er(s)&&(s.t=r,s.m+=l-c,n=t)}return n}function p(t){t.x*=v[0],t.y=t.depth*v[1]}var g=so.layout.hierarchy().sort(null).value(null),m=Dr,v=[1,1],x=null;return e.separation=function(t){return arguments.length?(m=t,e):m},e.size=function(t){return arguments.length?(x=null==(v=t)?p:null,e):x?null:v},e.nodeSize=function(t){return arguments.length?(x=null==(v=t)?null:p,e):x?v:null},rr(e,g)},so.layout.cluster=function(){function e(t,e){var n,i=u.call(this,t,e),r=i[0],a=0;or(r,function(t){var e=t.children;e&&e.length?(t.x=Or(e),t.y=Nr(e)):(t.x=n?a+=c(t,n):0,t.y=0,n=t)});var o=Br(r),s=Hr(r),l=o.x-c(o,s)/2,h=s.x+c(s,o)/2;return or(r,d?function(t){t.x=(t.x-r.x)*f[0],t.y=(r.y-t.y)*f[1]}:function(t){t.x=(t.x-l)/(h-l)*f[0],t.y=(1-(r.y?t.y/r.y:1))*f[1]}),i}var u=so.layout.hierarchy().sort(null).value(null),c=Dr,f=[1,1],d=!1;return e.separation=function(t){return arguments.length?(c=t,e):c},e.size=function(t){return arguments.length?(d=null==(f=t),e):d?null:f},e.nodeSize=function(t){return arguments.length?(d=null!=(f=t),e):d?f:null},rr(e,u)},so.layout.treemap=function(){function u(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function c(t){var e=t.children;if(e&&e.length){var n,i,r,a=g(t),o=[],s=e.slice(),l=Infinity,h="slice"===m?a.dx:"dice"===m?a.dy:"slice-dice"===m?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(u(s,a.dx*a.dy/t.value),o.area=0;0<(r=s.length);)o.push(n=s[r-1]),o.area+=n.area,"squarify"!==m||(i=f(o,h))<=l?(s.pop(),l=i):(o.area-=o.pop().area,d(o,h,a,!1),h=Math.min(a.dx,a.dy),o.length=o.area=0,l=Infinity);o.length&&(d(o,h,a,!0),o.length=o.area=0),e.forEach(c)}}function o(t){var e=t.children;if(e&&e.length){var n,i=g(t),r=e.slice(),a=[];for(u(r,i.dx*i.dy/t.value),a.area=0;n=r.pop();)a.push(n),a.area+=n.area,null!=n.z&&(d(a,n.z?i.dx:i.dy,i,!r.length),a.length=a.area=0);e.forEach(o)}}function f(t,e){for(var n,i=t.area,r=0,a=Infinity,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),r<n&&(r=n));return e*=e,(i*=i)?Math.max(e*r*v/i,i/(e*a*v)):Infinity
}function d(t,e,n,i){var r,a=-1,o=t.length,s=n.x,l=n.y,h=e?p(t.area/e):0;if(e==n.dx){for((i||h>n.dy)&&(h=n.dy);++a<o;)(r=t[a]).x=s,r.y=l,r.dy=h,s+=r.dx=Math.min(n.x+n.dx-s,h?p(r.area/h):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=h,n.dy-=h}else{for((i||h>n.dx)&&(h=n.dx);++a<o;)(r=t[a]).x=s,r.y=l,r.dx=h,l+=r.dy=Math.min(n.y+n.dy-l,h?p(r.area/h):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=h,n.dx-=h}}function r(t){var e=i||a(t),n=e[0];return n.x=n.y=0,n.value?(n.dx=s[0],n.dy=s[1]):n.dx=n.dy=0,i&&a.revalue(n),u([n],n.dx*n.dy/n.value),(i?o:c)(n),h&&(i=e),e}var i,a=so.layout.hierarchy(),p=Math.round,s=[1,1],l=null,g=Wr,h=!1,m="squarify",v=.5*(1+Math.sqrt(5));return r.size=function(t){return arguments.length?(s=t,r):s},r.padding=function(n){function t(t){var e=n.call(r,t,t.depth);return null==e?Wr(t):Vr(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Vr(t,n)}return arguments.length?(g=null==(l=n)?Wr:"function"==(i=typeof n)?t:("number"===i&&(n=[n,n,n,n]),e),r):l;var i},r.round=function(t){return arguments.length?(p=t?Math.round:Number,r):p!=Number},r.sticky=function(t){return arguments.length?(h=t,i=null,r):h},r.ratio=function(t){return arguments.length?(v=t,r):v},r.mode=function(t){return arguments.length?(m=t+"",r):m},rr(r,a)},so.random={normal:function(i,r){var t=arguments.length;return t<2&&(r=1),t<1&&(i=0),function(){for(var t,e,n;!(n=(t=2*Math.random()-1)*t+(e=2*Math.random()-1)*e)||1<n;);return i+r*t*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var t=so.random.normal.apply(so,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=so.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},so.scale={};var kl={floor:z,ceil:z};so.scale.linear=function(){return $r([0,1],[0,1],yi,!1)};var Ml={s:1,g:1,p:1,r:1,e:1};so.scale.log=function(){return ia(so.scale.linear().domain([0,1]),10,!0,[1,10])};var Sl=so.format(".0e"),_l={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};so.scale.pow=function(){return ra(so.scale.linear(),1,[0,1])},so.scale.sqrt=function(){return so.scale.pow().exponent(.5)},so.scale.ordinal=function(){return oa([],{t:"range",a:[[]]})},so.scale.category10=function(){return so.scale.ordinal().range(Cl)},so.scale.category20=function(){return so.scale.ordinal().range(Al)},so.scale.category20b=function(){return so.scale.ordinal().range(Tl)},so.scale.category20c=function(){return so.scale.ordinal().range(Il)};var Cl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),Al=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),Tl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Il=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);so.scale.quantile=function(){return sa([],[])},so.scale.quantize=function(){return la(0,1,[0,1])},so.scale.threshold=function(){return ha([.5],[0,1])},so.scale.identity=function(){return ua([0,1])},so.svg={},so.svg.arc=function(){function e(){var t=Math.max(0,+B.apply(this,arguments)),e=Math.max(0,+H.apply(this,arguments)),n=j.apply(this,arguments)-Ho,i=q.apply(this,arguments)-Ho,r=Math.abs(i-n),a=i<n?0:1;if(e<t&&(o=e,e=t,t=o),Bo<=r)return O(e,a)+(t?O(t,1-a):"")+"Z";var o,s,l,h,u,c,f,d,p,g,m,v,x=0,y=0,b=[];if((h=(+Y.apply(this,arguments)||0)/2)&&(l=V===Pl?Math.sqrt(t*t+e*e):+V.apply(this,arguments),a||(y*=-1),e&&(y=et(l/e*Math.sin(h))),t&&(x=et(l/t*Math.sin(h)))),e){u=e*Math.cos(n+y),c=e*Math.sin(n+y),f=e*Math.cos(i-y),d=e*Math.sin(i-y);var w=Math.abs(i-n-2*y)<=No?0:1;if(y&&va(u,c,f,d)===a^w){var k=(n+i)/2;u=e*Math.cos(k),c=e*Math.sin(k),f=d=null}}else u=c=0;if(t){p=t*Math.cos(i-x),g=t*Math.sin(i-x),m=t*Math.cos(n+x),v=t*Math.sin(n+x);var M=Math.abs(n-i+2*x)<=No?0:1;if(x&&va(p,g,m,v)===1-a^M){var S=(n+i)/2;p=t*Math.cos(S),g=t*Math.sin(S),m=v=null}}else p=g=0;if(zo<r&&.001<(o=Math.min(Math.abs(e-t)/2,+W.apply(this,arguments)))){s=t<e^a?0:1;var _=o,C=o;if(r<No){var A=null==m?[p,g]:null==f?[u,c]:Ln([u,c],[m,v],[f,d],[p,g]),T=u-A[0],I=c-A[1],P=f-A[0],D=d-A[1],E=1/Math.sin(Math.acos((T*P+I*D)/(Math.sqrt(T*T+I*I)*Math.sqrt(P*P+D*D)))/2),F=Math.sqrt(A[0]*A[0]+A[1]*A[1]);C=Math.min(o,(t-F)/(E-1)),_=Math.min(o,(e-F)/(E+1))}if(null!=f){var L=xa(null==m?[p,g]:[m,v],[u,c],e,_,a),z=xa([f,d],[p,g],e,_,a);o===_?b.push("M",L[0],"A",_,",",_," 0 0,",s," ",L[1],"A",e,",",e," 0 ",1-a^va(L[1][0],L[1][1],z[1][0],z[1][1]),",",a," ",z[1],"A",_,",",_," 0 0,",s," ",z[0]):b.push("M",L[0],"A",_,",",_," 0 1,",s," ",z[0])}else b.push("M",u,",",c);if(null!=m){var R=xa([u,c],[m,v],t,-C,a),N=xa([p,g],null==f?[u,c]:[f,d],t,-C,a);o===C?b.push("L",N[0],"A",C,",",C," 0 0,",s," ",N[1],"A",t,",",t," 0 ",a^va(N[1][0],N[1][1],R[1][0],R[1][1]),",",1-a," ",R[1],"A",C,",",C," 0 0,",s," ",R[0]):b.push("L",N[0],"A",C,",",C," 0 0,",s," ",R[0])}else b.push("L",p,",",g)}else b.push("M",u,",",c),null!=f&&b.push("A",e,",",e," 0 ",w,",",a," ",f,",",d),b.push("L",p,",",g),null!=m&&b.push("A",t,",",t," 0 ",M,",",1-a," ",m,",",v);return b.push("Z"),b.join("")}function O(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var B=fa,H=da,W=ca,V=Pl,j=pa,q=ga,Y=ma;return e.innerRadius=function(t){return arguments.length?(B=Ct(t),e):B},e.outerRadius=function(t){return arguments.length?(H=Ct(t),e):H},e.cornerRadius=function(t){return arguments.length?(W=Ct(t),e):W},e.padRadius=function(t){return arguments.length?(V=t==Pl?Pl:Ct(t),e):V},e.startAngle=function(t){return arguments.length?(j=Ct(t),e):j},e.endAngle=function(t){return arguments.length?(q=Ct(t),e):q},e.padAngle=function(t){return arguments.length?(Y=Ct(t),e):Y},e.centroid=function(){var t=(+B.apply(this,arguments)+ +H.apply(this,arguments))/2,e=(+j.apply(this,arguments)+ +q.apply(this,arguments))/2-Ho;return[Math.cos(e)*t,Math.sin(e)*t]},e};var Pl="auto";so.svg.line=function(){return ya(z)};var Dl=so.map({linear:ba,"linear-closed":wa,step:ka,"step-before":Ma,"step-after":Sa,basis:Pa,"basis-open":Da,"basis-closed":Ea,bundle:Fa,cardinal:Aa,"cardinal-open":_a,"cardinal-closed":Ca,monotone:Ba});Dl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var El=[0,2/3,1/3,0],Fl=[0,1/3,2/3,0],Ll=[0,1/6,2/3,1/6];so.svg.line.radial=function(){var t=ya(Ha);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(Ma.reverse=Sa).reverse=Ma,so.svg.area=function(){return Wa(z)},so.svg.area.radial=function(){var t=Wa(Ha);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},so.svg.chord=function(){function e(t,e){var n=r(this,l,t,e),i=r(this,h,t,e);return"M"+n.p0+o(n.r,n.p1,n.a1-n.a0)+(a(n,i)?s(n.r,n.p1,n.r,n.p0):s(n.r,n.p1,i.r,i.p0)+o(i.r,i.p1,i.a1-i.a0)+s(i.r,i.p1,n.r,n.p0))+"Z"}function r(t,e,n,i){var r=e.call(t,n,i),a=u.call(t,r,i),o=c.call(t,r,i)-Ho,s=f.call(t,r,i)-Ho;return{r:a,a0:o,a1:s,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(s),a*Math.sin(s)]}}function a(t,e){return t.a0==e.a0&&t.a1==e.a1}function o(t,e,n){return"A"+t+","+t+" 0 "+ +(No<n)+",1 "+e}function s(t,e,n,i){return"Q 0,0 "+i}var l=yn,h=bn,u=Va,c=pa,f=ga;return e.radius=function(t){return arguments.length?(u=Ct(t),e):u},e.source=function(t){return arguments.length?(l=Ct(t),e):l},e.target=function(t){return arguments.length?(h=Ct(t),e):h},e.startAngle=function(t){return arguments.length?(c=Ct(t),e):c},e.endAngle=function(t){return arguments.length?(f=Ct(t),e):f},e},so.svg.diagonal=function(){function e(t,e){var n=o.call(this,t,e),i=s.call(this,t,e),r=(n.y+i.y)/2,a=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(a=a.map(l))[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var o=yn,s=bn,l=ja;return e.source=function(t){return arguments.length?(o=Ct(t),e):o},e.target=function(t){return arguments.length?(s=Ct(t),e):s},e.projection=function(t){return arguments.length?(l=t,e):l},e},so.svg.diagonal.radial=function(){var t=so.svg.diagonal(),e=ja,n=t.projection;return t.projection=function(t){return arguments.length?n(qa(e=t)):e},t},so.svg.symbol=function(){function e(t,e){return(zl.get(n.call(this,t,e))||Ga)(i.call(this,t,e))}var n=Ua,i=Ya;return e.type=function(t){return arguments.length?(n=Ct(t),e):n},e.size=function(t){return arguments.length?(i=Ct(t),e):i},e};var zl=so.map({circle:Ga,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Nl)),n=e*Nl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Rl),n=e*Rl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Rl),n=e*Rl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});so.svg.symbolTypes=zl.keys();var Rl=Math.sqrt(3),Nl=Math.tan(30*Wo);Ao.transition=function(t){for(var e,n,i=Ol||++Vl,r=Ja(t),a=[],o=Bl||{time:Date.now(),ease:Ci,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var h=this[s],u=-1,c=h.length;++u<c;)(n=h[u])&&Ka(n,u,r,i,o),e.push(n)}return $a(a,r,i)},Ao.interrupt=function(t){return this.each(null==t?Hl:Xa(Ja(t)))};var Ol,Bl,Hl=Xa(Ja()),Wl=[],Vl=0;Wl.call=Ao.call,Wl.empty=Ao.empty,Wl.node=Ao.node,Wl.size=Ao.size,so.transition=function(t,e){return t&&t.transition?Ol?t.transition(e):t:so.selection().transition(t)},(so.transition.prototype=Wl).select=function(t){var e,n,i,r=this.id,a=this.namespace,o=[];t=S(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var h=this[s],u=-1,c=h.length;++u<c;)(i=h[u])&&(n=t.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),Ka(n,u,a,r,i[a][r]),e.push(n)):e.push(null)}return $a(o,a,r)},Wl.selectAll=function(t){var e,n,i,r,a,o=this.id,s=this.namespace,l=[];t=_(t);for(var h=-1,u=this.length;++h<u;)for(var c=this[h],f=-1,d=c.length;++f<d;)if(i=c[f]){a=i[s][o],n=t.call(i,i.__data__,f,h),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&Ka(r,p,s,o,a),e.push(r)}return $a(l,s,o)},Wl.filter=function(t){var e,n,i=[];"function"!=typeof t&&(t=W(t));for(var r=0,a=this.length;r<a;r++){i.push(e=[]);for(var o,s=0,l=(o=this[r]).length;s<l;s++)(n=o[s])&&t.call(n,n.__data__,s,r)&&e.push(n)}return $a(i,this.namespace,this.id)},Wl.tween=function(e,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(e):j(this,null==n?function(t){t[r][i].tween.remove(e)}:function(t){t[r][i].tween.set(e,n)})},Wl.attr=function(t,e){function i(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function n(n){return null==n?i:(n+="",function(){var e,t=this.getAttribute(s);return t!==n&&(e=o(t,n),function(t){this.setAttribute(s,e(t))})})}function a(n){return null==n?r:(n+="",function(){var e,t=this.getAttributeNS(s.space,s.local);return t!==n&&(e=o(t,n),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Gi:yi,s=so.ns.qualify(t);return Qa(this,"attr."+t,e,s.local?a:n)},Wl.attrTween=function(t,i){function e(t,e){var n=i.call(this,t,e,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,e){var n=i.call(this,t,e,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=so.ns.qualify(t);return this.tween("attr."+t,r.local?n:e)},Wl.style=function(i,t,r){function e(){this.style.removeProperty(i)}function n(n){return null==n?e:(n+="",function(){var e,t=L(this).getComputedStyle(this,null).getPropertyValue(i);return t!==n&&(e=yi(t,n),function(t){this.style.setProperty(i,e(t),r)})})}var a=arguments.length;if(a<3){if("string"!=typeof i){for(r in a<2&&(t=""),i)this.style(r,i[r],t);return this}r=""}return Qa(this,"style."+i,t,n)},Wl.styleTween=function(i,r,a){function t(t,e){var n=r.call(this,t,e,L(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(t){this.style.setProperty(i,n(t),a)}}return arguments.length<3&&(a=""),this.tween("style."+i,t)},Wl.text=function(t){return Qa(this,"text",t,Za)},Wl.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Wl.ease=function(e){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof e&&(e=so.ease.apply(so,arguments)),j(this,function(t){t[i][n].ease=e}))},Wl.delay=function(i){var r=this.id,a=this.namespace;return arguments.length<1?this.node()[a][r].delay:j(this,"function"==typeof i?function(t,e,n){t[a][r].delay=+i.call(t,t.__data__,e,n)}:(i=+i,function(t){t[a][r].delay=i}))},Wl.duration=function(i){var r=this.id,a=this.namespace;return arguments.length<1?this.node()[a][r].duration:j(this,"function"==typeof i?function(t,e,n){t[a][r].duration=Math.max(1,i.call(t,t.__data__,e,n))}:(i=Math.max(1,i),function(t){t[a][r].duration=i}))},Wl.each=function(i,n){var r=this.id,a=this.namespace;if(arguments.length<2){var t=Bl,e=Ol;try{Ol=r,j(this,function(t,e,n){Bl=t[a][r],i.call(t,t.__data__,e,n)})}finally{Bl=t,Ol=e}}else j(this,function(t){var e=t[a][r];(e.event||(e.event=so.dispatch("start","end","interrupt"))).on(i,n)});return this},Wl.transition=function(){for(var t,e,n,i=this.id,r=++Vl,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(t=[]);for(var h,u=0,c=(h=this[s]).length;u<c;u++)(e=h[u])&&Ka(e,u,a,r,{time:(n=e[a][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return $a(o,a,r)},so.svg.axis=function(){function n(t){t.each(function(){var t,e=so.select(this),n=this.__chart__||A,i=this.__chart__=A.copy(),r=null==F?i.ticks?i.ticks.apply(i,E):i.domain():F,a=null==C?i.tickFormat?i.tickFormat.apply(i,E):z:C,o=e.selectAll(".tick").data(r,i),s=o.enter().insert("g",".domain").attr("class","tick").style("opacity",zo),l=so.transition(o.exit()).style("opacity",zo).remove(),h=so.transition(o.order()).style("opacity",1),u=Math.max(I,0)+D,c=qr(i),f=e.selectAll(".domain").data([0]),d=(f.enter().append("path").attr("class","domain"),so.transition(f));s.append("line"),s.append("text");var p,g,m,v,x=s.select("line"),y=h.select("line"),b=o.select("text").text(a),w=s.select("text"),k=h.select("text"),M="top"===T||"left"===T?-1:1;if("bottom"===T||"top"===T?(t=to,p="x",m="y",g="x2",v="y2",b.attr("dy",M<0?"0em":".71em").style("text-anchor","middle"),d.attr("d","M"+c[0]+","+M*P+"V0H"+c[1]+"V"+M*P)):(t=eo,p="y",m="x",g="y2",v="x2",b.attr("dy",".32em").style("text-anchor",M<0?"end":"start"),d.attr("d","M"+M*P+","+c[0]+"H0V"+c[1]+"H"+M*P)),x.attr(v,M*I),w.attr(m,M*u),y.attr(g,0).attr(v,M*I),k.attr(p,0).attr(m,M*u),i.rangeBand){var S=i,_=S.rangeBand()/2;n=i=function(t){return S(t)+_}}else n.rangeBand?n=i:l.call(t,i,n);s.call(t,n,i),h.call(t,i,i)})}var C,A=so.scale.linear(),T=jl,I=6,P=6,D=3,E=[10],F=null;return n.scale=function(t){return arguments.length?(A=t,n):A},n.orient=function(t){return arguments.length?(T=t in ql?t+"":jl,n):T},n.ticks=function(){return arguments.length?(E=ho(arguments),n):E},n.tickValues=function(t){return arguments.length?(F=t,n):F},n.tickFormat=function(t){return arguments.length?(C=t,n):C},n.tickSize=function(t){var e=arguments.length;return e?(I=+t,P=+arguments[e-1],n):I},n.innerTickSize=function(t){return arguments.length?(I=+t,n):I},n.outerTickSize=function(t){return arguments.length?(P=+t,n):P},n.tickPadding=function(t){return arguments.length?(D=+t,n):D},n.tickSubdivide=function(){return arguments.length&&n},n};var jl="bottom",ql={top:1,right:1,bottom:1,left:1};so.svg.brush=function(){function b(t){t.each(function(){var t=so.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(s,z);n.exit().remove(),n.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Yl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",b.empty()?"none":null);var i,r=so.transition(t),a=so.transition(e);A&&(i=qr(A),a.attr("x",i[0]).attr("width",i[1]-i[0]),k(r)),T&&(i=qr(T),a.attr("y",i[0]).attr("height",i[1]-i[0]),M(r)),w(r)})}function w(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+I[+/e$/.test(t)]+","+P[+/^s/.test(t)]+")"})}function k(t){t.select(".extent").attr("x",I[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",I[1]-I[0])}function M(t){t.select(".extent").attr("y",P[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",P[1]-P[0])}function o(){function t(){32==so.event.keyCode&&(p||(c=null,m[0]-=I[1],m[1]-=P[1],p=2),R())}function e(){32==so.event.keyCode&&2==p&&(m[0]+=I[1],m[1]+=P[1],p=0,R())}function n(){var t=so.mouse(o),e=!1;a&&(t[0]+=a[0],t[1]+=a[1]),p||(so.event.altKey?(c||(c=[(I[0]+I[1])/2,(P[0]+P[1])/2]),m[0]=I[+(t[0]<c[0])],m[1]=P[+(t[1]<c[1])]):c=null),f&&i(t,A,0)&&(k(h),e=!0),d&&i(t,T,1)&&(M(h),e=!0),e&&(w(h),l({type:"brush",mode:p?"move":"resize"}))}function i(t,e,n){var i,r,a=qr(e),o=a[0],s=a[1],l=m[n],h=n?P:I,u=h[1]-h[0];if(p&&(o-=l,s-=u+l),i=(n?E:D)?Math.max(o,Math.min(s,t[n])):t[n],p?r=(i+=l)+u:(c&&(l=Math.max(o,Math.min(s,2*c[n]-i))),l<i?(r=i,i=l):r=l),h[0]!=i||h[1]!=r)return n?_=null:S=null,h[0]=i,h[1]=r,!0}function r(){n(),h.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null),so.select("body").style("cursor",null),v.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g(),l({type:"brushend"})}var c,a,o=this,s=so.select(so.event.target),l=C.of(o,arguments),h=so.select(o),u=s.datum(),f=!/^(n|s)$/.test(u)&&A,d=!/^(e|w)$/.test(u)&&T,p=s.classed("extent"),g=$(o),m=so.mouse(o),v=so.select(L(o)).on("keydown.brush",t).on("keyup.brush",e);if(so.event.changedTouches?v.on("touchmove.brush",n).on("touchend.brush",r):v.on("mousemove.brush",n).on("mouseup.brush",r),h.interrupt().selectAll("*").interrupt(),p)m[0]=I[0]-m[0],m[1]=P[0]-m[1];else if(u){var x=+/w$/.test(u),y=+/^n/.test(u);a=[I[1-x]-m[0],P[1-y]-m[1]],m[0]=I[x],m[1]=P[y]}else so.event.altKey&&(c=m.slice());h.style("pointer-events","none").selectAll(".resize").style("display",null),so.select("body").style("cursor",s.style("cursor")),l({type:"brushstart"}),n()}var S,_,C=N(b,"brushstart","brush","brushend"),A=null,T=null,I=[0,0],P=[0,0],D=!0,E=!0,s=Ul[0];return b.event=function(t){t.each(function(){var i=C.of(this,arguments),r={x:I,y:P,i:S,j:_},t=this.__chart__||r;this.__chart__=r,Ol?so.select(this).transition().each("start.brush",function(){S=t.i,_=t.j,I=t.x,P=t.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=bi(I,r.x),n=bi(P,r.y);return S=_=null,function(t){I=r.x=e(t),P=r.y=n(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){S=r.i,_=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},b.x=function(t){return arguments.length?(s=Ul[!(A=t)<<1|!T],b):A},b.y=function(t){return arguments.length?(s=Ul[!A<<1|!(T=t)],b):T},b.clamp=function(t){return arguments.length?(A&&T?(D=!!t[0],E=!!t[1]):A?D=!!t:T&&(E=!!t),b):A&&T?[D,E]:A?D:T?E:null},b.extent=function(t){var e,n,i,r,a;return arguments.length?(A&&(e=t[0],n=t[1],T&&(e=e[0],n=n[0]),S=[e,n],A.invert&&(e=A(e),n=A(n)),n<e&&(a=e,e=n,n=a),e==I[0]&&n==I[1]||(I=[e,n])),T&&(i=t[0],r=t[1],A&&(i=i[1],r=r[1]),_=[i,r],T.invert&&(i=T(i),r=T(r)),r<i&&(a=i,i=r,r=a),i==P[0]&&r==P[1]||(P=[i,r])),b):(A&&(S?(e=S[0],n=S[1]):(e=I[0],n=I[1],A.invert&&(e=A.invert(e),n=A.invert(n)),n<e&&(a=e,e=n,n=a))),T&&(_?(i=_[0],r=_[1]):(i=P[0],r=P[1],T.invert&&(i=T.invert(i),r=T.invert(r)),r<i&&(a=i,i=r,r=a))),A&&T?[[e,i],[n,r]]:A?[e,n]:T&&[i,r])},b.clear=function(){return b.empty()||(I=[0,0],P=[0,0],S=_=null),b},b.empty=function(){return!!A&&I[0]==I[1]||!!T&&P[0]==P[1]},so.rebind(b,C,"on")};var Yl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ul=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gl=fs.format=xs.timeFormat,Xl=Gl.utc,$l=Xl("%Y-%m-%dT%H:%M:%S.%LZ");Gl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?no:$l,no.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},no.toString=$l.toString,fs.second=Ht(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=Ht(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=Ht(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=Ht(function(t){return(t=fs.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Ql=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zl=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Jl=Gl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ie]]),Kl={range:function(t,e,n){return so.range(Math.ceil(t/n)*n,+e,n).map(ro)},floor:z,ceil:z};Zl.year=fs.year,fs.scale=function(){return io(so.scale.linear(),Zl,Jl)};var th=Zl.map(function(t){return[t[0].utc,t[1]]}),eh=Xl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ie]]);th.year=fs.year.utc,fs.scale.utc=function(){return io(so.scale.linear(),th,eh)},so.text=At(function(t){return t.responseText}),so.json=function(t,e){return Tt(t,"application/json",ao,e)},so.html=function(t,e){return Tt(t,"text/html",oo,e)},so.xml=At(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=so,define(so)):"object"==typeof module&&module.exports?module.exports=so:this.d3=so}(),function(e,n){"function"==typeof define&&define.amd?define(["d3"],function(t){return e.Rickshaw=n(t)}):"object"==typeof exports?module.exports=n(require("d3")):e.Rickshaw=n(d3)}(this,function(x){var l={namespace:function(t){for(var e=t.split("."),n=l,i=1,r=e.length;i<r;i++){var a=e[i];n[a]=n[a]||{},n=n[a]}return n},keys:function(t){var e=[];for(var n in t)e.push(n);return e},extend:function(t,e){for(var n in e)t[n]=e[n];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};return function(t){function h(t){return e.call(t)===x}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function u(t){if(i(t)!==v)throw new TypeError;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function i(t){switch(t){case null:return n;case void 0:return l}switch(typeof t){case"boolean":return p;case"number":return g;case"string":return m}return v}function r(t){return void 0===t}function c(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function f(t,e){var n=t;return function(){var t=a([d(n,this)],arguments);return e.apply(this,t)}}function a(t,e){for(var n=t.length,i=e.length;i--;)t[n+i]=e[i];return t}function o(t,e){return a(t=y.call(t,0),e)}function d(t,e){if(arguments.length<2&&r(t))return this;var n=t,i=y.call(arguments,2);return function(){var t=o(i,arguments);return n.apply(e,t)}}var e=Object.prototype.toString,n="Null",l="Undefined",p="Boolean",g="Number",m="String",v="Object",x="[object Function]",y=Array.prototype.slice,b=function(){},w=function(){function o(){}function t(){function t(){this.initialize.apply(this,arguments)}var e=null,n=[].slice.apply(arguments);if(h(n[0])&&(e=n.shift()),s(t,w.Methods),t.superclass=e,t.subclasses=[],e){o.prototype=e.prototype,t.prototype=new o;try{e.subclasses.push(t)}catch(a){}}for(var i=0,r=n.length;i<r;i++)t.addMethods(n[i]);return t.prototype.initialize||(t.prototype.initialize=b),t.prototype.constructor=t}function e(t){var e=this.superclass&&this.superclass.prototype,n=u(t);l&&(t.toString!=Object.prototype.toString&&n.push("toString"),t.valueOf!=Object.prototype.valueOf&&n.push("valueOf"));for(var i=0,r=n.length;i<r;i++){var a=n[i],o=t[a];if(e&&h(o)&&"$super"==c(o)[0]){var s=o;(o=f(function(t){return function(){return e[t].apply(this,arguments)}}(a),s)).valueOf=d(s.valueOf,s),o.toString=d(s.toString,s)}this.prototype[a]=o}return this}var l=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:t,Methods:{addMethods:e}}}();t.exports?t.exports.Class=w:t.Class=w}(l),l.namespace("Rickshaw.Compat.ClassList"),l.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||function(t){"use strict";var e="classList",n="prototype",i=(t.HTMLElement||t.Element)[n],r=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},h=function(t){for(var e=a.call(t.className),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.className=this.toString()}},u=h[n]=[],c=function(){return new h(this)};if(s[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==l(this,t+="")},u.add=function(t){-1===l(this,t+="")&&(this.push(t),this._updateClassName())},u.remove=function(t){var e=l(this,t+="");-1!==e&&(this.splice(e,1),this._updateClassName())},u.toggle=function(t){-1===l(this,t+="")?this.add(t):this.remove(t)},u.toString=function(){return this.join(" ")},r.defineProperty){var f={get:c,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,f)}catch(d){-2146823252===d.number&&(f.enumerable=!1,r.defineProperty(i,e,f))}}else r[n].__defineGetter__&&i.__defineGetter__(e,c)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new l.Compat.ClassList,l.namespace("Rickshaw.Graph"),l.Graph=function(t){var a=this;this.initialize=function(t){if(!t.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==t.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=t.element,this.series=t.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:undefined,max:undefined,preserve:!1,xScale:undefined,yScale:undefined,stack:!0},this._loadRenderers(),this.configure(t),this.validateSeries(t.series),this.series.active=function(){return a.series.filter(function(t){return!t.disabled})},this.setSize({width:t.width,height:t.height}),this.element.classList.add("rickshaw_graph"),this.vis=x.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in l.Graph.Renderer)if(t&&l.Graph.Renderer.hasOwnProperty(t)){var e=l.Graph.Renderer[t];e&&e.prototype&&e.prototype.render&&a.registerRenderer(new e({graph:a}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof l.Series))throw"series is not an array: "+Object.prototype.toString.apply(t);t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);if(0<t.data.length){var e=t.data[0].x,n=t.data[0].y;if("number"!=typeof e||"number"!=typeof n&&null!==n)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof n}if(3<=t.data.length&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var t=this.series.map(function(t){return t.data});return[x.min(t.map(function(t){return t[0].x})),x.max(t.map(function(t){return t[t.length-1].x}))]},this.discoverRange=function(){var t=this.renderer.domain();this.x=(this.xScale||x.scale.linear()).copy().domain(t.x).range([0,this.width]),this.y=(this.yScale||x.scale.linear()).copy().domain(t.y).range([this.height,0]),this.x.magnitude=x.scale.linear().domain([t.x[0]-t.x[0],t.x[1]-t.x[0]]).range([0,this.width]),this.y.magnitude=x.scale.linear().domain([t.y[0]-t.y[0],t.y[1]-t.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var e,i=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),n=this.preserve;if(n||this.series.forEach(function(t){t.scale&&(n=!0)}),i=n?l.clone(i):i,this.series.active().forEach(function(e,t){if(e.scale){var n=i[t];n&&n.forEach(function(t){t.y=e.scale(t.y)})}}),this.stackData.hooks.data.forEach(function(t){i=t.f.apply(a,[i])}),!this.renderer.unstack){this._validateStackable();var t=x.layout.stack();t.offset(a.offset),e=t(i)}e=e||i,this.renderer.unstack&&e.forEach(function(t){t.forEach(function(t){t.y0=t.y0===undefined?0:t.y0})}),this.stackData.hooks.after.forEach(function(t){e=t.f.apply(a,[i])});var r=0;return this.series.forEach(function(t){t.disabled||(t.stack=e[r++])}),this.stackedData=e},this._validateStackable=function(){var e;this.series.forEach(function(t){if((e=e||t.data.length)&&t.data.length!=e)throw"stacked series cannot have differing numbers of points: "+e+" vs "+t.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(e){this.config=this.config||{},(e.width||e.height)&&this.setSize(e),l.keys(this.defaults).forEach(function(t){this.config[t]=t in e?e[t]:t in this?this[t]:this.defaults[t]},this),l.keys(this.config).forEach(function(t){this[t]=this.config[t]},this),"stack"in e&&(e.unstack=!e.stack);var t=e.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(t,e),this.configureCallbacks.forEach(function(t){t(e)})},this.setRenderer=function(t,e){if("function"==typeof t)this.renderer=new t({graph:a}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof e&&this.renderer.configure(e)},this.setSize=function(t){if(t=t||{},
"undefined"!=typeof window)var e=window.getComputedStyle(this.element,null),n=parseInt(e.getPropertyValue("width"),10),i=parseInt(e.getPropertyValue("height"),10);this.width=t.width||n||400,this.height=t.height||i||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(t)},l.namespace("Rickshaw.Fixtures.Color"),l.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},l.namespace("Rickshaw.Fixtures.RandomData"),l.Fixtures.RandomData=function(o){o=o||1;var e=200,s=Math.floor((new Date).getTime()/1e3);this.addData=function(t){var i=100*Math.random()+15+e,r=t[0].length,a=1;t.forEach(function(t){var e=20*Math.random(),n=i/25+a+++15*(Math.cos(r*a*11/960)+2)+7*(Math.cos(r/7)+2)+1*(Math.cos(r/17)+2);t.push({x:r*o+s,y:n+e})}),e=.85*i},this.removeData=function(t){t.forEach(function(t){t.shift()}),s+=o}},l.namespace("Rickshaw.Fixtures.Time"),l.Fixtures.Time=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(e){return this.units.filter(function(t){return e==t.name}).shift()},this.formatDate=function(t){return x.time.format("%b %e")(t)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i;if("month"==e.name){if(n=new Date(1e3*t),Date.UTC(n.getUTCFullYear(),n.getUTCMonth())/1e3==t)return t;i=n.getUTCFullYear();var r=n.getUTCMonth();return 11==r?(r=0,i+=1):r+=1,Date.UTC(i,r)/1e3}return"year"==e.name?(n=new Date(1e3*t),Date.UTC(n.getUTCFullYear(),0)/1e3==t?t:(i=n.getUTCFullYear()+1,Date.UTC(i,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},l.namespace("Rickshaw.Fixtures.Time.Local"),l.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(e){return this.units.filter(function(t){return e==t.name}).shift()},this.formatDate=function(t){return x.time.format("%b %e")(t)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i,r;if("day"==e.name){var a=new Date(1e3*(t+e.seconds-1)),o=new Date(0);return o.setFullYear(a.getFullYear()),o.setMonth(a.getMonth()),o.setDate(a.getDate()),o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o.getTime()/1e3}if("month"==e.name){if(n=new Date(1e3*t),new Date(n.getFullYear(),n.getMonth()).getTime()/1e3==t)return t;i=n.getFullYear();var s=n.getMonth();return 11==s?(s=0,i+=1):s+=1,new Date(i,s).getTime()/1e3}return"year"==e.name?(n=new Date(1e3*t),new Date(n.getUTCFullYear(),0).getTime()/1e3==t?t:(i=n.getFullYear()+1,new Date(i,0).getTime()/1e3)):(r=60*new Date(1e3*t).getTimezoneOffset(),Math.ceil((t-r)/e.seconds)*e.seconds+r)}},l.namespace("Rickshaw.Fixtures.Number"),l.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return 1e12<=e?t/1e12+"T":1e9<=e?t/1e9+"B":1e6<=e?t/1e6+"M":1e3<=e?t/1e3+"K":e<1&&0<t?t.toFixed(2):0===e?"":t},l.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return 0x4000000000000<=e?t/0x4000000000000+"P":1099511627776<=e?t/1099511627776+"T":1073741824<=e?t/1073741824+"G":1048576<=e?t/1048576+"M":1024<=e?t/1024+"K":e<1&&0<t?t.toFixed(2):0===e?"":t},l.namespace("Rickshaw.Color.Palette"),l.Color.Palette=function(t){var e=new l.Fixtures.Color;if(t=t||{},this.schemes={},this.scheme=e.schemes[t.scheme]||t.scheme||e.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,t.interpolatedStopCount){var n,i,r=this.scheme.length-1,a=[];for(n=0;n<r;n++){a.push(this.scheme[n]);var o=x.interpolateHsl(this.scheme[n],this.scheme[n+1]);for(i=1;i<t.interpolatedStopCount;i++)a.push(o(1/t.interpolatedStopCount*i))}a.push(this.scheme[this.scheme.length-1]),this.scheme=a}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){var t;if(Array.isArray(this.scheme))return this.generatorIndex==2*this.rotateCount-1?(t=x.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(t=x.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(t),t}},l.namespace("Rickshaw.Graph.Ajax"),l.Graph.Ajax=l.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new l.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,n=t.series;return t.series?(n.forEach(function(n){var i=n.key||n.name;if(!i)throw"series needs a key or a name";e.forEach(function(e){var t=e.key||e.name;if(!t)throw"data needs a key or a name";i==t&&["color","name","data"].forEach(function(t){e[t]&&(n[t]=e[t])})})}),n):e}}),l.namespace("Rickshaw.Graph.Annotate"),l.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var s=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,e,n){s.data[t]=s.data[t]||{boxes:[]},s.data[t].boxes.push({content:e,end:n})},this.update=function(){l.keys(s.data).forEach(function(t){var a=s.data[t],o=s.graph.x(t);if(o<0||o>s.graph.x.range()[1])return a.element&&(a.line.classList.add("offscreen"),a.element.style.display="none"),void a.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!a.element){var e=a.element=document.createElement("div");e.classList.add("annotation"),this.elements.timeline.appendChild(e),e.addEventListener("click",function(){e.classList.toggle("active"),a.line.classList.toggle("active"),a.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}a.element.style.left=o+"px",a.element.style.display="block",a.boxes.forEach(function(t){var e=t.element;if(e||((e=t.element=document.createElement("div")).classList.add("content"),e.innerHTML=t.content,a.element.appendChild(e),a.line=document.createElement("div"),a.line.classList.add("annotation_line"),s.graph.element.appendChild(a.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),s.graph.element.appendChild(t.rangeElement))),t.end){var n=o,i=Math.min(s.graph.x(t.end),s.graph.x.range()[1]);i<n&&(i=o,n=Math.max(s.graph.x(t.end),s.graph.x.range()[0]));var r=i-n;t.rangeElement.style.left=n+"px",t.rangeElement.style.width=r+"px",t.rangeElement.classList.remove("offscreen")}a.line.classList.remove("offscreen"),a.line.style.left=o+"px"})},this)},this.graph.onUpdate(function(){s.update()})},l.namespace("Rickshaw.Graph.Axis.Time"),l.Graph.Axis.Time=function(t){var i=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var s=t.timeFixture||new l.Fixtures.Time;this.appropriateTimeUnit=function(){var e,t=s.units,n=this.graph.x.domain(),i=n[1]-n[0];return t.forEach(function(t){2<=Math.floor(i/t.seconds)&&(e=e||t)}),e||s.units[s.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((t[1]-t[0])/e.seconds),i=t[0],r=[],a=0;a<n;a++){var o=s.ceil(i,e);i=o+e.seconds/2,r.push({value:o,unit:e})}return r},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[],this.tickOffsets().forEach(function(t){if(!(i.graph.x(t.value)>i.graph.x.range()[1])){var e=document.createElement("div");e.style.left=i.graph.x(t.value)+"px",e.classList.add("x_tick"),e.classList.add(i.ticksTreatment);var n=document.createElement("div");n.classList.add("title"),n.innerHTML=t.unit.formatter(new Date(1e3*t.value)),e.appendChild(n),i.graph.element.appendChild(e),i.elements.push(e)}})},this.graph.onUpdate(function(){i.render()})},l.namespace("Rickshaw.Graph.Axis.X"),l.Graph.Axis.X=function(a){var e=this,o=.1;this.initialize=function(t){this.graph=t.graph,this.orientation=t.orientation||"top",this.pixelsPerTick=t.pixelsPerTick||75,t.ticks&&(this.staticTicks=t.ticks),t.tickValues&&(this.tickValues=t.tickValues),this.tickSize=t.tickSize||4,this.ticksTreatment=t.ticksTreatment||"plain",t.element?(this.element=t.element,this._discoverSize(t.element,t),this.vis=x.select(t.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:t.width,height:t.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){e.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",this.width*(1+o));var e=Math.floor(this.width*o/2);this.element.style.left=-1*e+"px"}},this.render=function(){this._renderWidth!==undefined&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var t=x.svg.axis().scale(this.graph.x).orient(this.orientation);t.tickFormat(a.tickFormat||function(t){return t}),this.tickValues&&t.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var e,n=Math.floor(this.width*o/2)||0,i="bar"==this.graph.renderer.name&&Math.ceil(.95*this.graph.width/this.graph.series[0].data.length/2)||0;"top"==this.orientation?e="translate("+(n+i)+","+(this.height||this.graph.height)+")":e="translate("+(n+i)+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",e).call(t.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var r=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(r)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var n=window.getComputedStyle(t,null),i=parseInt(n.getPropertyValue("height"),10);if(!e.auto)var r=parseInt(n.getPropertyValue("width"),10)}this.width=(e.width||r||this.graph.width)*(1+o),this.height=e.height||i||40},this.initialize(a)},l.namespace("Rickshaw.Graph.Axis.Y"),l.Graph.Axis.Y=l.Class.create({initialize:function(t){this.graph=t.graph,this.orientation=t.orientation||"right",this.pixelsPerTick=t.pixelsPerTick||75,t.ticks&&(this.staticTicks=t.ticks),t.tickValues&&(this.tickValues=t.tickValues),this.tickSize=t.tickSize||4,this.ticksTreatment=t.ticksTreatment||"plain",this.tickFormat=t.tickFormat||function(t){return t},this.berthRate=.1,t.element?(this.element=t.element,this.vis=x.select(t.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:t.width,height:t.height})):this.vis=this.graph.vis;var e=this;this.graph.onUpdate(function(){e.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),n=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var i=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||n||this.graph.width*this.berthRate,this.height=t.height||i||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var r=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*r+"px")}},render:function(){this._renderHeight!==undefined&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(t){var e=x.svg.axis().scale(t).orient(this.orientation);if(e.tickFormat(this.tickFormat),this.tickValues&&e.tickValues(this.tickValues),"left"==this.orientation)var n=this.height*this.berthRate,i="translate("+this.width+", "+n+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",i).call(e.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),e},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),l.namespace("Rickshaw.Graph.Axis.Y.Scaled"),l.Graph.Axis.Y.Scaled=l.Class.create(l.Graph.Axis.Y,{initialize:function($super,t){if("undefined"==typeof t.scale)throw new Error("Scaled requires scale");this.scale=t.scale,"undefined"==typeof t.grid?this.grid=!0:this.grid=t.grid,$super(t)},_drawAxis:function($super,t){var e=this.scale.domain(),n=this.graph.renderer.domain().y,i=[Math.min.apply(Math,e),Math.max.apply(Math,e)],r=x.scale.linear().domain([0,1]).range(i),a=[r(n[0]),r(n[1])],o=x.scale.linear().domain(i).range(a);return $super(this.scale.copy().domain(e.map(o)).range(t.range()))},_drawGrid:function($super,t){this.grid&&$super(t)}}),l.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),l.Graph.Behavior.Series.Highlight=function(t){this.graph=t.graph,this.legend=t.legend;var r=this,a={},e=null,o=t.disabledColor||function(t){return x.interpolateRgb(t,x.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(i){i.element.addEventListener("mouseover",function(){e||(e=i,r.legend.lines.forEach(function(t){if(i!==t)a[t.series.name]=a[t.series.name]||t.series.color,t.series.color=o(t.series.color);else if(r.graph.renderer.unstack&&(!t.series.renderer||t.series.renderer.unstack)){var e=r.graph.series.indexOf(t.series);t.originalIndex=e;var n=r.graph.series.splice(e,1)[0];r.graph.series.push(n)}}),r.graph.update())},!1),i.element.addEventListener("mouseout",function(){e&&(e=null,r.legend.lines.forEach(function(t){if(i===t&&t.hasOwnProperty("originalIndex")){var e=r.graph.series.pop();r.graph.series.splice(t.originalIndex,0,e),delete t.originalIndex}a[t.series.name]&&(t.series.color=a[t.series.name])}),r.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){r.addHighlightEvents(t)})},l.namespace("Rickshaw.Graph.Behavior.Series.Order"),l.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if("undefined"==typeof window.jQuery)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(e.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(){var n=[];jQuery(e.legend.list).find("li").each(function(t,e){e.series&&n.push(e.series)});for(var t=e.graph.series.length-1;0<=t;t--)e.graph.series[t]=n.shift();e.graph.update()}}),jQuery(e.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(e.legend.element).height;e.legend.element.style.height=t})},l.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),l.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var r=this;if(this.addAnchor=function(i){var t=document.createElement("a");t.innerHTML="&#10004;",t.classList.add("action"),i.element.insertBefore(t,i.element.firstChild),t.onclick=function(){if(i.series.disabled)i.series.enable(),i.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;i.series.disable(),i.element.classList.add("disabled")}r.graph.update()}.bind(this),i.element.getElementsByTagName("span")[0].onclick=function(){var t=i.series.disabled;if(!t)for(var e=0;e<r.legend.lines.length;e++){var n=r.legend.lines[e];if(i.series===n.series);else if(!n.series.disabled){t=!0;break}}t?(i.series.enable(),i.element.classList.remove("disabled"),r.legend.lines.forEach(function(t){i.series===t.series||(t.series.disable(),t.element.classList.add("disabled"))})):r.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")}),r.graph.update()}},this.legend){var e=jQuery;void 0!==e&&e(this.legend.list).sortable&&e(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){r.addAnchor(t)})}this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(r.graph.series.length<=1)throw"only one series left";t.disabled=!0},t.enable=function(){t.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},l.namespace("Rickshaw.Graph.HoverDetail"),l.Graph.HoverDetail=l.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var n=this.element=document.createElement("div");n.className="detail",this.visible=!0,e.element.appendChild(n),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,n,i,r){return t.name+":&nbsp;"+r},update:function(t){if((t=t||this.lastEvent)&&(this.lastEvent=t).target.nodeName.match(/^(path|svg|rect|circle)$/)){var f,d=this.graph,p=t.offsetX||t.layerX,g=t.offsetY||t.layerY,m=0,v=[];if(this.graph.series.active().forEach(function(t){var e=this.graph.stackedData[m++];if(e.length){var n=d.x.invert(p),i=x.scale.linear().domain([e[0].x,e.slice(-1)[0].x]).range([0,e.length-1]),r=Math.round(i(n));r==e.length-1&&r--;for(var a=Math.min(r||0,e.length-1),o=r;o<e.length-1&&(e[o]&&e[o+1]);){if(e[o].x<=n&&e[o+1].x>n){a=Math.abs(n-e[o].x)<Math.abs(n-e[o+1].x)?o:o+1;break}e[o+1].x<=n?o++:o--}a<0&&(a=0);var s=e[a],l=Math.sqrt(Math.pow(Math.abs(d.x(s.x)-p),2)+Math.pow(Math.abs(d.y(s.y+s.y0)-g),2)),h=t.xFormatter||this.xFormatter,u=t.yFormatter||this.yFormatter,c={formattedXValue:h(s.x),formattedYValue:u(t.scale?t.scale.invert(s.y):s.y),series:t,value:s,distance:l,order:m,name:t.name};(!f||l<f.distance)&&(f=c),v.push(c)}},this),f){f.active=!0;var e=f.value.x,n=f.formattedXValue;this.element.innerHTML="",this.element.style.left=d.x(e)+"px",this.visible&&this.render({points:v,detail:v,mouseX:p,mouseY:g,formattedXValue:n,domainX:e})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,n=t.points.filter(function(t){return t.active}).shift();if(null!==n.value.y){var i=n.formattedXValue,r=n.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(n.value.x)+"px";var a=document.createElement("div");a.className="x_label",a.innerHTML=i,this.element.appendChild(a);var o=document.createElement("div");o.className="item";var s=n.series,l=s.scale?s.scale.invert(n.value.y):n.value.y;o.innerHTML=this.formatter(s,n.value.x,l,i,r,n),o.style.top=this.graph.y(n.value.y0+n.value.y)+"px",this.element.appendChild(o);var h=document.createElement("div");h.className="dot",h.style.top=o.style.top,h.style.borderColor=s.color,this.element.appendChild(h),n.active&&(o.classList.add("active"),h.classList.add("active"));var u=[a,o];u.forEach(function(t){t.classList.add("left")}),this.show();var c=this._calcLayoutError(u);if(0<c)u.forEach(function(t){t.classList.remove("left"),t.classList.add("right")}),c<this._calcLayoutError(u)&&u.forEach(function(t){t.classList.remove("right"),t.classList.add("left")});"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){var n=this.element.parentNode.getBoundingClientRect(),i=0;t.forEach(function(t){var e=t.getBoundingClientRect();e.width&&(e.right>n.right&&(i+=e.right-n.right),e.left<n.left&&(i+=n.left-e.left))});return i},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),l.namespace("Rickshaw.Graph.JSONP"),l.Graph.JSONP=l.Class.create(l.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),l.namespace("Rickshaw.Graph.Legend"),l.Graph.Legend=l.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var e=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var t=this.graph.series.map(function(t){return t});this.naturalOrder||(t=t.reverse()),t.forEach(function(t){e.addLine(t)})},addLine:function(t){var e=document.createElement("li");e.className="line",t.disabled&&(e.className+=" disabled"),t.className&&x.select(e).classed(t.className,!0);var n=document.createElement("div");n.className="swatch",n.style.backgroundColor=t.color,e.appendChild(n);var i=document.createElement("span");i.className="label",i.innerHTML=t.name,e.appendChild(i),this.list.appendChild(e),(e.series=t).noLegend&&(e.style.display="none");var r={element:e,series:t};return this.shelving&&(this.shelving.addAnchor(r),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(r),this.lines.push(r),e}}),l.namespace("Rickshaw.Graph.RangeSlider"),l.Graph.RangeSlider=l.Class.create({initialize:function(t){var e=jQuery,n=this,i=this.element=t.element,r=this.graphs=t.graphs;r||(r=this.graph=t.graph),r.constructor!==Array&&(r=[r]),this.graph=r[0],this.slideCallbacks=[],this.build();for(var a=0;a<r.length;a++)r[a].onUpdate(function(){n.update()}.bind(n)),r[a].onConfigure(function(){e(i)[0].style.width=r[a].width+"px"}.bind(n))},build:function(){var t,e=this.element,n=jQuery,i=this,r=this.graphs||this.graph;r.constructor!==Array&&(r=[r]),this.graph=r[0],t=r[0].dataDomain(),n(function(){n(e).slider({range:!0,min:t[0],max:t[1],values:[t[0],t[1]],start:function(t,e){i.slideStarted({event:t,ui:e})},stop:function(t,e){i.slideFinished({event:t,ui:e})},slide:function(t,e){if(i.slideShouldUpdate(t,e)&&!(e.values[1]<=e.values[0]))for(var n=0;n<r.length;n++)i.processSlideChange({event:t,ui:e,graph:r[n]})}})}),r[0].onConfigure(function(){n(e)[0].style.width=r[0].width+"px"}.bind(this))},update:function(){var t=this.element,e=this.graph,n=jQuery,i=n(t).slider("option","values"),r=e.dataDomain();n(t).slider("option","min",r[0]),n(t).slider("option","max",r[1]),null==e.window.xMin&&(i[0]=r[0]),null==e.window.xMax&&(i[1]=r[1]),n(t).slider("option","values",i)},onSlide:function(t){this.slideCallbacks.push(t)},processSlideChange:function(t){t.event;var e=t.ui,n=t.graph;n.window.xMin=e.values[0],n.window.xMax=e.values[1],n.update();var i=n.dataDomain();i[0]==e.values[0]&&(n.window.xMin=undefined),i[1]==e.values[1]&&(n.window.xMax=undefined),this.slideCallbacks.forEach(function(t){t(n,n.window.xMin,n.window.xMax)})},slideShouldUpdate:function(){return!0},slideStarted:function(){},slideFinished:function(){}}),l.namespace("Rickshaw.Graph.RangeSlider.Preview"),l.Graph.RangeSlider.Preview=l.Class.create({initialize:function(t){if(!t.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!t.graph&&!t.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=t.element,this.element.style.position="relative",this.graphs=t.graph?[t.graph]:t.graphs,this.defaults={height:75,width:400,gripperColor:undefined,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=t.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=x.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],t.width||(this.widthFromGraph=!0),t.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(t),this.render()}.bind(this)),t.width=t.width||this.graphs[0].width||this.defaults.width,t.height=t.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(t),this.render()},onSlide:function(t){this.slideCallbacks.push(t)},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(e){this.config=this.config||{},this.configureCallbacks.forEach(function(t){t(e)}),l.keys(this.defaults).forEach(function(t){this.config[t]=t in e?e[t]:t in this.config?this.config[t]:this.defaults[t]},this),("width"in e||"height"in e)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,n=this.config.width-2*this.config.frameHandleThickness;if(t.setSize({width:n,height:e}),this.svg){var i=e+2*this.config.frameHandleThickness,r=n+2*this.config.frameHandleThickness;this.svg.style("width",r+"px"),this.svg.style("height",i+"px")}},this))},render:function(){var a=this;this.svg=x.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var t=function(t){var e=l.extend({},t.config),n=a.previewHeight/a.graphs.length,i=t.renderer.name;l.extend(e,{element:this.appendChild(document.createElement("div")),height:n,width:a.previewWidth,series:t.series,renderer:i});var r=new l.Graph(e);a.previews.push(r),t.onUpdate(function(){r.render(),a.render()}),t.onConfigure(function(t){delete t.height,t.width=t.width-2*a.config.frameHandleThickness,r.configure(t),r.render()}),r.render()},e=x.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),n="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";e.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",n).style("-moz-transform",n).style("-ms-transform",n).style("transform",n).each(t),e.exit().remove();var i=this.graphs[0],r=x.scale.linear().domain([0,this.previewWidth]).range(i.dataDomain()),o=[i.window.xMin,i.window.xMax];this.currentFrame[0]=o[0]===undefined?0:Math.round(r.invert(o[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=o[1]===undefined?this.previewWidth:r.invert(o[1]),this.currentFrame[1]-this.currentFrame[0]<a.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+a.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",
e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]).attr("height",this.config.height);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function t(){s.stop=l._getClientXFromEvent(x.event,s);var t=s.stop-s.start,i=l.frameBeforeDrag.slice(0),e=l.config.minimumFrameWidth;s.rigid&&(e=l.frameBeforeDrag[1]-l.frameBeforeDrag[0]),s.left&&(i[0]=Math.max(i[0]+t,0)),s.right&&(i[1]=Math.min(i[1]+t,l.previewWidth)),i[1]-i[0]<=e&&(s.left&&(i[0]=i[1]-e),s.right&&(i[1]=i[0]+e),i[0]<=0&&(i[1]-=i[0],i[0]=0),i[1]>=l.previewWidth&&(i[0]-=i[1]-l.previewWidth,i[1]=l.previewWidth)),l.graphs.forEach(function(e){var t=x.scale.linear().interpolate(x.interpolateNumber).domain([0,l.previewWidth]).range(e.dataDomain()),n=[t(i[0]),t(i[1])];l.slideCallbacks.forEach(function(t){t(e,n[0],n[1])}),0===i[0]&&(n[0]=undefined),i[1]===l.previewWidth&&(n[1]=undefined),e.window.xMin=n[0],e.window.xMax=n[1],e.update()})}function e(){s.target=x.event.target,s.start=l._getClientXFromEvent(x.event,s),l.frameBeforeDrag=l.currentFrame.slice(),x.event.preventDefault?x.event.preventDefault():x.event.returnValue=!1,x.select(document).on("mousemove.rickshaw_range_slider_preview",t),x.select(document).on("mouseup.rickshaw_range_slider_preview",a),x.select(document).on("touchmove.rickshaw_range_slider_preview",t),x.select(document).on("touchend.rickshaw_range_slider_preview",a),x.select(document).on("touchcancel.rickshaw_range_slider_preview",a)}function n(){s.left=!0,e()}function i(){s.right=!0,e()}function r(){s.left=!0,s.right=!0,s.rigid=!0,e()}function a(){x.select(document).on("mousemove.rickshaw_range_slider_preview",null),x.select(document).on("mouseup.rickshaw_range_slider_preview",null),x.select(document).on("touchmove.rickshaw_range_slider_preview",null),x.select(document).on("touchend.rickshaw_range_slider_preview",null),x.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete l.frameBeforeDrag,s.left=!1,s.right=!1,s.rigid=!1}var o=x.select(this.element),s={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},l=this;o.select("rect.left_handle").on("mousedown",n),o.select("rect.right_handle").on("mousedown",i),o.select("rect.middle_handle").on("mousedown",r),o.select("rect.left_handle").on("touchstart",n),o.select("rect.right_handle").on("touchstart",i),o.select("rect.middle_handle").on("touchstart",r)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var n=t.changedTouches,i=null,r=0;r<n.length;r++)if(n[r].target===e.target){i=n[r];break}return null!==i?i.clientX:undefined;default:return t.clientX}}}),l.namespace("Rickshaw.Graph.Renderer"),l.Graph.Renderer=l.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1,opacity:1}},domain:function(t){var e=t||this.graph.stackedData||this.graph.stackData();e=e.filter(function(t){return t&&0!==t.length});var n=+Infinity,i=-Infinity,r=+Infinity,a=-Infinity;return e.forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;e<r&&(r=e),a<e&&(a=e)}}),t.length&&(t[0].x<n&&(n=t[0].x),t[t.length-1].x>i&&(i=t[t.length-1].x))}),n-=(i-n)*this.padding.left,i+=(i-n)*this.padding.right,r="auto"===this.graph.min?r:this.graph.min||0,a=this.graph.max===undefined?a:this.graph.max,("auto"===this.graph.min||r<0)&&(r-=(a-r)*this.padding.bottom),this.graph.max===undefined&&(a+=(a-r)*this.padding.top),{x:[n,i],y:[r,a]}},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=i.selectAll("path.path").data(r).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var o=i.selectAll("path.stroke").data(r).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var s=0;n.forEach(function(t){t.disabled||(t.path=a[0][s],this.stroke&&(t.stroke=o[0][s]),this._styleSeries(t),s++)},this)},_styleSeries:function(t){var e=this.fill?t.color:"none",n=this.stroke?t.color:"none",i=t.strokeWidth?t.strokeWidth:this.strokeWidth,r=t.opacity?t.opacity:this.opacity;t.path.setAttribute("fill",e),t.path.setAttribute("stroke",n),t.path.setAttribute("stroke-width",i),t.path.setAttribute("opacity",r),t.className&&x.select(t.path).classed(t.className,!0),t.className&&this.stroke&&x.select(t.stroke).classed(t.className,!0)},configure:function(n){n=n||{},l.keys(this.defaults()).forEach(function(e){n.hasOwnProperty(e)?"object"==typeof this.defaults()[e]?l.keys(this.defaults()[e]).forEach(function(t){this[e][t]=n[e][t]!==undefined?n[e][t]:this[e][t]!==undefined?this[e][t]:this.defaults()[e][t]},this):this[e]=n[e]!==undefined?n[e]:this[e]!==undefined?this[e]:this.graph[e]!==undefined?this.graph[e]:this.defaults()[e]:this[e]=this[e]||this.graph[e]||this.defaults()[e]},this)},setStrokeWidth:function(t){t!==undefined&&(this.strokeWidth=t)},setTension:function(t){t!==undefined&&(this.tension=t)}}),l.namespace("Rickshaw.Graph.Renderer.Line"),l.Graph.Renderer.Line=l.Class.create(l.Graph.Renderer,{name:"line",defaults:function($super){return l.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var e=this.graph,t=x.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return t.defined&&t.defined(function(t){return null!==t.y}),t}}),l.namespace("Rickshaw.Graph.Renderer.Stack"),l.Graph.Renderer.Stack=l.Class.create(l.Graph.Renderer,{name:"stack",defaults:function($super){return l.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var e=this.graph,t=x.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return t.defined&&t.defined(function(t){return null!==t.y}),t}}),l.namespace("Rickshaw.Graph.Renderer.Bar"),l.Graph.Renderer.Bar=l.Class.create(l.Graph.Renderer,{name:"bar",defaults:function($super){var t=l.extend($super(),{gapSize:.05,unstack:!1,opacity:1});return delete t.tension,t},initialize:function($super,t){t=t||{},this.gapSize=t.gapSize||this.gapSize,$super(t)},domain:function($super){var t=$super(),e=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return t.x[1]+=Number(e.magnitude),t},barWidth:function(t){var e=this._frequentInterval(t.stack);return this.graph.x.magnitude(e.magnitude)*(1-this.gapSize)},render:function(t){t=t||{};var n=this.graph,e=t.series||n.series,i=t.vis||n.vis;i.selectAll("*").remove();var r=this.barWidth(e.active()[0]),a=0,o=e.filter(function(t){return!t.disabled}).length,s=this.unstack?r/o:r,l=function(t){return"matrix("+[1,0,0,t.y<0?-1:1,0,t.y<0?2*n.y.magnitude(Math.abs(t.y)):0].join(",")+")"};e.forEach(function(e){if(!e.disabled){this.barWidth(e);var t=i.selectAll("path").data(e.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return n.x(t.x)+a}).attr("y",function(t){return n.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",s).attr("height",function(t){return n.y.magnitude(Math.abs(t.y))}).attr("opacity",e.opacity).attr("transform",l);Array.prototype.forEach.call(t[0],function(t){t.setAttribute("fill",e.color)}),this.unstack&&(a+=s)}},this)},_frequentInterval:function(t){for(var e={},n=0;n<t.length-1;n++){var i=t[n+1].x-t[n].x;e[i]=e[i]||0,e[i]++}var r={count:0,magnitude:1};return l.keys(e).sort(function(t,e){return Number(t)-Number(e)}).forEach(function(t){r.count<e[t]&&(r={count:e[t],magnitude:t})}),r}}),l.namespace("Rickshaw.Graph.Renderer.Area"),l.Graph.Renderer.Area=l.Class.create(l.Graph.Renderer,{name:"area",defaults:function($super){return l.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var e=this.graph,t=x.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return t.defined&&t.defined(function(t){return null!==t.y}),t},seriesStrokeFactory:function(){var e=this.graph,t=x.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return t.defined&&t.defined(function(t){return null!==t.y}),t},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.unstack?"append":"insert",a=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=i.selectAll("path").data(a).enter()[r]("svg:g","g");o.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&o.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var s=0;n.forEach(function(t){t.disabled||(t.path=o[0][s++],this._styleSeries(t))},this)},_styleSeries:function(t){t.path&&(x.select(t.path).select(".area").attr("fill",t.color),this.stroke&&x.select(t.path).select(".line").attr("fill","none").attr("stroke",t.stroke||x.interpolateRgb(t.color,"black")(.125)).attr("stroke-width",this.strokeWidth),t.className&&t.path.setAttribute("class",t.className))}}),l.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),l.Graph.Renderer.ScatterPlot=l.Class.create(l.Graph.Renderer,{name:"scatterplot",defaults:function($super){return l.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,t){$super(t)},render:function(t){t=t||{};var i=this.graph,e=t.series||i.series,r=t.vis||i.vis,a=this.dotSize;r.selectAll("*").remove(),e.forEach(function(e){if(!e.disabled){var n=e.opacity?e.opacity:1,t=r.selectAll("path").data(e.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return i.x(t.x)}).attr("cy",function(t){return i.y(t.y)}).attr("r",function(t){return"r"in t?t.r:a}).attr("opacity",function(t){return"opacity"in t?t.opacity:n});e.className&&t.classed(e.className,!0),Array.prototype.forEach.call(t[0],function(t){t.setAttribute("fill",e.color)})}},this)}}),l.namespace("Rickshaw.Graph.Renderer.Multi"),l.Graph.Renderer.Multi=l.Class.create(l.Graph.Renderer,{name:"multi",initialize:function($super,t){$super(t)},defaults:function($super){return l.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,t){t=t||{},$super(this.config=t)},domain:function($super){this.graph.stackData();var i=[],t=this._groups();return this._stack(t),t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(e.length){var n=null;n=t.renderer&&t.renderer.domain?t.renderer.domain(e):$super(e),i.push(n)}}),{x:[x.min(i.map(function(t){return t.x[0]})),x.max(i.map(function(t){return t.x[1]}))],y:[x.min(i.map(function(t){return t.y[0]})),x.max(i.map(function(t){return t.y[1]}))]}},_groups:function(){var a=this.graph,o={};a.series.forEach(function(t){if(!t.disabled){if(!o[t.renderer]){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"g");a.vis[0][0].appendChild(n);var i=a._renderers[t.renderer],r={};[this.defaults(),i.defaults(),this.config,this.graph].forEach(function(t){l.extend(r,t)}),i.configure(r),o[t.renderer]={renderer:i,series:[],vis:x.select(n)}}o[t.renderer].series.push(t)}},this);var n=[];return Object.keys(o).forEach(function(t){var e=o[t];n.push(e)}),n},_stack:function(t){return t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled}),n=e.map(function(t){return t.stack});if(!t.renderer.unstack){var i=x.layout.stack(),r=l.clone(i(n));e.forEach(function(t,e){t._stack=l.clone(r[e])})}},this),t},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();(t=this._stack(t)).forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),l.namespace("Rickshaw.Graph.Renderer.LinePlot"),l.Graph.Renderer.LinePlot=l.Class.create(l.Graph.Renderer,{name:"lineplot",defaults:function($super){return l.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var e=this.graph,t=x.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return t.defined&&t.defined(function(t){return null!==t.y}),t},render:function(t){t=t||{};var n=this.graph,e=t.series||n.series,i=t.vis||n.vis,r=this.dotSize;i.selectAll("*").remove();var a=e.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=i.selectAll("path").data(a).enter().append("svg:path").attr("d",this.seriesPathFactory()),s=0;e.forEach(function(t){t.disabled||(t.path=o[0][s++],this._styleSeries(t))},this),e.forEach(function(e){if(!e.disabled){var t=i.selectAll("x").data(e.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return n.x(t.x)}).attr("cy",function(t){return n.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});Array.prototype.forEach.call(t[0],function(t){t&&(t.setAttribute("data-color",e.color),t.setAttribute("fill","white"),t.setAttribute("stroke",e.color),t.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),l.namespace("Rickshaw.Graph.Smoother"),l.Graph.Smoother=l.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var n=this,t=jQuery;this.element&&t(function(){t(n.element).slider({min:1,max:100,slide:function(t,e){n.setScale(e.value)}})})},setScale:function(t){if(t<1)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var a=[];return t.forEach(function(t){for(var e=[];t.length;){var n=0,i=0,r=t.splice(0,this.aggregationScale);r.forEach(function(t){n+=t.x/r.length,i+=t.y/r.length}),e.push({x:n,y:i})}a.push(e)}.bind(this)),a}}),l.namespace("Rickshaw.Graph.Socketio"),l.Graph.Socketio=l.Class.create(l.Graph.Ajax,{request:function(){var t=io.connect(this.dataURL),e=this;t.on("rickshaw",function(t){e.success(t)})}}),l.namespace("Rickshaw.Series"),l.Series=l.Class.create(Array,{initialize:function(t,e,n){n=n||{},this.palette=new l.Color.Palette(e),this.timeBase="undefined"==typeof n.timeBase?Math.floor((new Date).getTime()/1e3):n.timeBase;var i="undefined"==typeof n.timeInterval?1e3:n.timeInterval;this.setTimeInterval(i),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(e){if("undefined"==typeof e.name)throw"addItem() needs a name";e.color=e.color||this.palette.color(e.name),e.data=e.data||[],0===e.data.length&&this.length&&0<this.getIndex()?this[0].data.forEach(function(t){e.data.push({x:t.x,y:0})}):0===e.data.length&&e.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(e),this.legend&&this.legend.addLine(this.itemByName(e.name))},addData:function(e,n){var i=this.getIndex();l.keys(e).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(t){t.data.push({x:n||(i*this.timeInterval||1)+this.timeBase,y:e[t.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var n={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(t){var e={color:t.color,name:t.name,data:[]};t.data.forEach(function(t){e.data.push({x:t.x,y:t.y})}),n.items.push(e)}),n},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),l.Series.zeroFill=function(t){l.Series.fill(t,0)},l.Series.fill=function(t,e){for(var n,i=0,r=t.map(function(t){return t.data});i<Math.max.apply(null,r.map(function(t){return t.length}));)n=Math.min.apply(null,r.filter(function(t){return t[i]}).map(function(t){return t[i].x})),r.forEach(function(t){t[i]&&t[i].x==n||t.splice(i,0,{x:n,y:e})}),i++},l.namespace("Rickshaw.Series.FixedDuration"),l.Series.FixedDuration=l.Class.create(l.Series,{initialize:function(t,e,n){if("undefined"==typeof(n=n||{}).timeInterval)throw new Error("FixedDuration series requires timeInterval");if("undefined"==typeof n.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new l.Color.Palette(e),this.timeBase="undefined"==typeof n.timeBase?Math.floor((new Date).getTime()/1e3):n.timeBase,this.setTimeInterval(n.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=n.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,"undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var i=this.maxDataPoints-this.currentSize-1;1<i;i--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((i-1)*this.timeInterval||1)+this.timeBase,y:0,i:i})},this)},addData:function($super,t,e){if($super(t,e),this.currentSize+=1,this.currentIndex+=1,this.maxDataPoints!==undefined)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),l}),function(t){"object"==typeof exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(u){"use strict";var n={},c=Math.max,f=Math.min;n.c={},n.c.d=u(document),n.c.t=function(t){return t.originalEvent.touches.length-1},n.o=function(){var i=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var t=function(t,e){var n;for(n in e)i.o[n]=e[n];i._carve().init(),i._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=u.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:(!0===this.$.data("cursor")?30:this.$.data("cursor"))||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var n=u(this);i.i[e]=n,i.v[e]=i.o.parse(n.val()),n.bind("change blur",function(){var t={};t[e]=n.val(),i.val(i._validate(t))})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){i.val(i._validate(i.o.parse(i.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=u(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=u('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;i.g=i.c,i.clear(),i.dH&&(t=i.dH()),!1!==t&&i.draw()},this._touch=function(t){var e=function(t){var e=i.xy2val(t.originalEvent.touches[i.t].pageX,t.originalEvent.touches[i.t].pageY);e!=i.cv&&(i.cH&&!1===i.cH(e)||(i.change(i._validate(e)),i._draw()))};return this.t=n.c.t(t),e(t),n.c.d.bind("touchmove.k",e).bind("touchend.k",function(){n.c.d.unbind("touchmove.k touchend.k"),i.val(i.cv)}),this},this._mouse=function(t){var e=function(t){var e=i.xy2val(t.pageX,t.pageY);e!=i.cv&&(i.cH&&!1===i.cH(e)||(i.change(i._validate(e)),i._draw()))};return e(t),n.c.d.bind("mousemove.k",e).bind("keyup.k",function(t){if(27===t.keyCode){if(n.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&!1===i.eH())return;i.cancel()}}).bind("mouseup.k",function(){n.c.d.unbind("mousemove.k mouseup.k keyup.k"),i.val(i.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),i._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),i._xy()._touch(t)}),this.listen()),this.relative&&u(window).resize(function(){i._carve().init(),i._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){var e=~~((t<0?-.5:.5)+t/this.o.step)*this.o.step;return Math.round(100*e)/100},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(){},this.val=function(){},this.xy2val=function(){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var n;return t=t.substring(1,7),"rgba("+(n=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)])[0]+","+n[1]+","+n[2]+","+e+")"},this.copy=function(t,e){for(var n in t)e[n]=t[n]}},n.Dial=function(){n.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=u.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){if(null==t)return this.v;t=this.o.parse(t),!1!==e&&t!=this.v&&this.rH&&!1===this.rH(t)||(this.cv=this.o.stopper?c(f(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(t,e){var n,i;return n=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(n=this.angleArc-n-this.PI2),this.angleArc!=this.PI2&&n<0&&-.5<n?n=0:n<0&&(n+=this.PI2),i=n*(this.o.max-this.o.min)/this.angleArc+this.o.min,this.o.stopper&&(i=c(f(i,this.o.max),this.o.min)),i},this.listen=function(){var a,o,i,r,s=this,t=function(t){t.preventDefault();var e=t.originalEvent,n=e.detail||e.wheelDeltaX,i=e.detail||e.wheelDeltaY,r=s._validate(s.o.parse(s.$.val()))+(0<n||0<i?s.o.step:n<0||i<0?-s.o.step:0);r=c(f(r,s.o.max),s.o.min),s.val(r,!1),s.rH&&(clearTimeout(a),a=setTimeout(function(){s.rH(r),a=null},100),o||(o=setTimeout(function(){a&&s.rH(r),o=null},200)))},l=1,h={37:-s.o.step,38:s.o.step,39:s.o.step,40:-s.o.step};this.$.bind("keydown",function(t){var e=t.keyCode;if(96<=e&&e<=105&&(e=t.keyCode=e-48),i=parseInt(String.fromCharCode(e)),isNaN(i)&&(13!==e&&8!==e&&9!==e&&189!==e&&(190!==e||s.$.val().match(/\./))&&t.preventDefault(),-1<u.inArray(e,[37,38,39,40]))){t.preventDefault();var n=s.o.parse(s.$.val())+h[e]*l;s.o.stopper&&(n=c(f(n,s.o.max),s.o.min)),s.change(s._validate(n)),s._draw(),r=window.setTimeout(function(){l*=2},30)}}).bind("keyup",function(){isNaN(i)?r&&(window.clearTimeout(r),r=null,l=1,s.val(s.$.val())):s.$.val()>s.o.max&&s.$.val(s.o.max)||s.$.val()<s.o.min&&s.$.val(s.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",t),this.$.bind("mousewheel DOMMouseScroll",t)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=c(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,n;return t=this.angle(t),n=this.o.flip?(e=this.endAngle+1e-5)-t-1e-5:(e=this.startAngle-1e-5)+t+1e-5,this.o.cursor&&(e=n-this.cursorExt)&&(n+=this.cursorExt),{s:e,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,n=this.arc(this.cv),i=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,"none"!==this.o.bgColor&&(e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke()),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),i=this.cv==this.v),e.beginPath(),e.strokeStyle=i?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),e.stroke()},this.cancel=function(){this.val(this.v)}},u.fn.dial=u.fn.knob=function(e){return this.each(function(){var t=new n.Dial;t.o=e,t.$=u(this),t.run()}).parent()}}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(n){var o=function(t,o){var n,e=document.createElement("canvas");t.appendChild(e),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e);var r=e.getContext("2d");e.width=e.height=o.size;var i=1;1<window.devicePixelRatio&&(i=window.devicePixelRatio,e.style.width=e.style.height=[o.size,"px"].join(""),e.width=e.height=o.size*i,r.scale(i,i)),r.translate(o.size/2,o.size/2),r.rotate((o.rotate/180-.5)*Math.PI);var a=(o.size-o.lineWidth)/2;o.scaleColor&&o.scaleLength&&(a-=o.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(t,e,n){var i=(n=Math.min(Math.max(-1,n||0),1))<=0;r.beginPath(),r.arc(0,0,a,0,2*Math.PI*n,i),r.strokeStyle=t,r.lineWidth=e,r.stroke()},l=function(){var t,e;r.lineWidth=1,r.fillStyle=o.scaleColor,r.save();for(var n=24;0<n;--n)n%6==0?(e=o.scaleLength,t=0):(e=.6*o.scaleLength,t=o.scaleLength-e),r.fillRect(-o.size/2+t,0,e,1),r.rotate(Math.PI/12);r.restore()},h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},u=function(){o.scaleColor&&l(),o.trackColor&&s(o.trackColor,o.trackWidth||o.lineWidth,1)};this.getCanvas=function(){return e},this.getCtx=function(){return r},this.clear=function(){r.clearRect(o.size/-2,o.size/-2,o.size,o.size)},this.draw=function(t){var e;o.scaleColor||o.trackColor?r.getImageData&&r.putImageData?n?r.putImageData(n,0,0):(u(),n=r.getImageData(0,0,o.size*i,o.size*i)):(this.clear(),u()):this.clear(),r.lineCap=o.lineCap,e="function"==typeof o.barColor?o.barColor(t):o.barColor,s(e,o.lineWidth,t/100)}.bind(this),this.animate=function(n,i){var r=Date.now();o.onStart(n,i);var a=function(){var t=Math.min(Date.now()-r,o.animate.duration),e=o.easing(this,t,n,i-n,o.animate.duration);this.draw(e),o.onStep(n,i,e),t>=o.animate.duration?o.onStop(n,i):h(a)}.bind(this);h(a)}.bind(this)},i=function(e,n){var i={
barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},onStart:function(){},onStep:function(){},onStop:function(){}};if(void 0!==o)i.renderer=o;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");i.renderer=SVGRenderer}var r={},a=0,t=function(){for(var t in this.el=e,this.options=r,i)i.hasOwnProperty(t)&&(r[t]=n&&"undefined"!=typeof n[t]?n[t]:i[t],"function"==typeof r[t]&&(r[t]=r[t].bind(this)));"string"==typeof r.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[r.easing])?r.easing=jQuery.easing[r.easing]:r.easing=i.easing,"number"==typeof r.animate&&(r.animate={duration:r.animate,enabled:!0}),"boolean"!=typeof r.animate||r.animate||(r.animate={duration:1e3,enabled:r.animate}),this.renderer=new r.renderer(e,r),this.renderer.draw(a),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),r.animate.enabled?this.renderer.animate(a,t):this.renderer.draw(t),a=t,this}.bind(this),this.disableAnimation=function(){return r.animate.enabled=!1,this},this.enableAnimation=function(){return r.animate.enabled=!0,this},t()};n.fn.easyPieChart=function(e){return this.each(function(){var t;n.data(this,"easyPieChart")||(t=n.extend({},e,n(this).data()),n.data(this,"easyPieChart",new i(this,t)))})}});